<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    		<meta name="keywords" content="User:Arch119:BooksToBuy" />
		<link rel="shortcut icon" href="/favicon.ico" />
		<link rel="search" type="application/opensearchdescription+xml" href="/w/opensearch_desc.php" title="Wikipedia (English)" />
		<link rel="copyright" href="../../../COPYING.html" />
    <title>User:Arch119:BooksToBuy - Wikipedia, the free encyclopedia</title>
    <style type="text/css">/*<![CDATA[*/ @import "../../../skins/htmldump/main.css"; /*]]>*/</style>
    <link rel="stylesheet" type="text/css" media="print" href="../../../skins/common/commonPrint.css" />
    <!--[if lt IE 5.5000]><style type="text/css">@import "../../../skins/monobook/IE50Fixes.css";</style><![endif]-->
    <!--[if IE 5.5000]><style type="text/css">@import "../../../skins/monobook/IE55Fixes.css";</style><![endif]-->
    <!--[if IE 6]><style type="text/css">@import "../../../skins/monobook/IE60Fixes.css";</style><![endif]-->
    <!--[if IE]><script type="text/javascript" src="../../../skins/common/IEFixes.js"></script>
    <meta http-equiv="imagetoolbar" content="no" /><![endif]-->
    <script type="text/javascript" src="../../../skins/common/wikibits.js"></script>
    <script type="text/javascript" src="../../../skins/htmldump/md5.js"></script>
    <script type="text/javascript" src="../../../skins/htmldump/utf8.js"></script>
    <script type="text/javascript" src="../../../skins/htmldump/lookup.js"></script>
    <script type="text/javascript" src="../../../raw/gen.js"></script>        <style type="text/css">/*<![CDATA[*/
@import "../../../raw/MediaWiki%7ECommon.css";
@import "../../../raw/MediaWiki%7EMonobook.css";
@import "../../../raw/gen.css";
/*]]>*/</style>          </head>
  <body
    class="ns-2">
    <div id="globalWrapper">
      <div id="column-content">
	<div id="content">
	  <a name="top" id="contentTop"></a>
	        <h1 class="firstHeading">User:Arch119:BooksToBuy</h1>
	  <div id="bodyContent">
	    <h3 id="siteSub">From Wikipedia, the free encyclopedia</h3>
	    <div id="contentSub"></div>
	    	    <div class="usermessage">You have <a href="../../../1/2/7/User_talk%7E127.0.0.1.html" title="User talk:127.0.0.1">new messages</a> (<a href="../../../1/2/7/User_talk%7E127.0.0.1.html" title="User talk:127.0.0.1">last change</a>).</div>	    <!-- start content -->
	    <ul>
<li><a href="http://www.amazon.co.jp/exec/obidos/ASIN/0844259837/" class="external text" title="http://www.amazon.co.jp/exec/obidos/ASIN/0844259837/" rel="nofollow">Writing at Work: Professional Writing Skills for People on the Job</a></li>
</ul>
<pre>
using System;
using System.Text.RegularExpressions;
namespace testNamespace {

        class test {
                
                public static void Main() {
                        // Add your code here
        /*              System.Console.WriteLine("Hello");
                        System.Console.WriteLine(isValidDate(26,5,2008));
                        System.Console.WriteLine(isValidDate(29,2,2006));
                        System.Console.WriteLine(isValidDate(31,6,2006));
                        
                        System.Console.WriteLine(convertStringToYear("'06"));
                        System.Console.WriteLine(convertStringToYear("0899"));
                        System.Console.WriteLine(convertStringToYear("0909hello"));             
                        
                        System.Console.WriteLine(convertDayStrToInt("12th"));
                        System.Console.WriteLine(convertDayStrToInt("11"));
                        System.Console.WriteLine(convertDayStrToInt("45nd"));
                        System.Console.WriteLine(convertDayStrToInt("0"));                      
                        
                                System.Console.WriteLine(convertMonthStrToInt("JAN"));
                                System.Console.WriteLine(convertMonthStrToInt("12"));
                                System.Console.WriteLine(convertMonthStrToInt("Mar"));
                                System.Console.WriteLine(convertMonthStrToInt("apr"));
                                System.Console.WriteLine(convertMonthStrToInt("december"));*/
                                
                        System.Console.WriteLine(isValidDate("jan 11th,2006"));
                        System.Console.WriteLine(isValidDate("5/6/2006"));
                        System.Console.WriteLine(isValidDate("12 7 2998"));
                        System.Console.WriteLine(isValidDate("january 31 '07"));
                                
                }
                
                /**
                Given any 3 integers (day,mon,year), this method returns true if they constitute
                a valid date.
                */
                private static bool isValidDate(int day, int month, int year){
                int[] daysInMonth = {31,28,31,30,31,30,31,31,30,31,30,31}; //normal year
                
                //validate month
                if(month &lt;1 || month &gt;12)
                        return false;
                        
                //validate year
                if(year &lt; 0)
                        return false;
        
                //Modify daysInMonth for leap years
                if(isLeapYear(year))
                        daysInMonth[1] = 29;    //february
                        
                //validate day
                if(day&lt;1 || day&gt;daysInMonth[month-1])
                        return false;
                        
                return true;
                
                }
                
                /**
                        Check if the given integer is a leap year.
                        A given year is a leap year if and only if any of the following conditions hold
                        1) It is divisible by 4 but not by 100
                        2) It is divisible by 4 and 100 and also by 400
                        
                        e.g. 1900 is not a leap year although it is divisible by 4 (because it is divisible by 100)
                        However, 2000 is a leap year even though it is divisible both by 4 and 100 because it is
                        also divisible by 400.
                */
                private static bool isLeapYear(int year){
                if(year &lt; 0)
                        return false;
                return (year%4==0)?((year%100==0)?((year%400==0)?true:false):true):false;
                }
                
                
        /* Takes a string and validates it.
           This function expects date strings of the form:
           &lt;monthstring&gt;&lt;seperator&gt;&lt;daystring&gt;&lt;seperator&gt;&lt;yearstring&gt;
           &lt;seperator&gt; is any of ' ','/',',',':'
           &lt;monthstring&gt; can be month in numeral form or English words such as january , february or their 
                                        abbreviated form.
           &lt;daystring&gt; can be in numeral form or in adjective form : 1st, 2nd, 24th etc
           &lt;yearstring&gt; can be in numeral form or in short form e.g. '09 etc
        */
        private static bool isValidDate(string str)
        {
                string delimStr = " :/,";
                char [] delimiter = delimStr.ToCharArray();
                string [] split = str.Split(delimiter);
                
                /*for(int i=0;i&lt;split.Length;i++)
                        System.Console.Write(split[i]+" ");
                        */
                
                int month,day,year;
            try{
                month = convertMonthStrToInt(split[0]);
                day = convertDayStrToInt(split[1]);
                year = convertYearStrToInt(split[2]);
                
            }catch(Exception e){
                return false;
            }
            
            return isValidDate(day,month,year);

        
        }
        /*
                Accepts string of the form January,February, ......, December or 
                        Jan, Feb, .....Dec or numbers and returns an int.
        */
        private static int convertMonthStrToInt(string str){
                string [] monthStrs = {"january", "february", "march", "april", "may" , "june",
                                                        "july", "august", "september", "october", "november", "december"};
                                                        
                //First check if the given string is in numeral form
        Regex numForm = new Regex("^0*(?&lt;month&gt;\\d+)$");
        Match m = numForm.Match(str);
        string numeralPart;
        
        if(m.Success){
                numeralPart = m.Groups["month"].ToString();
                return Convert.ToInt32(numeralPart);    
        }
        
        //If str is not in numeral form then it should either be english words for month or their 
        // short forms (prefixes)
        string strLowerCase = str.ToLower();
        for(int i=0;i&lt;monthStrs.Length;i++)
        {
                if(monthStrs[i].StartsWith(strLowerCase))
                        return (i+1);
        
        }
        
        throw new Exception("Invalid Month Format");
        
        }
        /*
         Expects strings which are either pure numbers or of the form 1st, 2nd, 23rd, 28th etc.
         We will excuse the user even if he enters strings such as 21nd, 31th etc because we all know 
         that English is a difficult language.
        */
        private static int convertDayStrToInt(string str)
        {
                string numeralPart;
                string numFormStr = "0*(?&lt;day&gt;\\d+)";
                Regex numForm = new Regex("^"+numFormStr+"$");
                Match m;
                
                m = numForm.Match(str);
                
                if(m.Success)
                {
                        numeralPart = m.Groups["day"].ToString();
                        return Convert.ToInt32(numeralPart);
                }
                
                Regex longForm = new Regex("^"+numFormStr+"(st|nd|rd|th)$");
                m = longForm.Match(str);
                if(m.Success)
                {
                        numeralPart = m.Groups["day"].ToString();
                        return Convert.ToInt32(numeralPart);
                }
                
                throw new Exception("Invalid day Format");
                
        }
                
        /**
                Expects Strings of the form : 'Y{2}  or Y{1,n} and return it as int
        */
        private static int convertYearStrToInt(string str)
        {
                string centuryPrefix = "20";
                string completeYearStr;
                Regex shortForm = new Regex("^'(?&lt;year&gt;\\d{2})$");
                Match m;
                
                //Check if str is of form 'YY
                m = shortForm.Match(str);
                if(m.Success)
                {
                        completeYearStr = centuryPrefix + m.Groups["year"].ToString();
                        return Convert.ToInt32(completeYearStr);
                }
                
                //Now it must be of the numeric form
                //ignore preceding zeros. We assume a user doesn't know octal number system
                //or is sane enough not to use it to represent a year.
                Regex normalForm = new Regex("^0*(?&lt;year&gt;\\d+)$"); 
                
                m = normalForm.Match(str);
                if(m.Success)
                {
                        completeYearStr = m.Groups["year"].ToString();
                        return Convert.ToInt32(completeYearStr);
                }else
                {
                        throw new Exception("Invalid Year Format");
                }
        }
        
        
        }
        
        

        

}
</pre>
<div class="printfooter">
Retrieved from "<a href="http://en.wikipedia.org../../../a/r/c/User%7EArch119%7EBooksToBuy_2a47.html">http://en.wikipedia.org../../../a/r/c/User%7EArch119%7EBooksToBuy_2a47.html</a>"</div>
	    	    <!-- end content -->
	    <div class="visualClear"></div>
	  </div>
	</div>
      </div>
      <div id="column-one">
	<div id="p-cactions" class="portlet">
	  <h5>Views</h5>
	  <ul>
	    <li id="ca-nstab-user"
	       class="selected"	       ><a href="../../../a/r/c/User%7EArch119%7EBooksToBuy_2a47.html">User page</a></li><li id="ca-talk"
	       class="new"	       ><a href="../../../a/r/c/User_talk%7EArch119%7EBooksToBuy_a5f1.html">Discussion</a></li><li id="ca-current"
	       	       ><a href="http://en.wikipedia.org/wiki/User:Arch119:BooksToBuy">Current revision</a></li>	  </ul>
	</div>
	<div class="portlet" id="p-logo">
	  <a style="background-image: url(../../../images/wiki-en.png);"
	    href="../../../index.html"
	    title="Main Page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
		<div class='portlet' id='p-navigation'>
	  <h5>Navigation</h5>
	  <div class='pBody'>
	    <ul>
	    	      <li id="n-Main-page"><a href="../../../index.html">Main page</a></li>
	     	      <li id="n-Contents"><a href="../../../c/o/n/Wikipedia%7EContents_3181.html">Contents</a></li>
	     	      <li id="n-Featured-content"><a href="../../../f/e/a/Wikipedia%7EFeatured_content_24ba.html">Featured content</a></li>
	     	      <li id="n-currentevents"><a href="../../../c/u/r/Portal%7ECurrent_events_bb60.html">Current events</a></li>
	     	    </ul>
	  </div>
	</div>
		<div class='portlet' id='p-interaction'>
	  <h5>interaction</h5>
	  <div class='pBody'>
	    <ul>
	    	      <li id="n-About-Wikipedia"><a href="../../../a/b/o/Wikipedia%7EAbout_8d82.html">About Wikipedia</a></li>
	     	      <li id="n-portal"><a href="../../../c/o/m/Wikipedia%7ECommunity_Portal_6a3c.html">Community portal</a></li>
	     	      <li id="n-contact"><a href="../../../c/o/n/Wikipedia%7EContact_us_afd6.html">Contact us</a></li>
	     	      <li id="n-sitesupport"><a href="http://wikimediafoundation.org/wiki/Fundraising">Make a donation</a></li>
	     	      <li id="n-help"><a href="../../../c/o/n/Help%7EContents_22de.html">Help</a></li>
	     	    </ul>
	  </div>
	</div>
		<div id="p-search" class="portlet">
	  <h5><label for="searchInput">Search</label></h5>
	  <div id="searchBody" class="pBody">
	    <form action="javascript:goToStatic(3)" id="searchform"><div>
	      <input id="searchInput" name="search" type="text"
	        accesskey="f" value="" />
	      <input type='submit' name="go" class="searchButton" id="searchGoButton"
	        value="Go" />
	    </div></form>
	  </div>
	</div>
	      </div><!-- end of the left (by default at least) column -->
      <div class="visualClear"></div>
      <div id="footer">
    <div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="../../../skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" /></a></div>	<div id="f-copyrightico"><a href="http://wikimediafoundation.org/"><img src="../../../images/wikimedia-button.png" border="0" alt="Wikimedia Foundation"/></a></div>	<ul id="f-list">
	  	  	  <li id="f-credits">This page was last modified 03:53, 5 September 2006 by Anonymous user(s) of Wikipedia. Based on work by Wikipedia user(s) <a href="../../../k/e/v/User%7EKevin_Breitenstein_8775.html" title="User:Kevin Breitenstein">Kevin Breitenstein</a> and <a href="../../../a/r/c/User%7EArch119_d032.html" title="User:Arch119">Arch119</a>.</li>	  <li id="f-copyright">All text is available under the terms of the <a class='internal' href="../../../t/e/x/Wikipedia%7EText_of_the_GNU_Free_Documentation_License_702a.html" title="Wikipedia:Text of the GNU Free Documentation License">GNU Free Documentation License</a>. (See <b><a class='internal' href="../../../c/o/p/Wikipedia%7ECopyrights_92c4.html" title="Wikipedia:Copyrights">Copyrights</a></b> for details.) <br /> Wikipedia&reg; is a registered trademark of the <a href="http://www.wikimediafoundation.org">Wikimedia Foundation, Inc</a>., a US-registered <a class='internal' href="../../../5/0/1/501%28c%29.html#501.28c.29.283.29" title="501(c)(3)">501(c)(3)</a> <a href="http://wikimediafoundation.org/wiki/Deductibility_of_donations">tax-deductible</a> <a class='internal' href="../../../n/o/n/Non-profit_organization.html" title="Non-profit organization">nonprofit</a> <a href="../../../c/h/a/Charitable_organization.html" title="Charitable organization">charity</a>.<br /></li>	  <li id="f-about"><a href="../../../a/b/o/Wikipedia%7EAbout_8d82.html" title="Wikipedia:About">About Wikipedia</a></li>	  <li id="f-disclaimer"><a href="../../../g/e/n/Wikipedia%7EGeneral_disclaimer_3e44.html" title="Wikipedia:General disclaimer">Disclaimers</a></li>	  	</ul>
      </div>
    </div>
  </body>
</html>
