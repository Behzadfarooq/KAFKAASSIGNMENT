<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    		<meta name="keywords" content="Template talk:Archive header,Freshgavin,172.166.213.97,Freshgavin" />
		<link rel="shortcut icon" href="/favicon.ico" />
		<link rel="search" type="application/opensearchdescription+xml" href="/w/opensearch_desc.php" title="Wikipedia (English)" />
		<link rel="copyright" href="../../../COPYING.html" />
    <title>Template talk:Archive header - Wikipedia, the free encyclopedia</title>
    <style type="text/css">/*<![CDATA[*/ @import "../../../skins/htmldump/main.css"; /*]]>*/</style>
    <link rel="stylesheet" type="text/css" media="print" href="../../../skins/common/commonPrint.css" />
    <!--[if lt IE 5.5000]><style type="text/css">@import "../../../skins/monobook/IE50Fixes.css";</style><![endif]-->
    <!--[if IE 5.5000]><style type="text/css">@import "../../../skins/monobook/IE55Fixes.css";</style><![endif]-->
    <!--[if IE 6]><style type="text/css">@import "../../../skins/monobook/IE60Fixes.css";</style><![endif]-->
    <!--[if IE]><script type="text/javascript" src="../../../skins/common/IEFixes.js"></script>
    <meta http-equiv="imagetoolbar" content="no" /><![endif]-->
    <script type="text/javascript" src="../../../skins/common/wikibits.js"></script>
    <script type="text/javascript" src="../../../skins/htmldump/md5.js"></script>
    <script type="text/javascript" src="../../../skins/htmldump/utf8.js"></script>
    <script type="text/javascript" src="../../../skins/htmldump/lookup.js"></script>
    <script type="text/javascript" src="../../../raw/gen.js"></script>        <style type="text/css">/*<![CDATA[*/
@import "../../../raw/MediaWiki%7ECommon.css";
@import "../../../raw/MediaWiki%7EMonobook.css";
@import "../../../raw/gen.css";
/*]]>*/</style>          </head>
  <body
    class="ns-11">
    <div id="globalWrapper">
      <div id="column-content">
	<div id="content">
	  <a name="top" id="contentTop"></a>
	        <h1 class="firstHeading">Template talk:Archive header</h1>
	  <div id="bodyContent">
	    <h3 id="siteSub">From Wikipedia, the free encyclopedia</h3>
	    <div id="contentSub"></div>
	    	    <div class="usermessage">You have <a href="../../../1/2/7/User_talk%7E127.0.0.1.html" title="User talk:127.0.0.1">new messages</a> (<a href="../../../1/2/7/User_talk%7E127.0.0.1.html" title="User talk:127.0.0.1">last change</a>).</div>	    <!-- start content -->
	    <table id="toc" class="toc" summary="Contents">
<tr>
<td>
<div id="toctitle">
<h2>Contents</h2>
</div>
<ul>
<li class="toclevel-1"><a href="#Usage"><span class="tocnumber">1</span> <span class="toctext">Usage</span></a></li>
<li class="toclevel-1"><a href="#Bug"><span class="tocnumber">2</span> <span class="toctext">Bug</span></a></li>
<li class="toclevel-1"><a href="#Transclusion"><span class="tocnumber">3</span> <span class="toctext">Transclusion</span></a></li>
<li class="toclevel-1"><a href="#Bug_fix"><span class="tocnumber">4</span> <span class="toctext">Bug fix</span></a></li>
<li class="toclevel-1"><a href="#New_Bug_Fix"><span class="tocnumber">5</span> <span class="toctext">New Bug Fix</span></a></li>
</ul>
</td>
</tr>
</table>
<p><script type="text/javascript">
//<![CDATA[
 if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } 
//]]>
</script><a name="Usage" id="Usage"></a></p>
<h2><span class="editsection">[<a href="../../../a/r/c/Template_talk%7EArchive_header_b06b.html" title="Edit section: Usage">edit</a>]</span> <span class="mw-headline">Usage</span></h2>
<pre>
&lt;noinclude&gt;
{{subst:Archive header
|dateNumeral = 
|monthFull =
|deskType =
}}
&lt;/noinclude&gt;
</pre>
<p><a name="Bug" id="Bug"></a></p>
<h2><span class="editsection">[<a href="../../../a/r/c/Template_talk%7EArchive_header_b06b.html" title="Edit section: Bug">edit</a>]</span> <span class="mw-headline">Bug</span></h2>
<p>FYI If this template copied the exact date math from Template:Reference desk navigation it's going to be subject to the same currentyear glitch as the older template--172.166.213.97 21:09, 10 October 2006 (UTC)</p>
<p><a name="Transclusion" id="Transclusion"></a></p>
<h2><span class="editsection">[<a href="../../../a/r/c/Template_talk%7EArchive_header_b06b.html" title="Edit section: Transclusion">edit</a>]</span> <span class="mw-headline">Transclusion</span></h2>
<p>The header will now point to the current desk when it determines that there is no existing archive page newer than itself. This is because when editing live transclusion pages, you could only move foward to 2 days before the current date. Now you can move forward to the current date. <a href="../../../f/r/e/User%7EFreshgavin_9ad7.html" title="User:Freshgavin"><font size="-2" color="white" style="background:blue"> freshofftheufo</font></a><a href="../../../f/r/e/User_talk%7EFreshgavin_46e9.html" title="User talk:Freshgavin"><font size="-2" color="blue">ΓΛĿЌ </font></a> 01:32, 27 October 2006 (UTC)</p>
<p><a name="Bug_fix" id="Bug_fix"></a></p>
<h2><span class="editsection">[<a href="../../../a/r/c/Template_talk%7EArchive_header_b06b.html" title="Edit section: Bug fix">edit</a>]</span> <span class="mw-headline">Bug fix</span></h2>
<p>I'm going to change the code of the NextMonth template to this:</p>
<pre>
{{#ifeq:{{CURRENTMONTH}}|1|{{#time:F|{{{2|August}}}+1 month}} {{CURRENTYEAR}}|{{#time:F Y|{{{2|August}}} {{{1|20}}}+1 month}}}}
</pre>
<p>and after that I'll do the same to the tomorrow templates as a fix to the problem when the year changes.</p>
<p>I'm pretty sure the code is sound, but I have a reputation for making silly coding mistakes so can someone just confirm that it's OK? The pseudo code would look like this:</p>
<pre>
if CURRENTMONTH is 1
 print calculateDate(month) + " " + CURRENTYEAR
else
 print calculateDate(month and year)
end if
</pre>
<p>This way, if the bot calculates NextMonth for January in December (it shouldn't), the #time function will automatically roll over to the next year (normal), and if it calculates NextMonth for January in January (it passes "December" as a parameter, so this is possible, and the bot <i>should</i> be doing this at 0:00), the year will default to CURRENTYEAR and won't roll over (added). I'm tired, I should only be attempting this with a clear head. <a href="../../../f/r/e/User%7EFreshgavin_9ad7.html" title="User:Freshgavin"><font size="-2" color="white" style="background:blue"> freshofftheufo</font></a><a href="../../../f/r/e/User_talk%7EFreshgavin_46e9.html" title="User talk:Freshgavin"><font size="-2" color="blue">ΓΛĿЌ </font></a> 08:57, 28 October 2006 (UTC)</p>
<p><a name="New_Bug_Fix" id="New_Bug_Fix"></a></p>
<h2><span class="editsection">[<a href="../../../a/r/c/Template_talk%7EArchive_header_b06b.html" title="Edit section: New Bug Fix">edit</a>]</span> <span class="mw-headline">New Bug Fix</span></h2>
<p>Sorry I kind of disappeared there without finishing off the fix before the new year. I still don't plan on being active for a while, but I just wanted to say thanks to VP and Martin and all for fixing up that mess that I really should have averted long ago. Later dudes. <a href="../../../f/r/e/User%7EFreshgavin_9ad7.html" title="User:Freshgavin"><font size="-2" color="white" style="background:blue"> freshofftheufo</font></a><a href="../../../f/r/e/User_talk%7EFreshgavin_46e9.html" title="User talk:Freshgavin"><font size="-2" color="blue">ΓΛĿЌ </font></a> 04:23, 15 January 2007 (UTC)</p>

<div class="printfooter">
Retrieved from "<a href="http://en.wikipedia.org../../../a/r/c/Template_talk%7EArchive_header_b06b.html">http://en.wikipedia.org../../../a/r/c/Template_talk%7EArchive_header_b06b.html</a>"</div>
	    	    <!-- end content -->
	    <div class="visualClear"></div>
	  </div>
	</div>
      </div>
      <div id="column-one">
	<div id="p-cactions" class="portlet">
	  <h5>Views</h5>
	  <ul>
	    <li id="ca-nstab-template"
	       	       ><a href="../../../a/r/c/Template%7EArchive_header_a141.html">Template</a></li><li id="ca-talk"
	       class="selected"	       ><a href="../../../a/r/c/Template_talk%7EArchive_header_b06b.html">Discussion</a></li><li id="ca-current"
	       	       ><a href="http://en.wikipedia.org/wiki/Template_talk:Archive_header">Current revision</a></li>	  </ul>
	</div>
	<div class="portlet" id="p-logo">
	  <a style="background-image: url(../../../images/wiki-en.png);"
	    href="../../../index.html"
	    title="Main Page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
		<div class='portlet' id='p-navigation'>
	  <h5>Navigation</h5>
	  <div class='pBody'>
	    <ul>
	    	      <li id="n-Main-page"><a href="../../../index.html">Main page</a></li>
	     	      <li id="n-Contents"><a href="../../../c/o/n/Wikipedia%7EContents_3181.html">Contents</a></li>
	     	      <li id="n-Featured-content"><a href="../../../f/e/a/Wikipedia%7EFeatured_content_24ba.html">Featured content</a></li>
	     	      <li id="n-currentevents"><a href="../../../c/u/r/Portal%7ECurrent_events_bb60.html">Current events</a></li>
	     	    </ul>
	  </div>
	</div>
		<div class='portlet' id='p-interaction'>
	  <h5>interaction</h5>
	  <div class='pBody'>
	    <ul>
	    	      <li id="n-About-Wikipedia"><a href="../../../a/b/o/Wikipedia%7EAbout_8d82.html">About Wikipedia</a></li>
	     	      <li id="n-portal"><a href="../../../c/o/m/Wikipedia%7ECommunity_Portal_6a3c.html">Community portal</a></li>
	     	      <li id="n-contact"><a href="../../../c/o/n/Wikipedia%7EContact_us_afd6.html">Contact us</a></li>
	     	      <li id="n-sitesupport"><a href="http://wikimediafoundation.org/wiki/Fundraising">Make a donation</a></li>
	     	      <li id="n-help"><a href="../../../c/o/n/Help%7EContents_22de.html">Help</a></li>
	     	    </ul>
	  </div>
	</div>
		<div id="p-search" class="portlet">
	  <h5><label for="searchInput">Search</label></h5>
	  <div id="searchBody" class="pBody">
	    <form action="javascript:goToStatic(3)" id="searchform"><div>
	      <input id="searchInput" name="search" type="text"
	        accesskey="f" value="" />
	      <input type='submit' name="go" class="searchButton" id="searchGoButton"
	        value="Go" />
	    </div></form>
	  </div>
	</div>
	      </div><!-- end of the left (by default at least) column -->
      <div class="visualClear"></div>
      <div id="footer">
    <div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="../../../skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" /></a></div>	<div id="f-copyrightico"><a href="http://wikimediafoundation.org/"><img src="../../../images/wikimedia-button.png" border="0" alt="Wikimedia Foundation"/></a></div>	<ul id="f-list">
	  	  	  <li id="f-credits">This page was last modified 04:23, 15 January 2007 by Wikipedia user <a href="../../../f/r/e/User%7EFreshgavin_9ad7.html" title="User:Freshgavin">Freshgavin</a>. Based on work by Anonymous user(s) of Wikipedia.</li>	  <li id="f-copyright">All text is available under the terms of the <a class='internal' href="../../../t/e/x/Wikipedia%7EText_of_the_GNU_Free_Documentation_License_702a.html" title="Wikipedia:Text of the GNU Free Documentation License">GNU Free Documentation License</a>. (See <b><a class='internal' href="../../../c/o/p/Wikipedia%7ECopyrights_92c4.html" title="Wikipedia:Copyrights">Copyrights</a></b> for details.) <br /> Wikipedia&reg; is a registered trademark of the <a href="http://www.wikimediafoundation.org">Wikimedia Foundation, Inc</a>., a US-registered <a class='internal' href="../../../5/0/1/501%28c%29.html#501.28c.29.283.29" title="501(c)(3)">501(c)(3)</a> <a href="http://wikimediafoundation.org/wiki/Deductibility_of_donations">tax-deductible</a> <a class='internal' href="../../../n/o/n/Non-profit_organization.html" title="Non-profit organization">nonprofit</a> <a href="../../../c/h/a/Charitable_organization.html" title="Charitable organization">charity</a>.<br /></li>	  <li id="f-about"><a href="../../../a/b/o/Wikipedia%7EAbout_8d82.html" title="Wikipedia:About">About Wikipedia</a></li>	  <li id="f-disclaimer"><a href="../../../g/e/n/Wikipedia%7EGeneral_disclaimer_3e44.html" title="Wikipedia:General disclaimer">Disclaimers</a></li>	  	</ul>
      </div>
    </div>
  </body>
</html>
