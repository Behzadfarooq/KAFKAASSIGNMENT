<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    		<meta name="keywords" content="Arithmetic shift,American National Standards Institute,Arithmetic overflow,Binary numeral system,Bitwise operation,C (programming language),Computer programming,Data General,Digital Equipment Corporation,Digital object identifier,Division (mathematics)" />
		<link rel="shortcut icon" href="/favicon.ico" />
		<link rel="search" type="application/opensearchdescription+xml" href="/w/opensearch_desc.php" title="Wikipedia (English)" />
		<link rel="copyright" href="../../../COPYING.html" />
    <title>Arithmetic shift - Wikipedia, the free encyclopedia</title>
    <style type="text/css">/*<![CDATA[*/ @import "../../../skins/htmldump/main.css"; /*]]>*/</style>
    <link rel="stylesheet" type="text/css" media="print" href="../../../skins/common/commonPrint.css" />
    <!--[if lt IE 5.5000]><style type="text/css">@import "../../../skins/monobook/IE50Fixes.css";</style><![endif]-->
    <!--[if IE 5.5000]><style type="text/css">@import "../../../skins/monobook/IE55Fixes.css";</style><![endif]-->
    <!--[if IE 6]><style type="text/css">@import "../../../skins/monobook/IE60Fixes.css";</style><![endif]-->
    <!--[if IE]><script type="text/javascript" src="../../../skins/common/IEFixes.js"></script>
    <meta http-equiv="imagetoolbar" content="no" /><![endif]-->
    <script type="text/javascript" src="../../../skins/common/wikibits.js"></script>
    <script type="text/javascript" src="../../../skins/htmldump/md5.js"></script>
    <script type="text/javascript" src="../../../skins/htmldump/utf8.js"></script>
    <script type="text/javascript" src="../../../skins/htmldump/lookup.js"></script>
    <script type="text/javascript" src="../../../raw/gen.js"></script>        <style type="text/css">/*<![CDATA[*/
@import "../../../raw/MediaWiki%7ECommon.css";
@import "../../../raw/MediaWiki%7EMonobook.css";
@import "../../../raw/gen.css";
/*]]>*/</style>          </head>
  <body
    class="ns-0">
    <div id="globalWrapper">
      <div id="column-content">
	<div id="content">
	  <a name="top" id="contentTop"></a>
	        <h1 class="firstHeading">Arithmetic shift</h1>
	  <div id="bodyContent">
	    <h3 id="siteSub">From Wikipedia, the free encyclopedia</h3>
	    <div id="contentSub"></div>
	    	    <div class="usermessage">You have <a href="../../../1/2/7/User_talk%7E127.0.0.1.html" title="User talk:127.0.0.1">new messages</a> (<a href="../../../1/2/7/User_talk%7E127.0.0.1.html" title="User talk:127.0.0.1">last change</a>).</div>	    <!-- start content -->
	    <div class="thumb tright">
<div class="thumbinner" style="width:302px;"><a href="../../../r/o/t/Image%7ERotate_left_logically.svg_e1f7.html" class="internal" title="A left arithmetic shift of a binary number by 1.  The empty position in the least significant bit is filled with a zero.  (See text for exceptions.)"><img src="../../../upload/shared/thumb/5/5c/Rotate_left_logically.svg/300px-Rotate_left_logically.svg.png" alt="A left arithmetic shift of a binary number by 1.  The empty position in the least significant bit is filled with a zero.  (See text for exceptions.)" width="300" height="200" longdesc="../../../r/o/t/Image%7ERotate_left_logically.svg_e1f7.html" class="thumbimage" /></a>
<div class="thumbcaption">
<div class="magnify" style="float:right"><a href="../../../r/o/t/Image%7ERotate_left_logically.svg_e1f7.html" class="internal" title="Enlarge"><img src="../../../skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div>
A left arithmetic shift of a binary number by 1. The empty position in the least significant bit is filled with a zero. (See text for exceptions.)</div>
</div>
</div>
<div class="thumb tright">
<div class="thumbinner" style="width:302px;"><a href="../../../r/o/t/Image%7ERotate_right_arithmetically.svg_043d.html" class="internal" title="A right arithmetic shift of a binary number by 1.  The empty position in the most significant bit is filled with a copy of the original MSB."><img src="../../../upload/shared/thumb/3/37/Rotate_right_arithmetically.svg/300px-Rotate_right_arithmetically.svg.png" alt="A right arithmetic shift of a binary number by 1.  The empty position in the most significant bit is filled with a copy of the original MSB." width="300" height="240" longdesc="../../../r/o/t/Image%7ERotate_right_arithmetically.svg_043d.html" class="thumbimage" /></a>
<div class="thumbcaption">
<div class="magnify" style="float:right"><a href="../../../r/o/t/Image%7ERotate_right_arithmetically.svg_043d.html" class="internal" title="Enlarge"><img src="../../../skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div>
A right arithmetic shift of a binary number by 1. The empty position in the most significant bit is filled with a copy of the original MSB.</div>
</div>
</div>
<table class="wikitable" style="float:right; clear:right;">
<caption>Arithmetic shift operators in various programming languages</caption>
<tr>
<th>Language</th>
<th>Left</th>
<th>Right</th>
</tr>
<tr>
<td><a href="../../../v/h/d/VHDL_01eb.html" title="VHDL">VHDL</a></td>
<td><tt>sla</tt><span class="reference"><sup id="fn_1_back"><a href="#fn_1" title="">1</a></sup></span></td>
<td><tt>sra</tt></td>
</tr>
<tr>
<td><a href="../../../v/e/r/Verilog.html" title="Verilog">Verilog</a></td>
<td><tt>&lt;&lt;&lt;</tt></td>
<td><tt>&gt;&gt;&gt;</tt><span class="reference"><sup id="fn_2_back"><a href="#fn_2" title="">2</a></sup></span></td>
</tr>
<tr>
<td><a href="../../../j/a/v/Java_%28programming_language%29.html" title="Java (programming language)">Java</a></td>
<td><tt>&lt;&lt;</tt><span class="reference"><sup id="fn_3_back"><a href="#fn_3" title="">3</a></sup></span></td>
<td><tt>&gt;&gt;</tt></td>
</tr>
<tr>
<td><a href="../../../o/p/e/OpenVMS_0d6e.html" title="OpenVMS">OpenVMS</a> macro language</td>
<td colspan="2" align="center">@<span class="reference"><sup id="fn_4_back"><a href="#fn_4" title="">4</a></sup></span></td>
</tr>
</table>
<p>In <a href="../../../c/o/m/Computer_programming.html" title="Computer programming">computer programming</a>, an <b>arithmetic shift</b> is a <a href="../../../s/h/i/Shift_operator.html" title="Shift operator">shift operator</a>, sometimes known as a <b>signed shift</b> (albeit that it is not restricted to signed operands). For <a href="../../../b/i/n/Binary_numeral_system.html" title="Binary numeral system">binary numbers</a> it is is a <a href="../../../b/i/t/Bitwise_operation.html" title="Bitwise operation">bitwise operation</a> that shifts all of the bits of its operand; every bit in the operand is simply moved a given number of bit positions, and the vacant bit-positions are filled in. What makes an arithmetic shift different from a <a href="../../../l/o/g/Logical_shift.html" title="Logical shift">logical shift</a> is what the empty bit positions are filled with. Arithmetic shifts, in particular arithmetic <i>right</i> shifts, have several traps, and are often described erroneously as being equivalent to multiplication or division, a fact that has led to bugs in more than one compiler.</p>
<p>The formal definition of an arithmetic shift, from <a href="../../../f/e/d/Federal_Standard_1037C_b08c.html" title="Federal Standard 1037C">Federal Standard 1037C</a> is that it is:</p>
<dl>
<dd>A shift, applied to the representation of a number in a fixed <a href="../../../r/a/d/Radix.html" title="Radix">radix</a> numeration system and in a <a href="../../../f/i/x/Fixed-point_arithmetic.html" title="Fixed-point arithmetic">fixed-point</a> representation system, and in which only the characters representing the fixed-point part of the number are moved. An arithmetic shift is usually equivalent to multiplying the number by a positive or a negative integral power of the radix, except for the effect of any rounding; compare the <a href="../../../l/o/g/Logical_shift.html" title="Logical shift">logical shift</a> with the arithmetic shift, especially in the case of <a href="../../../f/l/o/Floating-point.html" title="Floating-point">floating-point</a> representation.</dd>
</dl>
<p>An important word in the FS 1073C definition is "usually". Arithmetic <i>left</i> shifts are equivalent to multiplication by a (postive, integral) power of the radix (e.g. a multiplication by a power of 2 for binary numbers). Arithmetic left shifts are, with one exception, identical in effect to logical left shifts. The exception is the minor trap that arithmetic shifts may trigger <a href="../../../a/r/i/Arithmetic_overflow.html" title="Arithmetic overflow">arithmetic overflow</a> whereas logical shifts do not. However, arithmetic <i>right</i> shifts are major traps for the unwary.</p>
<p>It is frequently stated that arithmetic right shifts are equivalent to <a href="../../../d/i/v/Division_%28mathematics%29.html" title="Division (mathematics)">division</a> by a (positive, integral) power of the radix (e.g. a division by a power of 2 for binary numbers), and hence that division by a power of the radix can be optimized by implementing it as an arithmetic right shift. (A shifter is simpler than a divider. On many older processors, shift instructions would execute more quickly than division instructions.) Steele quotes a large number of 1960s and 1970s programming handbooks, manuals, and other specifications from companies and institutions such as <a href="../../../d/i/g/Digital_Equipment_Corporation_0f47.html" title="Digital Equipment Corporation">DEC</a>, <a href="../../../i/b/m/IBM_cbf4.html" title="IBM">IBM</a>, <a href="../../../d/a/t/Data_General_1436.html" title="Data General">Data General</a>, and <a href="../../../a/m/e/American_National_Standards_Institute_4b7d.html" title="American National Standards Institute">ANSI</a> that make such statements. However, as Steele points out, they are all wrong.</p>
<p>Arithmetic right shifts are <i>only</i> equivalent to division by a power of the radix on an "N-1's-complement" machine (for radix "N"). Arithmetic shifts of binary numbers are only equivalent to division by a power of 2, when the <a href="../../../o/n/e/One%27s_complement.html" title="One's complement">one's complement</a> representation of signed numbers is being used, for example.</p>
<p>This description has been erroneously brought over from the older one's complement architectures to newer <a href="../../../t/w/o/Two%27s_complement.html" title="Two's complement">two's complement</a> architectures. But with two's complement binary number representations, arithmetic right shift is <i>not</i> equivalent to division by a power of 2. For negative numbers, the equivalence breaks down. The most trivial example of this is the arithmetic right shift of the number -1 (which is represented as all ones) in a two's complement representation, which yields -1.</p>
<p>The (1999) ISO standard for the <a href="../../../c/_/%28/C_%28programming_language%29.html" title="C (programming language)">C programming language</a> defines the C language's right shift operator in terms of divisions by powers of 2. Because of the aforementioned non-equivalence, the standard explicitly excludes from that definition the right shifts of signed numbers that have negative values. It doesn't specify the behaviour of the right shift operator in such circumstances, but instead requires each individual C compiler to specify the behaviour of shifting negative values right.<span class="reference"><sup id="fn_5_back"><a href="#fn_5" title="">5</a></sup></span></p>
<p>On an "N's-complement" architecture (for radix "N") an arithmetic shift is equivalent to a division that rounds <i>towards <a href="../../../n/e/g/Negative_infinity.html" title="Negative infinity">negative infinity</a></i>, not towards zero. <a href="../../../d/o/n/Donald_Knuth_c2da.html" title="Donald Knuth">Donald Knuth</a> describes this in terms of a <a href="../../../f/l/o/Floor_function.html" title="Floor function">floor function</a>.</p>
<p><a name="Footnotes" id="Footnotes"></a></p>
<h2><span class="editsection">[<a href="../../../a/r/i/Arithmetic_shift.html" title="Edit section: Footnotes">edit</a>]</span> <span class="mw-headline">Footnotes</span></h2>
<ul>
<li><cite id="fn_1"><a href="#fn_1_back" title="">Note 1</a>:</cite> The VHDL arithmetic left shift operator is unusual. Instead of filling the LSB of the result with zero, it copies the original LSB into the new LSB. Whilst this is an exact mirror image of the arithmetic right shift, whereas the conventional definition of the operator is not, it is not the conventional definition of the operator, and is not equivalent to multiplication by a power of 2.</li>
<li><cite id="fn_2"><a href="#fn_2_back" title="">Note 2</a>:</cite> The Verilog arithmetic right shift operator only actually performs an arithmetic shift if the first operand is signed. If the first operand is unsigned, the operator actually performs a <i>logical</i> right shift.</li>
<li><cite id="fn_3"><a href="#fn_3_back" title="">Note 3</a>:</cite> Despite this being described as a "signed shift", this operator in Java is in fact a <i>logical</i> left shift operator. Java does not provide distinct arithmetic and logical left shift operators, and does not provide an arithmetic shift left capable of detecting integer overflow.</li>
<li><cite id="fn_4"><a href="#fn_4_back" title="">Note 4</a>:</cite> In the OpenVMS macro language whether an arithmetic shift is a left or a right shift is determined by whether the second operand is positive or negative. This is unusual. In most programming languages the two directions have distinct operators, with the operator specifying the direction, and the second operand is implicitly positive. (Some languages, such as Verilog, require that negative values be converted to unsigned positive values. Some languages, such as C and C++, do not have defined behaviours if negative values are used.)</li>
<li><cite id="fn_5"><a href="#fn_5_back" title="">Note 5</a>:</cite> The C standard was intended to not restrict the C language to either one's complement or two's complement architectures. In cases where the behaviours of one's complement and two's complement representations differ, such as this, the standard requires individual C compilers to document the actual behaviour of their target architectures.</li>
</ul>
<p><a name="References" id="References"></a></p>
<h2><span class="editsection">[<a href="../../../a/r/i/Arithmetic_shift.html" title="Edit section: References">edit</a>]</span> <span class="mw-headline">References</span></h2>
<div class="boilerplate" id="FS1037C">
<p><i>This article contains material from the <a href="../../../f/e/d/Federal_Standard_1037C_b08c.html" title="Federal Standard 1037C">Federal Standard 1037C</a>, which, as a <a href="../../../w/o/r/Work_of_the_United_States_Government_77e4.html" title="Work of the United States Government">work of the United States Government</a>, is in the <a href="../../../p/u/b/Public_domain.html" title="Public domain">public domain</a>.</i></p>
</div>
<ul>
<li><cite style="font-style:normal">Guy L. Steele (November 1977). "Arithmetic shifting considered harmful". <i>ACM SIGPLAN Notices archive</i> <b>12</b> (11): 61–69. <a href="../../../d/i/g/Digital_object_identifier.html" title="Digital object identifier">DOI</a>:<a href="http://dx.doi.org/10.1145/956641.956647" class="external text" title="http://dx.doi.org/10.1145/956641.956647" rel="nofollow">10.1145/956641.956647</a>.</cite><span class="Z3988" title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajournal&amp;rft.atitle=Arithmetic+shifting+considered+harmful&amp;rft.title=ACM+SIGPLAN+Notices+archive&amp;rft.jtitle=ACM+SIGPLAN+Notices+archive&amp;rft.date=November+1977&amp;rft.volume=12&amp;rft.issue=11&amp;rft.au=Guy+L.+Steele&amp;rft.pages=61%26ndash%3B69&amp;rft_id=info:doi/10.1145%2F956641.956647">&#160;</span></li>
<li><cite class="book" style="font-style:normal"><a href="../../../d/o/n/Donald_Knuth_c2da.html" title="Donald Knuth">Donald Knuth</a> (1969). <i><a href="../../../t/h/e/The_Art_of_Computer_Programming_442b.html" title="The Art of Computer Programming">The Art of Computer Programming</a>, Volume 2 — Seminumerical algorithms</i>. Reading, Mass.: Addison-Wesley, 169–170.</cite><span class="Z3988" title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=book&amp;rft.btitle=%5B%5BThe+Art+of+Computer+Programming%5D%5D%2C+Volume+2+%26mdash%3B+Seminumerical+algorithms&amp;rft.title=%5B%5BThe+Art+of+Computer+Programming%5D%5D%2C+Volume+2+%26mdash%3B+Seminumerical+algorithms&amp;rft.au=%5B%5BDonald+Knuth%5D%5D&amp;rft.date=1969&amp;rft.pub=Addison-Wesley&amp;rft.place=Reading%2C+Mass.&amp;rft.pages=169%26ndash%3B170">&#160;</span></li>
<li>(1999). "<i>Programming languages — C</i>". ISO/IEC 9899:1999. <a href="../../../i/n/t/International_Organization_for_Standardization_b57e.html" title="International Organization for Standardization">International Organization for Standardization</a>.</li>
<li><a href="http://h71000.www7.hp.com/doc/73FINAL/4515/4515pro_002.html" class="external text" title="http://h71000.www7.hp.com/doc/73FINAL/4515/4515pro_002.html" rel="nofollow">VAX MACRO and Instruction Set Reference Manual</a>. <i>HP OpenVMS Systems Documentation</i>. Hewlett-Packard Development Company.</li>
</ul>

<!-- 
Pre-expand include size: 15548 bytes
Post-expand include size: 5399 bytes
Template argument size: 3625 bytes
Maximum: 2048000 bytes
-->
<div class="printfooter">
Retrieved from "<a href="http://en.wikipedia.org../../../a/r/i/Arithmetic_shift.html">http://en.wikipedia.org../../../a/r/i/Arithmetic_shift.html</a>"</div>
	    <div id="catlinks"><p class='catlinks'><a href="../../../c/a/t/Special%7ECategories_101d.html" title="Special:Categories">Categories</a>: <span dir='ltr'><a href="../../../f/e/d/Category%7EFederal_Standard_1037C_e5f7.html" title="Category:Federal Standard 1037C">Federal Standard 1037C</a></span> | <span dir='ltr'><a href="../../../t/e/l/Category%7ETelecommunications_terms_9fca.html" title="Category:Telecommunications terms">Telecommunications terms</a></span></p></div>	    <!-- end content -->
	    <div class="visualClear"></div>
	  </div>
	</div>
      </div>
      <div id="column-one">
	<div id="p-cactions" class="portlet">
	  <h5>Views</h5>
	  <ul>
	    <li id="ca-nstab-main"
	       class="selected"	       ><a href="../../../a/r/i/Arithmetic_shift.html">Article</a></li><li id="ca-talk"
	       	       ><a href="../../../a/r/i/Talk%7EArithmetic_shift_0149.html">Discussion</a></li><li id="ca-current"
	       	       ><a href="http://en.wikipedia.org/wiki/Arithmetic_shift">Current revision</a></li>	  </ul>
	</div>
	<div class="portlet" id="p-logo">
	  <a style="background-image: url(../../../images/wiki-en.png);"
	    href="../../../index.html"
	    title="Main Page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
		<div class='portlet' id='p-navigation'>
	  <h5>Navigation</h5>
	  <div class='pBody'>
	    <ul>
	    	      <li id="n-Main-page"><a href="../../../index.html">Main page</a></li>
	     	      <li id="n-Contents"><a href="../../../c/o/n/Wikipedia%7EContents_3181.html">Contents</a></li>
	     	      <li id="n-Featured-content"><a href="../../../f/e/a/Wikipedia%7EFeatured_content_24ba.html">Featured content</a></li>
	     	      <li id="n-currentevents"><a href="../../../c/u/r/Portal%7ECurrent_events_bb60.html">Current events</a></li>
	     	    </ul>
	  </div>
	</div>
		<div class='portlet' id='p-interaction'>
	  <h5>interaction</h5>
	  <div class='pBody'>
	    <ul>
	    	      <li id="n-About-Wikipedia"><a href="../../../a/b/o/Wikipedia%7EAbout_8d82.html">About Wikipedia</a></li>
	     	      <li id="n-portal"><a href="../../../c/o/m/Wikipedia%7ECommunity_Portal_6a3c.html">Community portal</a></li>
	     	      <li id="n-contact"><a href="../../../c/o/n/Wikipedia%7EContact_us_afd6.html">Contact us</a></li>
	     	      <li id="n-sitesupport"><a href="http://wikimediafoundation.org/wiki/Fundraising">Make a donation</a></li>
	     	      <li id="n-help"><a href="../../../c/o/n/Help%7EContents_22de.html">Help</a></li>
	     	    </ul>
	  </div>
	</div>
		<div id="p-search" class="portlet">
	  <h5><label for="searchInput">Search</label></h5>
	  <div id="searchBody" class="pBody">
	    <form action="javascript:goToStatic(3)" id="searchform"><div>
	      <input id="searchInput" name="search" type="text"
	        accesskey="f" value="" />
	      <input type='submit' name="go" class="searchButton" id="searchGoButton"
	        value="Go" />
	    </div></form>
	  </div>
	</div>
	      </div><!-- end of the left (by default at least) column -->
      <div class="visualClear"></div>
      <div id="footer">
    <div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="../../../skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" /></a></div>	<div id="f-copyrightico"><a href="http://wikimediafoundation.org/"><img src="../../../images/wikimedia-button.png" border="0" alt="Wikimedia Foundation"/></a></div>	<ul id="f-list">
	  	  	  <li id="f-credits">This page was last modified 04:53, 30 December 2006 by Wikipedia user <a href="../../../c/b/u/User%7ECburnett_adfd.html" title="User:Cburnett">Cburnett</a>. Based on work by Wikipedia user(s) <a href="../../../g/w/e/User%7EGwern_2189.html" title="User:Gwern">Gwern</a>, Jonathan de Boyne Pollard, Jamsignal, <a href="../../../s/i/m/User%7ESimonP_1010.html" title="User:SimonP">SimonP</a>, <a href="../../../d/o/m/User%7EDominus_070e.html" title="User:Dominus">Dominus</a> and <a href="../../../a/n/d/User%7EAndre_Engels_23d0.html" title="User:Andre Engels">Andre Engels</a> and Anonymous user(s) of Wikipedia.</li>	  <li id="f-copyright">All text is available under the terms of the <a class='internal' href="../../../t/e/x/Wikipedia%7EText_of_the_GNU_Free_Documentation_License_702a.html" title="Wikipedia:Text of the GNU Free Documentation License">GNU Free Documentation License</a>. (See <b><a class='internal' href="../../../c/o/p/Wikipedia%7ECopyrights_92c4.html" title="Wikipedia:Copyrights">Copyrights</a></b> for details.) <br /> Wikipedia&reg; is a registered trademark of the <a href="http://www.wikimediafoundation.org">Wikimedia Foundation, Inc</a>., a US-registered <a class='internal' href="../../../5/0/1/501%28c%29.html#501.28c.29.283.29" title="501(c)(3)">501(c)(3)</a> <a href="http://wikimediafoundation.org/wiki/Deductibility_of_donations">tax-deductible</a> <a class='internal' href="../../../n/o/n/Non-profit_organization.html" title="Non-profit organization">nonprofit</a> <a href="../../../c/h/a/Charitable_organization.html" title="Charitable organization">charity</a>.<br /></li>	  <li id="f-about"><a href="../../../a/b/o/Wikipedia%7EAbout_8d82.html" title="Wikipedia:About">About Wikipedia</a></li>	  <li id="f-disclaimer"><a href="../../../g/e/n/Wikipedia%7EGeneral_disclaimer_3e44.html" title="Wikipedia:General disclaimer">Disclaimers</a></li>	  	</ul>
      </div>
    </div>
  </body>
</html>
