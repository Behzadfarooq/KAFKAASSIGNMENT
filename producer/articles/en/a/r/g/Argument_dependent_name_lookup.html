<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    		<meta name="keywords" content="Argument dependent name lookup,Andrew Koenig (programmer),C++,Canonical,Hello World,Herb Sutter,Iostream,Namespace (programming),Semantics,Standard Template Library,Std::swap" />
		<link rel="shortcut icon" href="/favicon.ico" />
		<link rel="search" type="application/opensearchdescription+xml" href="/w/opensearch_desc.php" title="Wikipedia (English)" />
		<link rel="copyright" href="../../../COPYING.html" />
    <title>Argument dependent name lookup - Wikipedia, the free encyclopedia</title>
    <style type="text/css">/*<![CDATA[*/ @import "../../../skins/htmldump/main.css"; /*]]>*/</style>
    <link rel="stylesheet" type="text/css" media="print" href="../../../skins/common/commonPrint.css" />
    <!--[if lt IE 5.5000]><style type="text/css">@import "../../../skins/monobook/IE50Fixes.css";</style><![endif]-->
    <!--[if IE 5.5000]><style type="text/css">@import "../../../skins/monobook/IE55Fixes.css";</style><![endif]-->
    <!--[if IE 6]><style type="text/css">@import "../../../skins/monobook/IE60Fixes.css";</style><![endif]-->
    <!--[if IE]><script type="text/javascript" src="../../../skins/common/IEFixes.js"></script>
    <meta http-equiv="imagetoolbar" content="no" /><![endif]-->
    <script type="text/javascript" src="../../../skins/common/wikibits.js"></script>
    <script type="text/javascript" src="../../../skins/htmldump/md5.js"></script>
    <script type="text/javascript" src="../../../skins/htmldump/utf8.js"></script>
    <script type="text/javascript" src="../../../skins/htmldump/lookup.js"></script>
    <script type="text/javascript" src="../../../raw/gen.js"></script>        <style type="text/css">/*<![CDATA[*/
@import "../../../raw/MediaWiki%7ECommon.css";
@import "../../../raw/MediaWiki%7EMonobook.css";
@import "../../../raw/gen.css";
/*]]>*/</style>          </head>
  <body
    class="ns-0">
    <div id="globalWrapper">
      <div id="column-content">
	<div id="content">
	  <a name="top" id="contentTop"></a>
	        <h1 class="firstHeading">Argument dependent name lookup</h1>
	  <div id="bodyContent">
	    <h3 id="siteSub">From Wikipedia, the free encyclopedia</h3>
	    <div id="contentSub"></div>
	    	    	    <!-- start content -->
	    <p>In the <a href="../../../c/%2B/%2B/C%2B%2B.html" title="C++">C++</a> programming language, <b>Koenig lookup</b>, also known as <b>argument dependent lookup</b> (<b>ADL</b>), or <b>argument dependent name lookup</b>, applies to the lookup of an unqualified function name depending on the types of the arguments given to the function call. This behavior is named after <a href="../../../a/n/d/Andrew_Koenig_%28programmer%29_ff33.html" title="Andrew Koenig (programmer)">Andrew Koenig</a>.</p>
<p>In Koenig lookup, other <a href="../../../n/a/m/Namespace_%28programming%29.html" title="Namespace (programming)">namespaces</a> not considered during normal lookup may be searched. The set of namespaces to be searched depends on the types of the function arguments.</p>
<p>For a class <tt>A</tt>, there is a set of associated classes which make up its direct and indirect base classes. The set of associated namespaces for <tt>A</tt> is the namespace that contains <tt>A</tt> together with the namespaces containing <tt>A</tt>'s associated classes. It is this set of associated namespaces that is searched for a function with an argument of type <tt>A</tt>.</p>
<p>If the normal lookup of the unqualified name finds a class member function, then Koenig lookup does not occur. Otherwise, the set of declarations found by lookup is the union of the declarations found by normal lookup with the declarations found by looking in the set of associated namespaces.</p>
<p>The <a href="../../../c/a/n/Canonical.html" title="Canonical">canonical</a> example of Koenig lookup looks like this:</p>
<pre>
  namespace NS {
     class A {};
     void f( A ) {}
  }
  int main() {
     NS::A a;
     f( a );    //calls NS::f
  }
</pre>
<p>A common pattern in the <a href="../../../s/t/a/Standard_Template_Library_f0d5.html" title="Standard Template Library">Standard Template Library</a> is to declare overloaded operators that will be found in this manner. For example, this simple <a href="../../../h/e/l/Hello_World_486b.html" title="Hello World">Hello World</a> program would not compile if it weren't for Koenig lookup:</p>
<pre>
#include&lt;iostream&gt;

int main() {
  std::cout &lt;&lt; "Hello World, where did operator&lt;&lt;() come from?" &lt;&lt; std::endl;
  return 0;
}
</pre>
<p>As the example suggests, <code>std::ostream&amp; std::operator&lt;&lt;(std::ostream&amp;, const char*)</code> was found through Koenig Lookup.</p>
<p>Note that <code><a href="../../../i/o/s/Iostream.html" title="Iostream">std::endl</a></code> is a function but it needs full qualification since it is used as an argument to <code>operator&lt;&lt;</code> (a function pointer, not a function call).</p>
<p><a name="Interfaces" id="Interfaces"></a></p>
<h2><span class="editsection">[<a href="../../../a/r/g/Argument_dependent_name_lookup.html" title="Edit section: Interfaces">edit</a>]</span> <span class="mw-headline">Interfaces</span></h2>
<p>Within C++, functions found by Koenig lookup are considered part of a class's interface. Within the <a href="../../../s/t/a/Standard_Template_Library_f0d5.html" title="Standard Template Library">Standard Template Library</a>, several algorithms make use of unqualified calls to <code>swap</code> from within the <code>std</code> namespace. As a result, the generic <code><a href="../../../3A/s/w/Std%7E%7Eswap.html" title="Std::swap">std::swap</a></code> function is used if nothing else is found, but if these algorithms are used with a third-party class, <code>Foo</code>, found in another namespace that also contains <code>swap(Foo&amp;, Foo&amp;)</code>, that specialization of <code>swap</code> will be used.</p>
<p><a name="Criticism" id="Criticism"></a></p>
<h2><span class="editsection">[<a href="../../../a/r/g/Argument_dependent_name_lookup.html" title="Edit section: Criticism">edit</a>]</span> <span class="mw-headline">Criticism</span></h2>
<p>While ADL makes it practical for free functions to be part of the interface of a class, it makes namespaces less strict and so can require the use of fully-qualified names when they would not otherwise be needed. For example, the C++ standard library makes extensive use of unqualified calls to <a href="../../../3A/s/w/Std%7E%7Eswap.html" title="Std::swap">std::swap</a> to swap two values. The idea being that then one can define a specialization of std::swap in their own namespace and it will be used within the STL algorithms. In other words, the behavior of</p>
<pre>
std::swap(a, b);
</pre>
<p>may or may not be the same as the behavior of</p>
<pre>
using std::swap;
swap(a, b);
</pre>
<p>(where <code>a</code> and <code>b</code> are of type <code>N::A</code>) because if <code>N::swap(N::A&amp;, N::A&amp;)</code> exists, the second of the above examples call it while the first will not. Furthermore, if for some reason both <code>N::swap(N::A&amp;, N::A&amp;)</code> and <code>std::swap(N::A&amp;, N::A&amp;)</code> are defined, then the first example will call <code>std::swap(N::A&amp;, N::A&amp;)</code> but the second will not compile because <code>swap(a, b)</code> would be ambiguous.</p>
<p>In general, over-dependence on ADL can lead to <a href="../../../s/e/m/Semantics.html" title="Semantics">semantic</a> problems. If one library, <code>L1</code>, expects unqualified calls to <code>foo(T)</code> to have one meaning and another library, <code>L2</code> expects it to have another, then namespaces lose their utility. If, however, <code>L1</code> expects <code>L1::foo(T)</code> to have one meaning and <code>L2</code> does likewise, then there is no conflict, but calls to <code>foo(T)</code> would have to be fully qualified (as opposed to <code>using L1::foo; foo(x);</code>) lest ADL get in the way.</p>
<p><a name="External_links" id="External_links"></a></p>
<h2><span class="editsection">[<a href="../../../a/r/g/Argument_dependent_name_lookup.html" title="Edit section: External links">edit</a>]</span> <span class="mw-headline">External links</span></h2>
<ul>
<li><a href="http://www.gotw.ca/publications/mill08.htm" class="external text" title="http://www.gotw.ca/publications/mill08.htm" rel="nofollow"><i>Namespaces and the Interface Principle</i></a> by <a href="../../../h/e/r/Herb_Sutter_6ec4.html" title="Herb Sutter">Herb Sutter</a></li>
<li><a href="http://www.informit.com/guides/content.asp?g=cplusplus&amp;seqNum=286&amp;rl=1" class="external text" title="http://www.informit.com/guides/content.asp?g=cplusplus&amp;seqNum=286&amp;rl=1" rel="nofollow">Why I Hate Namespaces</a> by Danny Kalev</li>
</ul>

<div class="printfooter">
Retrieved from "<a href="http://en.wikipedia.org../../../a/r/g/Argument_dependent_name_lookup.html">http://en.wikipedia.org../../../a/r/g/Argument_dependent_name_lookup.html</a>"</div>
	    <div id="catlinks"><p class='catlinks'><a href="../../../c/a/t/Special%7ECategories_101d.html" title="Special:Categories">Category</a>: <span dir='ltr'><a href="../../../c/%2B/%2B/Category%7EC%2B%2B_0c9e.html" title="Category:C++">C++</a></span></p></div>	    <!-- end content -->
	    <div class="visualClear"></div>
	  </div>
	</div>
      </div>
      <div id="column-one">
	<div id="p-cactions" class="portlet">
	  <h5>Views</h5>
	  <ul>
	    <li id="ca-nstab-main"
	       class="selected"	       ><a href="../../../a/r/g/Argument_dependent_name_lookup.html">Article</a></li><li id="ca-talk"
	       	       ><a href="../../../a/r/g/Talk%7EArgument_dependent_name_lookup_1a7d.html">Discussion</a></li><li id="ca-current"
	       	       ><a href="http://en.wikipedia.org/wiki/Argument_dependent_name_lookup">Current revision</a></li>	  </ul>
	</div>
	<div class="portlet" id="p-logo">
	  <a style="background-image: url(../../../images/wiki-en.png);"
	    href="../../../index.html"
	    title="Main Page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
		<div class='portlet' id='p-navigation'>
	  <h5>Navigation</h5>
	  <div class='pBody'>
	    <ul>
	    	      <li id="n-Main-page"><a href="../../../index.html">Main page</a></li>
	     	      <li id="n-Contents"><a href="../../../c/o/n/Wikipedia%7EContents_3181.html">Contents</a></li>
	     	      <li id="n-Featured-content"><a href="../../../f/e/a/Wikipedia%7EFeatured_content_24ba.html">Featured content</a></li>
	     	      <li id="n-currentevents"><a href="../../../c/u/r/Portal%7ECurrent_events_bb60.html">Current events</a></li>
	     	    </ul>
	  </div>
	</div>
		<div class='portlet' id='p-interaction'>
	  <h5>interaction</h5>
	  <div class='pBody'>
	    <ul>
	    	      <li id="n-About-Wikipedia"><a href="../../../a/b/o/Wikipedia%7EAbout_8d82.html">About Wikipedia</a></li>
	     	      <li id="n-portal"><a href="../../../c/o/m/Wikipedia%7ECommunity_Portal_6a3c.html">Community portal</a></li>
	     	      <li id="n-contact"><a href="../../../c/o/n/Wikipedia%7EContact_us_afd6.html">Contact us</a></li>
	     	      <li id="n-sitesupport"><a href="http://wikimediafoundation.org/wiki/Fundraising">Make a donation</a></li>
	     	      <li id="n-help"><a href="../../../c/o/n/Help%7EContents_22de.html">Help</a></li>
	     	    </ul>
	  </div>
	</div>
		<div id="p-search" class="portlet">
	  <h5><label for="searchInput">Search</label></h5>
	  <div id="searchBody" class="pBody">
	    <form action="javascript:goToStatic(3)" id="searchform"><div>
	      <input id="searchInput" name="search" type="text"
	        accesskey="f" value="" />
	      <input type='submit' name="go" class="searchButton" id="searchGoButton"
	        value="Go" />
	    </div></form>
	  </div>
	</div>
	<div id="p-lang" class="portlet">
	  <h5>In other languages</h5>
	  <div class="pBody">
	    <ul>
	      	      <li>
	      <a href="../../../../ja/%E5%AE%9F/%E5%BC%95/%E6%95%B0/%E5%AE%9F%E5%BC%95%E6%95%B0%E4%BE%9D%E5%AD%98%E3%81%AE%E5%90%8D%E5%89%8D%E6%8E%A2%E7%B4%A2.html">日本語</a>
	      </li>
	      	    </ul>
	  </div>
	</div>
	      </div><!-- end of the left (by default at least) column -->
      <div class="visualClear"></div>
      <div id="footer">
    <div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="../../../skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" /></a></div>	<div id="f-copyrightico"><a href="http://wikimediafoundation.org/"><img src="../../../images/wikimedia-button.png" border="0" alt="Wikimedia Foundation"/></a></div>	<ul id="f-list">
	  	  	  <li id="f-credits">This page was last modified 16:50, 6 March 2007 by Anonymous user(s) of Wikipedia. Based on work by Wikipedia user(s) Redblue, <a href="../../../b/e/n/User%7EBenFrantzDale_c7e5.html" title="User:BenFrantzDale">BenFrantzDale</a>, <a href="../../../j/o/g/User%7EJogloran_a21c.html" title="User:Jogloran">Jogloran</a>, <a href="../../../t/o/b/User%7ETobias_Bergemann_bfa6.html" title="User:Tobias Bergemann">Tobias Bergemann</a>, <a href="../../../b/l/u/User%7EBluebot_e595.html" title="User:Bluebot">Bluebot</a>, <a href="../../../m/r/w/User%7EMrwojo_bb68.html" title="User:Mrwojo">Mrwojo</a>, <a href="../../../p/a/d/User%7EPaddu_be1f.html" title="User:Paddu">Paddu</a>, <a href="../../../o/r/d/User%7EOrderud_9d90.html" title="User:Orderud">Orderud</a> and <a href="../../../a/n/i/User%7EAniefer_a963.html" title="User:Aniefer">Aniefer</a>.</li>	  <li id="f-copyright">All text is available under the terms of the <a class='internal' href="../../../t/e/x/Wikipedia%7EText_of_the_GNU_Free_Documentation_License_702a.html" title="Wikipedia:Text of the GNU Free Documentation License">GNU Free Documentation License</a>. (See <b><a class='internal' href="../../../c/o/p/Wikipedia%7ECopyrights_92c4.html" title="Wikipedia:Copyrights">Copyrights</a></b> for details.) <br /> Wikipedia&reg; is a registered trademark of the <a href="http://www.wikimediafoundation.org">Wikimedia Foundation, Inc</a>., a US-registered <a class='internal' href="../../../5/0/1/501%28c%29.html#501.28c.29.283.29" title="501(c)(3)">501(c)(3)</a> <a href="http://wikimediafoundation.org/wiki/Deductibility_of_donations">tax-deductible</a> <a class='internal' href="../../../n/o/n/Non-profit_organization.html" title="Non-profit organization">nonprofit</a> <a href="../../../c/h/a/Charitable_organization.html" title="Charitable organization">charity</a>.<br /></li>	  <li id="f-about"><a href="../../../a/b/o/Wikipedia%7EAbout_8d82.html" title="Wikipedia:About">About Wikipedia</a></li>	  <li id="f-disclaimer"><a href="../../../g/e/n/Wikipedia%7EGeneral_disclaimer_3e44.html" title="Wikipedia:General disclaimer">Disclaimers</a></li>	  	</ul>
      </div>
    </div>
  </body>
</html>
