<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    		<meta name="keywords" content="Ancillary data,AES3,CRC,Closed captions,DTV,Error Detection and Handling,Essence,Even parity,Horizontal blank,LSB,Metadata" />
		<link rel="shortcut icon" href="/favicon.ico" />
		<link rel="search" type="application/opensearchdescription+xml" href="/w/opensearch_desc.php" title="Wikipedia (English)" />
		<link rel="copyright" href="../../../COPYING.html" />
    <title>Ancillary data - Wikipedia, the free encyclopedia</title>
    <style type="text/css">/*<![CDATA[*/ @import "../../../skins/htmldump/main.css"; /*]]>*/</style>
    <link rel="stylesheet" type="text/css" media="print" href="../../../skins/common/commonPrint.css" />
    <!--[if lt IE 5.5000]><style type="text/css">@import "../../../skins/monobook/IE50Fixes.css";</style><![endif]-->
    <!--[if IE 5.5000]><style type="text/css">@import "../../../skins/monobook/IE55Fixes.css";</style><![endif]-->
    <!--[if IE 6]><style type="text/css">@import "../../../skins/monobook/IE60Fixes.css";</style><![endif]-->
    <!--[if IE]><script type="text/javascript" src="../../../skins/common/IEFixes.js"></script>
    <meta http-equiv="imagetoolbar" content="no" /><![endif]-->
    <script type="text/javascript" src="../../../skins/common/wikibits.js"></script>
    <script type="text/javascript" src="../../../skins/htmldump/md5.js"></script>
    <script type="text/javascript" src="../../../skins/htmldump/utf8.js"></script>
    <script type="text/javascript" src="../../../skins/htmldump/lookup.js"></script>
    <script type="text/javascript" src="../../../raw/gen.js"></script>        <style type="text/css">/*<![CDATA[*/
@import "../../../raw/MediaWiki%7ECommon.css";
@import "../../../raw/MediaWiki%7EMonobook.css";
@import "../../../raw/gen.css";
/*]]>*/</style>          </head>
  <body
    class="ns-0">
    <div id="globalWrapper">
      <div id="column-content">
	<div id="content">
	  <a name="top" id="contentTop"></a>
	        <h1 class="firstHeading">Ancillary data</h1>
	  <div id="bodyContent">
	    <h3 id="siteSub">From Wikipedia, the free encyclopedia</h3>
	    <div id="contentSub"></div>
	    	    <div class="usermessage">You have <a href="../../../1/2/7/User_talk%7E127.0.0.1.html" title="User talk:127.0.0.1">new messages</a> (<a href="../../../1/2/7/User_talk%7E127.0.0.1.html" title="User talk:127.0.0.1">last change</a>).</div>	    <!-- start content -->
	    <p><b>Ancillary data</b> (commonly abbreviated as <b>ANC data</b>), in the context of <a href="../../../t/e/l/Television.html" title="Television">television</a> systems, refers to a means which by non-video information (such as <a href="../../../s/o/u/Sound.html" title="Sound">audio</a>, other forms of <a href="../../../e/s/s/Essence.html" title="Essence">essence</a>, and <a href="../../../m/e/t/Metadata.html" title="Metadata">metadata</a>) may be <i>embedded</i> within the <a href="../../../s/e/r/Serial_digital_interface.html" title="Serial digital interface">serial digital interface</a>. Ancillary data is standardized by <a href="../../../s/m/p/SMPTE_653d.html" title="SMPTE">SMPTE</a> as <i>SMPTE 291M: Ancillary Data Packet and Space Formatting</i>.</p>
<table id="toc" class="toc" summary="Contents">
<tr>
<td>
<div id="toctitle">
<h2>Contents</h2>
</div>
<ul>
<li class="toclevel-1"><a href="#Technical_details"><span class="tocnumber">1</span> <span class="toctext">Technical details</span></a>
<ul>
<li class="toclevel-2"><a href="#Location"><span class="tocnumber">1.1</span> <span class="toctext">Location</span></a></li>
<li class="toclevel-2"><a href="#Packet_format"><span class="tocnumber">1.2</span> <span class="toctext">Packet format</span></a>
<ul>
<li class="toclevel-3"><a href="#DID"><span class="tocnumber">1.2.1</span> <span class="toctext">DID</span></a></li>
<li class="toclevel-3"><a href="#SDID"><span class="tocnumber">1.2.2</span> <span class="toctext">SDID</span></a></li>
<li class="toclevel-3"><a href="#DBN"><span class="tocnumber">1.2.3</span> <span class="toctext">DBN</span></a></li>
<li class="toclevel-3"><a href="#DC"><span class="tocnumber">1.2.4</span> <span class="toctext">DC</span></a></li>
<li class="toclevel-3"><a href="#UDW"><span class="tocnumber">1.2.5</span> <span class="toctext">UDW</span></a></li>
<li class="toclevel-3"><a href="#Checksum"><span class="tocnumber">1.2.6</span> <span class="toctext">Checksum</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1"><a href="#Usage"><span class="tocnumber">2</span> <span class="toctext">Usage</span></a>
<ul>
<li class="toclevel-2"><a href="#Embedded_audio"><span class="tocnumber">2.1</span> <span class="toctext">Embedded audio</span></a></li>
<li class="toclevel-2"><a href="#EDH"><span class="tocnumber">2.2</span> <span class="toctext">EDH</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#External_links"><span class="tocnumber">3</span> <span class="toctext">External links</span></a></li>
</ul>
</td>
</tr>
</table>
<p><script type="text/javascript">
//<![CDATA[
 if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } 
//]]>
</script><a name="Technical_details" id="Technical_details"></a></p>
<h2><span class="editsection">[<a href="../../../a/n/c/Ancillary_data.html" title="Edit section: Technical details">edit</a>]</span> <span class="mw-headline">Technical details</span></h2>
<p><a name="Location" id="Location"></a></p>
<h3><span class="editsection">[<a href="../../../a/n/c/Ancillary_data.html" title="Edit section: Location">edit</a>]</span> <span class="mw-headline">Location</span></h3>
<p>Ancillary data packets may be located anywhere within a serial digital data stream, with the following exceptions:</p>
<ul>
<li>They should not be located in the lines identified as a <i>switch point</i> (which may be lost when switching sources)</li>
<li>They should not be located in the active picture area.</li>
<li>They may not cross the TRS (timing reference signal) packets.</li>
</ul>
<p>Ancillary data packets are commonly divided into two types, depending on where they are located--specific packet types are often constrained to be in one location or another.</p>
<ul>
<li>Ancillary packets located in the <a href="../../../h/o/r/Horizontal_blank.html" title="Horizontal blank">horizontal blanking</a> region (after EAV but before SAV), regardless of line, are known as <b>horizontal ancillary data</b>, or <b>HANC</b>. HANC is commonly used for higher-bandwidth data, and/or for things that need to be synchronized to a particular line; the most common type of HANC is embedded audio.</li>
</ul>
<ul>
<li>Ancillary packets located in the <a href="../../../v/e/r/Vertical_blank.html" title="Vertical blank">vertical blanking</a> region, <b>and</b> after SAV but before EAV, are known as <b>vertical ancillary data</b>, or <b>VANC</b>. VANC is commonly used for low-bandwidth data, or for things that only need be updated on a per-field or per-frame rate. Closed caption data and VPID are generally stored as VANC.</li>
</ul>
<p>Note that ANC packets which lie in the dataspace which is in both the horizontal <i>and</i> vertical intervals, is considered to be HANC and not VANC.</p>
<p><a name="Packet_format" id="Packet_format"></a></p>
<h3><span class="editsection">[<a href="../../../a/n/c/Ancillary_data.html" title="Edit section: Packet format">edit</a>]</span> <span class="mw-headline">Packet format</span></h3>
<p>All ANC packets must start with a start sequence; for component interfaces (the only kind of serial digital interface in widespread use today), the start sequence is 0 0x3FF 0x3FF. This sequence is otherwise illegal in the serial digital interface. (In the obsolete composite versions of SDI, the ANC start sequence is a single word, 0x3FC).</p>
<p>Three words immediately the start sequence in the header. The first word after the start sequence is the <b>Data Identifier</b> or <b>DID</b>, followed by either a '<b>Secondary Data Indentifier</b> (<b>SDID</b>) <i>or</i> a <b>Data Block Number</b> (<b>DBN</b>), followed by a <b>Data Count</b> (<b>DC</b>). After the Data Count word are 0 - 255 (inclusive) <b>User Data Words</b> (<b>UDW</b>), followed by a <b>Checksum</b> (<b>CS</b>) word.</p>
<p><a name="DID" id="DID"></a></p>
<h4><span class="editsection">[<a href="../../../a/n/c/Ancillary_data.html" title="Edit section: DID">edit</a>]</span> <span class="mw-headline">DID</span></h4>
<p>The Data Identifier word (along with the SDID, if used), indicates the type of ancillary data that the packet corresponds to. Data identifiers range from 1 to 255 (FF hex), with 0 being reserved. As the serial digital interface is a 10-bit format, the DID word is encoded as follows:</p>
<ul>
<li>Bits 0-7 (bit 0 being the <a href="../../../l/s/b/LSB_6ea6.html" title="LSB">LSB</a>), are the raw DID value.</li>
<li>Bit 8 is the <a href="../../../e/v/e/Even_parity.html" title="Even parity">even parity</a> bit of bits 0-7.</li>
<li>Bit 9 is the inverse of bit 8.</li>
</ul>
<p>Thus, a DID of 61 hex would be encoded as 161 hex, wherease a DID of 63 hex would be encoded as 263 hex. Note that this encoding scheme ensures that the reserved values in the serial digital interface (0-3 and 1020-1023) are never used.</p>
<p>If the DID is equal to 128 (80 hex) or greater, then the packet is a <b>Type 1 packet</b>, and the DID is suficient to identify the packet type, and the following word is a Data Block Number. If the DID is less than 128, it is a <b>Type 2 packet</b>, and the following words is the Secondary Data Identifier; the DID and SDID together identify the packet type.</p>
<p><a name="SDID" id="SDID"></a></p>
<h4><span class="editsection">[<a href="../../../a/n/c/Ancillary_data.html" title="Edit section: SDID">edit</a>]</span> <span class="mw-headline">SDID</span></h4>
<p>The SDID is only valid if the DID is less the 80 hex. The SDID is nominally an 8-bit value, ranging from 0 to 255. It is encoded in the same fashion as the DID.</p>
<p>DID/SDID words of 161 101 (hex) correspond to a DID of 61 hex, and a SDID of 1 (once the two high bits are removed); these values would indicate that the packet type is defined by <i>SMPTE 334M</i>, and contains <a href="../../../d/t/v/DTV_ce0e.html" title="DTV">DTV</a> <a href="../../../c/l/o/Closed_captions.html" title="Closed captions">closed captions</a> data.</p>
<p><a name="DBN" id="DBN"></a></p>
<h4><span class="editsection">[<a href="../../../a/n/c/Ancillary_data.html" title="Edit section: DBN">edit</a>]</span> <span class="mw-headline">DBN</span></h4>
<p>The DBN is only valid if the DID is 80 hex or greater. It is (optionally) used to identify multiple packets of the same type within a field; each subsequent packet of the indicated type has a DBN which is one higher than the previous packet, wrapping around as necessary. The DBN is an 8-bit value, encoded in the same fashion as the SDID.</p>
<p><a name="DC" id="DC"></a></p>
<h4><span class="editsection">[<a href="../../../a/n/c/Ancillary_data.html" title="Edit section: DC">edit</a>]</span> <span class="mw-headline">DC</span></h4>
<p>The Data Count word is an 8-bit value, encoded in the same fashion as the DID, which indicates how many user data words are to follow. It can range from 0 to 255.</p>
<p><a name="UDW" id="UDW"></a></p>
<h4><span class="editsection">[<a href="../../../a/n/c/Ancillary_data.html" title="Edit section: UDW">edit</a>]</span> <span class="mw-headline">UDW</span></h4>
<p>User data words are the "payload" present in the ANC packet. They are defined according to the packet type, SMPTE 291M does not define their use or impose any restrictions on the values which may be present in the UDW space. The only restriction is that the reserved values in the serial digital interface (0-3 and 1020-1023) may not be included in the UDW. Many ANC formats, though not all, are essentially 8-bit formats, and encode data in the same manner that the header words are encoded.</p>
<p><a name="Checksum" id="Checksum"></a></p>
<h4><span class="editsection">[<a href="../../../a/n/c/Ancillary_data.html" title="Edit section: Checksum">edit</a>]</span> <span class="mw-headline">Checksum</span></h4>
<p>The last word in an ANC packet is the Checksum word. It is computed by computing the sum (modulo 512) of bits 0-8 (not bit 9), of all the other words in the ANC packet, excluding the packet start sequence. Bit 9 of the checksum word is then defined as the inverse of bit 8. Note that the checksum word does not contain a parity bit; instead, the parity bits of other words are included in the checksum calculations.</p>
<p><a name="Usage" id="Usage"></a></p>
<h2><span class="editsection">[<a href="../../../a/n/c/Ancillary_data.html" title="Edit section: Usage">edit</a>]</span> <span class="mw-headline">Usage</span></h2>
<p>Ancillary data is used for several things:</p>
<p><a name="Embedded_audio" id="Embedded_audio"></a></p>
<h3><span class="editsection">[<a href="../../../a/n/c/Ancillary_data.html" title="Edit section: Embedded audio">edit</a>]</span> <span class="mw-headline">Embedded audio</span></h3>
<p>Embedded audio is audio payload which is (typically) the soundtrack (music, dialogue, and sound effects) for the video program. Two standards, <i>SMPTE 272M</i> (for SD) and <i>SMPTE 299M</i> (for HD) define how audio is embedded into the ancillary space. Both standards provide for up to 16 channels of PCM audio, typically encoded in the <a href="../../../a/e/s/AES3_7b5c.html" title="AES3">AES3</a> format. In either case, embedded audio data packets are HANC packets.</p>
<p>In addition, both standards define <b>audio control packets</b>, which are located in VANC space. The audio control packet contains audio-related metadata, such as its timing relative to video, which channels are present, etc.</p>
<p>Embedded audio packets are Type 1 packets.</p>
<p><a name="EDH" id="EDH"></a></p>
<h3><span class="editsection">[<a href="../../../a/n/c/Ancillary_data.html" title="Edit section: EDH">edit</a>]</span> <span class="mw-headline">EDH</span></h3>
<dl>
<dd>
<div class="noprint"><i>Main article: <a href="../../../e/r/r/Error_Detection_and_Handling_80cc.html" title="Error Detection and Handling">Error Detection and Handling</a></i></div>
</dd>
</dl>
<p>EDH packets are used for error detection in standard definition interfaces (they are not necessary in HD interfaces, as the HD-SDI interface includes <a href="../../../c/r/c/CRC_1a4b.html" title="CRC">CRC</a> checkwords built in).</p>
<p><a name="External_links" id="External_links"></a></p>
<h2><span class="editsection">[<a href="../../../a/n/c/Ancillary_data.html" title="Edit section: External links">edit</a>]</span> <span class="mw-headline">External links</span></h2>
<ul>
<li><a href="../../../s/m/p/SMPTE_653d.html" title="SMPTE">SMPTE</a>: <i>SMPTE 291M-1998: Ancillary Data Packet and Space Formatting</i></li>
</ul>

<!-- 
Pre-expand include size: 1114 bytes
Post-expand include size: 222 bytes
Template argument size: 278 bytes
Maximum: 2048000 bytes
-->
<div class="printfooter">
Retrieved from "<a href="http://en.wikipedia.org../../../a/n/c/Ancillary_data.html">http://en.wikipedia.org../../../a/n/c/Ancillary_data.html</a>"</div>
	    <div id="catlinks"><p class='catlinks'><a href="../../../c/a/t/Special%7ECategories_101d.html" title="Special:Categories">Categories</a>: <span dir='ltr'><a href="../../../f/i/l/Category%7EFilm_and_video_technology_2ee5.html" title="Category:Film and video technology">Film and video technology</a></span> | <span dir='ltr'><a href="../../../s/e/r/Category%7ESerial_digital_interface_2b32.html" title="Category:Serial digital interface">Serial digital interface</a></span></p></div>	    <!-- end content -->
	    <div class="visualClear"></div>
	  </div>
	</div>
      </div>
      <div id="column-one">
	<div id="p-cactions" class="portlet">
	  <h5>Views</h5>
	  <ul>
	    <li id="ca-nstab-main"
	       class="selected"	       ><a href="../../../a/n/c/Ancillary_data.html">Article</a></li><li id="ca-talk"
	       class="new"	       ><a href="../../../a/n/c/Talk%7EAncillary_data_e212.html">Discussion</a></li><li id="ca-current"
	       	       ><a href="http://en.wikipedia.org/wiki/Ancillary_data">Current revision</a></li>	  </ul>
	</div>
	<div class="portlet" id="p-logo">
	  <a style="background-image: url(../../../images/wiki-en.png);"
	    href="../../../index.html"
	    title="Main Page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
		<div class='portlet' id='p-navigation'>
	  <h5>Navigation</h5>
	  <div class='pBody'>
	    <ul>
	    	      <li id="n-Main-page"><a href="../../../index.html">Main page</a></li>
	     	      <li id="n-Contents"><a href="../../../c/o/n/Wikipedia%7EContents_3181.html">Contents</a></li>
	     	      <li id="n-Featured-content"><a href="../../../f/e/a/Wikipedia%7EFeatured_content_24ba.html">Featured content</a></li>
	     	      <li id="n-currentevents"><a href="../../../c/u/r/Portal%7ECurrent_events_bb60.html">Current events</a></li>
	     	    </ul>
	  </div>
	</div>
		<div class='portlet' id='p-interaction'>
	  <h5>interaction</h5>
	  <div class='pBody'>
	    <ul>
	    	      <li id="n-About-Wikipedia"><a href="../../../a/b/o/Wikipedia%7EAbout_8d82.html">About Wikipedia</a></li>
	     	      <li id="n-portal"><a href="../../../c/o/m/Wikipedia%7ECommunity_Portal_6a3c.html">Community portal</a></li>
	     	      <li id="n-contact"><a href="../../../c/o/n/Wikipedia%7EContact_us_afd6.html">Contact us</a></li>
	     	      <li id="n-sitesupport"><a href="http://wikimediafoundation.org/wiki/Fundraising">Make a donation</a></li>
	     	      <li id="n-help"><a href="../../../c/o/n/Help%7EContents_22de.html">Help</a></li>
	     	    </ul>
	  </div>
	</div>
		<div id="p-search" class="portlet">
	  <h5><label for="searchInput">Search</label></h5>
	  <div id="searchBody" class="pBody">
	    <form action="javascript:goToStatic(3)" id="searchform"><div>
	      <input id="searchInput" name="search" type="text"
	        accesskey="f" value="" />
	      <input type='submit' name="go" class="searchButton" id="searchGoButton"
	        value="Go" />
	    </div></form>
	  </div>
	</div>
	      </div><!-- end of the left (by default at least) column -->
      <div class="visualClear"></div>
      <div id="footer">
    <div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="../../../skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" /></a></div>	<div id="f-copyrightico"><a href="http://wikimediafoundation.org/"><img src="../../../images/wikimedia-button.png" border="0" alt="Wikimedia Foundation"/></a></div>	<ul id="f-list">
	  	  	  <li id="f-credits">This page was last modified 02:48, 17 October 2006 by Anonymous user(s) of Wikipedia. Based on work by Wikipedia user(s) <a href="../../../f/i/r/User%7EFirsfron_bff1.html" title="User:Firsfron">Firsfron</a>, <a href="../../../m/b/o/User%7EMboverload_cce2.html" title="User:Mboverload">Mboverload</a>, <a href="../../../c/y/d/User%7ECydebot_38a6.html" title="User:Cydebot">Cydebot</a>, <a href="../../../k/e/y/User%7EKeycard_d74b.html" title="User:Keycard">Keycard</a> and <a href="../../../e/n/g/User%7EEngineerScotty_c6c0.html" title="User:EngineerScotty">EngineerScotty</a>.</li>	  <li id="f-copyright">All text is available under the terms of the <a class='internal' href="../../../t/e/x/Wikipedia%7EText_of_the_GNU_Free_Documentation_License_702a.html" title="Wikipedia:Text of the GNU Free Documentation License">GNU Free Documentation License</a>. (See <b><a class='internal' href="../../../c/o/p/Wikipedia%7ECopyrights_92c4.html" title="Wikipedia:Copyrights">Copyrights</a></b> for details.) <br /> Wikipedia&reg; is a registered trademark of the <a href="http://www.wikimediafoundation.org">Wikimedia Foundation, Inc</a>., a US-registered <a class='internal' href="../../../5/0/1/501%28c%29.html#501.28c.29.283.29" title="501(c)(3)">501(c)(3)</a> <a href="http://wikimediafoundation.org/wiki/Deductibility_of_donations">tax-deductible</a> <a class='internal' href="../../../n/o/n/Non-profit_organization.html" title="Non-profit organization">nonprofit</a> <a href="../../../c/h/a/Charitable_organization.html" title="Charitable organization">charity</a>.<br /></li>	  <li id="f-about"><a href="../../../a/b/o/Wikipedia%7EAbout_8d82.html" title="Wikipedia:About">About Wikipedia</a></li>	  <li id="f-disclaimer"><a href="../../../g/e/n/Wikipedia%7EGeneral_disclaimer_3e44.html" title="Wikipedia:General disclaimer">Disclaimers</a></li>	  	</ul>
      </div>
    </div>
  </body>
</html>
