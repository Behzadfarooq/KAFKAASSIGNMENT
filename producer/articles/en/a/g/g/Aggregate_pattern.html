<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    		<meta name="keywords" content="Aggregate pattern,Code momentum,Computer programming,Criminology,Design pattern (computer science),Economics,Facade pattern,Functional programming,Method (computer science),Object (computer science),Perl Design Patterns Book" />
		<link rel="shortcut icon" href="/favicon.ico" />
		<link rel="search" type="application/opensearchdescription+xml" href="/w/opensearch_desc.php" title="Wikipedia (English)" />
		<link rel="copyright" href="../../../COPYING.html" />
    <title>Aggregate pattern - Wikipedia, the free encyclopedia</title>
    <style type="text/css">/*<![CDATA[*/ @import "../../../skins/htmldump/main.css"; /*]]>*/</style>
    <link rel="stylesheet" type="text/css" media="print" href="../../../skins/common/commonPrint.css" />
    <!--[if lt IE 5.5000]><style type="text/css">@import "../../../skins/monobook/IE50Fixes.css";</style><![endif]-->
    <!--[if IE 5.5000]><style type="text/css">@import "../../../skins/monobook/IE55Fixes.css";</style><![endif]-->
    <!--[if IE 6]><style type="text/css">@import "../../../skins/monobook/IE60Fixes.css";</style><![endif]-->
    <!--[if IE]><script type="text/javascript" src="../../../skins/common/IEFixes.js"></script>
    <meta http-equiv="imagetoolbar" content="no" /><![endif]-->
    <script type="text/javascript" src="../../../skins/common/wikibits.js"></script>
    <script type="text/javascript" src="../../../skins/htmldump/md5.js"></script>
    <script type="text/javascript" src="../../../skins/htmldump/utf8.js"></script>
    <script type="text/javascript" src="../../../skins/htmldump/lookup.js"></script>
    <script type="text/javascript" src="../../../raw/gen.js"></script>        <style type="text/css">/*<![CDATA[*/
@import "../../../raw/MediaWiki%7ECommon.css";
@import "../../../raw/MediaWiki%7EMonobook.css";
@import "../../../raw/gen.css";
/*]]>*/</style>          </head>
  <body
    class="ns-0">
    <div id="globalWrapper">
      <div id="column-content">
	<div id="content">
	  <a name="top" id="contentTop"></a>
	        <h1 class="firstHeading">Aggregate pattern</h1>
	  <div id="bodyContent">
	    <h3 id="siteSub">From Wikipedia, the free encyclopedia</h3>
	    <div id="contentSub"></div>
	    	    <div class="usermessage">You have <a href="../../../1/2/7/User_talk%7E127.0.0.1.html" title="User talk:127.0.0.1">new messages</a> (<a href="../../../1/2/7/User_talk%7E127.0.0.1.html" title="User talk:127.0.0.1">last change</a>).</div>	    <!-- start content -->
	    <div class="messagebox cleanup metadata plainlinks">
<table style="width:100%; background:none">
<tr>
<td width="60px"><a href="../../../b/r/o/Image%7EBroom_icon.svg_73f7.html" class="image" title=""><img src="../../../upload/shared/thumb/2/2c/Broom_icon.svg/40px-Broom_icon.svg.png" alt="" width="40" height="40" longdesc="../../../b/r/o/Image%7EBroom_icon.svg_73f7.html" /></a></td>
<td><b>This article may require <a href="../../../c/l/e/Wikipedia%7ECleanup_89e0.html" title="Wikipedia:Cleanup">cleanup</a> to meet Wikipedia's <a href="../../../m/a/n/Wikipedia%7EManual_of_Style_350a.html" title="Wikipedia:Manual of Style">quality standards</a>.</b><br />
<small>Please discuss this issue on the <a href="../../../a/g/g/Talk%7EAggregate_pattern_968a.html" title="Talk:Aggregate pattern">talk page</a> or <a href="http://en.wikipedia.org../../../a/g/g/Aggregate_pattern.html" class="external text" title="http://en.wikipedia.org../../../a/g/g/Aggregate_pattern.html" rel="nofollow">replace this tag</a> with a <a href="../../../t/e/m/Wikipedia%7ETemplate_messages_Cleanup_ae6e.html#Specific_issues" title="Wikipedia:Template messages/Cleanup">more specific message</a>.<br />
This article has been tagged since <b>October 2005</b>.</small></td>
</tr>
</table>
</div>
<p>An <b>aggregate pattern</b> is an important statistical concept in many fields that rely on statistics to predict the behavior of large groups, based on the tendencies of subgroups to consistently behave in a certain way. It is particularly useful in <a href="../../../s/o/c/Sociology.html" title="Sociology">sociology</a>, <a href="../../../e/c/o/Economics.html" title="Economics">economics</a>, <a href="../../../p/s/y/Psychology.html" title="Psychology">psychology</a>, and <a href="../../../c/r/i/Criminology.html" title="Criminology">criminology</a>.</p>
<p>In <a href="../../../c/o/m/Computer_programming.html" title="Computer programming">computer programming</a>, an <b>aggregate pattern</b> is a <a href="../../../d/e/s/Design_pattern_%28computer_science%29.html" title="Design pattern (computer science)">design pattern</a>.</p>
<p>Members of a common <a href="../../../s/u/b/Subclass_%28computer_science%29.html" title="Subclass (computer science)">subclass</a> are each known to have certain <a href="../../../m/e/t/Method_%28computer_science%29.html" title="Method (computer science)">methods</a>. These methods return information about the state of that particular <a href="../../../o/b/j/Object_%28computer_science%29.html" title="Object (computer science)">object</a>. It does happen that an application is concerned with an aggregation, or amalgamation, of data from several object of the same type. This leads to code being repeated around the program:</p>
<pre>
 my $subtotal;
 foreach my $item (@cart) {
   $subtotal += $item-&gt;query_price();
 }

 my $weight;
 foreach my $item (@cart) {
   $weight += $item-&gt;query_weight();
 }

 # and so on
</pre>
<p><a name="Representing" id="Representing"></a></p>
<h2><span class="editsection">[<a href="../../../a/g/g/Aggregate_pattern.html" title="Edit section: Representing">edit</a>]</span> <span class="mw-headline">Representing</span></h2>
<p>Representing individual objects when the application is concerned about the general state of several objects is an ImpedenceMismatch. This is a common mismatch as programmers feel the need to model the world in minute detail then are pressed with the problem of giving it all a high level interface.</p>
<p>Create an object as a <a href="../../../w/r/a/Wrapper_pattern.html" title="Wrapper pattern">wrapper</a>, using the same API, with a common subtype as a cart entry, but allow it to hold other objects of that subtype: make it a container. Define its accessors to return aggregate information on the objects it contains.</p>
<pre>
 package Cart::Basket;

 @ISA = qw(Cart::Item);

 sub query_price {
   my $self = shift;
   my $contents = $self-&gt;{contents};
   foreach my $item (@$contents) {
   }
 }

 # other query_ routines here...

 sub add_item {
   my $self = shift;
   my $contents = $self-&gt;{contents};
   my $item = shift; $item-&gt;isa('Cart::Item') or die;
   push @$contents, $item;
   return 1;
 }
</pre>
<p>The aggregation logic, in this case, totalling, need only exist in this container, rather than being strewn around the entire program. Less code, less <a href="../../../c/o/d/Code_momentum.html" title="Code momentum">code momentum</a>, fewer dependencies, more flexibility.</p>
<p>We have an object of base type //Cart::Item// that itself holds other //Cart::Item// objects. That makes us recursive and nestable - one basket could hold several items along with another basket, into which other items and baskets could be placed. You may or may not want to do this intentionally, but to someone casually calling //-&gt;query_price()// on your //Cart::Basket// object won't have to concern himself with this - things will just work.</p>
<p>This will break. Unless the advice of AbstractRootClasses is followed and different implementations of the same thing share the same interface, the basket can't confidently aggregate things. Unless the advice of StateVsClass is heeded, abstract root classes will never be achieved: the temptation to draw distinctions between classes that lack certain functions will be too strong. These distinctions run counter to AbstractRootClasses, causing segmentation and proliferation of interfaces for no good reason. This proliferation of types prevents aggregation in baskets and containers. Avoid this vicious cycle.</p>
<p>Aggregation is like iteration in that they both present information gleaned from a number of objects through a tidy interface in one object. While IteratorInterface deals with each contained or known object in turn, AggregatePattern summarizes them in one fell swoop.</p>
<p><i>The article is originally from <a href="../../../p/e/r/Perl_Design_Patterns_Book_8c58.html" title="Perl Design Patterns Book">Perl Design Patterns Book</a>.</i></p>
<p><a name="See_also" id="See_also"></a></p>
<h2><span class="editsection">[<a href="../../../a/g/g/Aggregate_pattern.html" title="Edit section: See also">edit</a>]</span> <span class="mw-headline">See also</span></h2>
<ul>
<li><a href="../../../v/i/s/Visitor_pattern.html" title="Visitor pattern">Visitor pattern</a></li>
<li><a href="../../../t/e/m/Template_class.html" title="Template class">Template class</a></li>
<li><a href="../../../f/a/c/Facade_pattern.html" title="Facade pattern">Facade pattern</a></li>
<li>Iterator interface</li>
<li><a href="../../../t/y/p/Type_safety.html" title="Type safety">Type safety</a></li>
<li><a href="../../../f/u/n/Functional_programming.html" title="Functional programming">Functional programming</a></li>
<li>State vs class</li>
</ul>

<!-- 
Pre-expand include size: 3394 bytes
Post-expand include size: 862 bytes
Template argument size: 142 bytes
Maximum: 2048000 bytes
-->
<div class="printfooter">
Retrieved from "<a href="http://en.wikipedia.org../../../a/g/g/Aggregate_pattern.html">http://en.wikipedia.org../../../a/g/g/Aggregate_pattern.html</a>"</div>
	    <div id="catlinks"><p class='catlinks'><a href="../../../c/a/t/Special%7ECategories_101d.html" title="Special:Categories">Categories</a>: <span dir='ltr'><a href="../../../c/l/e/Category%7ECleanup_from_October_2005_f2da.html" title="Category:Cleanup from October 2005">Cleanup from October 2005</a></span> | <span dir='ltr'><a href="../../../a/l/l/Category%7EAll_pages_needing_cleanup_2b7d.html" title="Category:All pages needing cleanup">All pages needing cleanup</a></span> | <span dir='ltr'><a href="../../../s/o/f/Category%7ESoftware_design_patterns_3010.html" title="Category:Software design patterns">Software design patterns</a></span> | <span dir='ltr'><a href="../../../a/r/t/Category%7EArticles_with_example_Perl_code_3ffc.html" title="Category:Articles with example Perl code">Articles with example Perl code</a></span></p></div>	    <!-- end content -->
	    <div class="visualClear"></div>
	  </div>
	</div>
      </div>
      <div id="column-one">
	<div id="p-cactions" class="portlet">
	  <h5>Views</h5>
	  <ul>
	    <li id="ca-nstab-main"
	       class="selected"	       ><a href="../../../a/g/g/Aggregate_pattern.html">Article</a></li><li id="ca-talk"
	       	       ><a href="../../../a/g/g/Talk%7EAggregate_pattern_968a.html">Discussion</a></li><li id="ca-current"
	       	       ><a href="http://en.wikipedia.org/wiki/Aggregate_pattern">Current revision</a></li>	  </ul>
	</div>
	<div class="portlet" id="p-logo">
	  <a style="background-image: url(../../../images/wiki-en.png);"
	    href="../../../index.html"
	    title="Main Page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
		<div class='portlet' id='p-navigation'>
	  <h5>Navigation</h5>
	  <div class='pBody'>
	    <ul>
	    	      <li id="n-Main-page"><a href="../../../index.html">Main page</a></li>
	     	      <li id="n-Contents"><a href="../../../c/o/n/Wikipedia%7EContents_3181.html">Contents</a></li>
	     	      <li id="n-Featured-content"><a href="../../../f/e/a/Wikipedia%7EFeatured_content_24ba.html">Featured content</a></li>
	     	      <li id="n-currentevents"><a href="../../../c/u/r/Portal%7ECurrent_events_bb60.html">Current events</a></li>
	     	    </ul>
	  </div>
	</div>
		<div class='portlet' id='p-interaction'>
	  <h5>interaction</h5>
	  <div class='pBody'>
	    <ul>
	    	      <li id="n-About-Wikipedia"><a href="../../../a/b/o/Wikipedia%7EAbout_8d82.html">About Wikipedia</a></li>
	     	      <li id="n-portal"><a href="../../../c/o/m/Wikipedia%7ECommunity_Portal_6a3c.html">Community portal</a></li>
	     	      <li id="n-contact"><a href="../../../c/o/n/Wikipedia%7EContact_us_afd6.html">Contact us</a></li>
	     	      <li id="n-sitesupport"><a href="http://wikimediafoundation.org/wiki/Fundraising">Make a donation</a></li>
	     	      <li id="n-help"><a href="../../../c/o/n/Help%7EContents_22de.html">Help</a></li>
	     	    </ul>
	  </div>
	</div>
		<div id="p-search" class="portlet">
	  <h5><label for="searchInput">Search</label></h5>
	  <div id="searchBody" class="pBody">
	    <form action="javascript:goToStatic(3)" id="searchform"><div>
	      <input id="searchInput" name="search" type="text"
	        accesskey="f" value="" />
	      <input type='submit' name="go" class="searchButton" id="searchGoButton"
	        value="Go" />
	    </div></form>
	  </div>
	</div>
	      </div><!-- end of the left (by default at least) column -->
      <div class="visualClear"></div>
      <div id="footer">
    <div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="../../../skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" /></a></div>	<div id="f-copyrightico"><a href="http://wikimediafoundation.org/"><img src="../../../images/wikimedia-button.png" border="0" alt="Wikimedia Foundation"/></a></div>	<ul id="f-list">
	  	  	  <li id="f-credits">This page was last modified 12:35, 6 January 2007 by Wikipedia user <a href="../../../s/m/a/User%7ESmackBot_cc7a.html" title="User:SmackBot">SmackBot</a>. Based on work by Wikipedia user(s) Abednigo, <a href="../../../d/p/v/User%7EDpv_75fb.html" title="User:Dpv">Dpv</a>, <a href="../../../d/a/b/User%7EDabMachine_5d4b.html" title="User:DabMachine">DabMachine</a>, <a href="../../../d/o/u/User%7EDoug_Bell_8398.html" title="User:Doug Bell">Doug Bell</a>, <a href="../../../r/i/c/User%7ERich_Farmbrough_7642.html" title="User:Rich Farmbrough">Rich Farmbrough</a>, <a href="../../../m/a/r/User%7EMarudubshinki_b9b7.html" title="User:Marudubshinki">Marudubshinki</a>, <a href="../../../s/i/m/User%7ESimonP_1010.html" title="User:SimonP">SimonP</a>, <a href="../../../i/s/o/User%7EIsolani_59fc.html" title="User:Isolani">Isolani</a>, <a href="../../../t/h/e/User%7ETheParanoidOne_a135.html" title="User:TheParanoidOne">TheParanoidOne</a>, <a href="../../../b/d/2/User%7EBD2412_a828.html" title="User:BD2412">BD2412</a>, Movint, <a href="../../../r/i/c/User%7ERick_Block_f5f2.html" title="User:Rick Block">Rick Block</a>, <a href="../../../s/a/n/User%7ESandos_3528.html" title="User:Sandos">Sandos</a>, <a href="../../../c/o/h/User%7ECohesion_07b5.html" title="User:Cohesion">Cohesion</a>, <a href="../../../w/m/a/User%7EWmahan_ede0.html" title="User:Wmahan">Wmahan</a>, <a href="../../../d/y/s/User%7EDysprosia_bc6d.html" title="User:Dysprosia">Dysprosia</a>, <a href="../../../r/e/d/User%7ERedWolf_0f32.html" title="User:RedWolf">RedWolf</a>, <a href="../../../d/e/l/User%7EDelirium_b0dc.html" title="User:Delirium">Delirium</a>, <a href="../../../a/l/p/User%7EAlpdpedia_d527.html" title="User:Alpdpedia">Alpdpedia</a> and <a href="../../../t/a/k/User%7ETakuyaMurata_085a.html" title="User:TakuyaMurata">TakuyaMurata</a> and Anonymous user(s) of Wikipedia.</li>	  <li id="f-copyright">All text is available under the terms of the <a class='internal' href="../../../t/e/x/Wikipedia%7EText_of_the_GNU_Free_Documentation_License_702a.html" title="Wikipedia:Text of the GNU Free Documentation License">GNU Free Documentation License</a>. (See <b><a class='internal' href="../../../c/o/p/Wikipedia%7ECopyrights_92c4.html" title="Wikipedia:Copyrights">Copyrights</a></b> for details.) <br /> Wikipedia&reg; is a registered trademark of the <a href="http://www.wikimediafoundation.org">Wikimedia Foundation, Inc</a>., a US-registered <a class='internal' href="../../../5/0/1/501%28c%29.html#501.28c.29.283.29" title="501(c)(3)">501(c)(3)</a> <a href="http://wikimediafoundation.org/wiki/Deductibility_of_donations">tax-deductible</a> <a class='internal' href="../../../n/o/n/Non-profit_organization.html" title="Non-profit organization">nonprofit</a> <a href="../../../c/h/a/Charitable_organization.html" title="Charitable organization">charity</a>.<br /></li>	  <li id="f-about"><a href="../../../a/b/o/Wikipedia%7EAbout_8d82.html" title="Wikipedia:About">About Wikipedia</a></li>	  <li id="f-disclaimer"><a href="../../../g/e/n/Wikipedia%7EGeneral_disclaimer_3e44.html" title="Wikipedia:General disclaimer">Disclaimers</a></li>	  	</ul>
      </div>
    </div>
  </body>
</html>
