<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    		<meta name="keywords" content="User:Aarontay/monobook.js,Blocking policy,Bypass your cache,Village pump (technical)" />
		<link rel="shortcut icon" href="/favicon.ico" />
		<link rel="search" type="application/opensearchdescription+xml" href="/w/opensearch_desc.php" title="Wikipedia (English)" />
		<link rel="copyright" href="../../../COPYING.html" />
    <title>User:Aarontay/monobook.js - Wikipedia, the free encyclopedia</title>
    <style type="text/css">/*<![CDATA[*/ @import "../../../skins/htmldump/main.css"; /*]]>*/</style>
    <link rel="stylesheet" type="text/css" media="print" href="../../../skins/common/commonPrint.css" />
    <!--[if lt IE 5.5000]><style type="text/css">@import "../../../skins/monobook/IE50Fixes.css";</style><![endif]-->
    <!--[if IE 5.5000]><style type="text/css">@import "../../../skins/monobook/IE55Fixes.css";</style><![endif]-->
    <!--[if IE 6]><style type="text/css">@import "../../../skins/monobook/IE60Fixes.css";</style><![endif]-->
    <!--[if IE]><script type="text/javascript" src="../../../skins/common/IEFixes.js"></script>
    <meta http-equiv="imagetoolbar" content="no" /><![endif]-->
    <script type="text/javascript" src="../../../skins/common/wikibits.js"></script>
    <script type="text/javascript" src="../../../skins/htmldump/md5.js"></script>
    <script type="text/javascript" src="../../../skins/htmldump/utf8.js"></script>
    <script type="text/javascript" src="../../../skins/htmldump/lookup.js"></script>
    <script type="text/javascript" src="../../../raw/gen.js"></script>        <style type="text/css">/*<![CDATA[*/
@import "../../../raw/MediaWiki%7ECommon.css";
@import "../../../raw/MediaWiki%7EMonobook.css";
@import "../../../raw/gen.css";
/*]]>*/</style>          </head>
  <body
    class="ns-2">
    <div id="globalWrapper">
      <div id="column-content">
	<div id="content">
	  <a name="top" id="contentTop"></a>
	        <h1 class="firstHeading">User:Aarontay/monobook.js</h1>
	  <div id="bodyContent">
	    <h3 id="siteSub">From Wikipedia, the free encyclopedia</h3>
	    <div id="contentSub"><span class="subpages">&lt; <a href="../../../a/a/r/User%7EAarontay_fcc6.html" title="User:Aarontay">User:Aarontay</a></span></div>
	    	    <div class="usermessage">You have <a href="../../../1/2/7/User_talk%7E127.0.0.1.html" title="User talk:127.0.0.1">new messages</a> (<a href="../../../1/2/7/User_talk%7E127.0.0.1.html" title="User talk:127.0.0.1">last change</a>).</div>	    <!-- start content -->
	    <p><span id="clearyourcache"><b>Note:</b> After saving, you have to <a href="../../../b/y/p/Wikipedia%7EBypass_your_cache_1dae.html" title="Wikipedia:Bypass your cache">bypass your browser's cache</a> to see the changes. <b>Firefox/Mozilla/Safari:</b> hold down <i>Shift</i> while clicking <i>Reload</i> (or press <i>Ctrl-Shift-R</i>), <b>Internet Explorer:</b> press <i>Ctrl-F5</i>, <b>Opera/Konqueror:</b> press <i>F5</i>. 
</p>
<div style="color:darkred;background-color:#EEEEEE;border: darkred 2px solid;padding:5px;" id="jswarning"><div style="clear: both;color:darkred;"></div><b><div style="display:block;">If a message on your talk page led you here, please be wary of who left it.  The code below could contain malicious content capable of compromising your account; if your account appears to be compromised, it will be <a href="../../../b/l/o/Wikipedia%7EBlocking_policy_2eb0.html" title="Wikipedia:Blocking policy">blocked</a>.  If you are unsure whether the code is safe, you can ask at the appropriate <a href="../../../v/i/l/Wikipedia%7EVillage_pump_%28technical%29_e812.html" title="Wikipedia:Village pump (technical)">village pump</a>.</b></div></div></span>
<pre>//[[Category:Wikipedia administrators who use VoA script|{{PAGENAME}}]]&lt;pre&gt;&lt;nowiki&gt;
//Helper tools

//admin list
document.write('&lt;script type=&quot;text/javascript&quot; src=&quot;' 
             + 'http://en.wikipedia.org/w/index.php?title=User:VoABot/adminlist.js' 
             + '&amp;action=raw&amp;ctype=text/javascript&amp;dontcountme=s&quot;&gt;&lt;/script&gt;');
//END
//bot list
document.write('&lt;script type=&quot;text/javascript&quot; src=&quot;' 
             + 'http://en.wikipedia.org/w/index.php?title=User:VoABot/botlist.js'
             + '&amp;action=raw&amp;ctype=text/javascript&amp;dontcountme=s&quot;&gt;&lt;/script&gt;');
//END
//All skins
document.write('&lt;script type=&quot;text/javascript&quot; src=&quot;' 
             + 'http://en.wikipedia.org/w/index.php?title=User:Voice_of_All/JS/count.js'
             + '&amp;action=raw&amp;ctype=text/javascript&amp;dontcountme=s&quot;&gt;&lt;/script&gt;');
//END
document.write('&lt;script type=&quot;text/javascript&quot; src=&quot;' 
             + 'http://en.wikipedia.org/w/index.php?title=User:Voice of All/Dates.js'
             + '&amp;action=raw&amp;ctype=text/javascript&amp;dontcountme=s&quot;&gt;&lt;/script&gt;');
//END

//History stats
addOnloadHook(addhiststats)
function addhiststats()
{
  if (location.href.indexOf('&amp;action=history') !=-1 &amp;&amp; location.href.indexOf('&amp;jsaction=validate') ==-1) 
      { 
     addTab(&quot;javascript:histstats()&quot;, &quot;%&quot;, &quot;ca-stats&quot;, &quot;History statistics&quot;, &quot;&quot;);
     if (wgNamespaceNumber==0)
     {addTab(&quot;http://tools.wikimedia.de/~tim/cgi-bin/contribution-counter?page=&quot; + wgPageName + &quot;&amp;namespace=Articles&amp;dbname=enwiki_p&quot;, &quot;tree&quot;, &quot;ca-editors&quot;, &quot;Editor statistics&quot;, &quot;&quot;);}
      }
  else if (location.href.search(/Special:(Undelete\/|Undelete.*&amp;target=)/) !=-1 &amp;&amp; location.href.search(/&amp;timestamp=|&amp;action=submit/) == -1) 
      { 
      addTab(&quot;javascript:histstats()&quot;, &quot;%&quot;, &quot;ca-stats&quot;, &quot;Revision statistics&quot;, &quot;&quot;);
      }
  else if (location.href.search(/=(Special:Log|Special%3ALog).*&amp;user=[^&amp;]+/) !=-1 &amp;&amp; location.href.search(/=Special:Log\/|&amp;type=\w/) ==-1)
      { 
      addTab(&quot;javascript:logstats()&quot;, &quot;%&quot;, &quot;ca-stats&quot;, &quot;User's log statistics&quot;, &quot;&quot;);
      addTab(&quot;javascript:masterview(2000)&quot;, &quot;2k&quot;, &quot;ca-v2k&quot;, &quot;view last 2000 actions&quot;, &quot;&quot;);
      addTab(&quot;javascript:masterview(5000)&quot;, &quot;5k&quot;, &quot;ca-v5k&quot;, &quot;view last 5000 actions&quot;, &quot;&quot;);
      }
  else if (document.title.indexOf('User contributions') == 0) 
      { 
      addTab(&quot;javascript:sumperentcuse()&quot;, &quot;%&quot;, &quot;ca-sumuse&quot;, &quot;User's edit statistics&quot;, &quot;&quot;);
      addTab(&quot;javascript:masterview(2000)&quot;, &quot;2k&quot;, &quot;ca-v2k&quot;, &quot;view last 2000 edits&quot;, &quot;&quot;);
      addTab(&quot;javascript:masterview(5000)&quot;, &quot;5k&quot;, &quot;ca-v5k&quot;, &quot;view last 5000 edits&quot;, &quot;&quot;);
      if (location.href.search(/\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}/) ==-1)
         addTab(&quot;javascript:get_userlist_xml()&quot;, &quot;$&quot;, &quot;ca-rts&quot;, &quot;Shows user groups&quot;, &quot;&quot;);
      }
  else if (document.title.search(/User:|User talk:/) == 0 &amp;&amp; document.title.indexOf('/') == -1 &amp;&amp; location.href.search(/Special:/) ==-1) 
     {addTab(&quot;javascript:get_userlist_xml()&quot;, &quot;$&quot;, &quot;ca-stats6&quot;, &quot;Shows user groups&quot;, &quot;&quot;);}
}
//END

function logstats()
{
//monobook
if (document.getElementById('bodyContent'))
  {
  var body = document.getElementById('bodyContent');
  }
//cologneblue
else if (document.getElementById('quickbar'))
  {
  if (!document.getElementById('content')){return;}
  var body = document.getElementById('content');
  }
if (document.getElementById('contentSub').innerHTML.indexOf('Viewing log statistics ') !=-1)
      {alert(&quot;Results already shown.&quot;); return;}
var protects = 0;
var unprotects = 0;
var deletes = 0;
var undeletes = 0;
var blocks = 0;
var range_blocks = 0;
var unblocks = 0;
var moves = 0;
var rights = 0;
var botsf = 0;
var botsd = 0;
var renames = 0;
var uploads = 0;
var other = 0;
if (!body.getElementsByTagName('ul')[0])
  {alert('No log events found!'); return;}
var l = body.getElementsByTagName('ul')[0].getElementsByTagName('li');
  for (var i=0; i &lt;l.length; i++)
  {
  var html = l[i].innerHTML;
  if (html.indexOf('&lt;/a&gt;) moved &lt;a href=') !=-1)
     {moves += 1;}
  else if (html.indexOf('&lt;/a&gt;) uploaded &quot;&lt;a href=') !=-1)
     {uploads += 1;}
//sysops
  else if (html.indexOf('&lt;/a&gt;) blocked &quot;&lt;a href=') !=-1)
    {
    blocks += 1;
    if (l[i].getElementsByTagName('a')[3].innerHTML.search(/\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}\/\d\d/) !=-1)
       {range_blocks += 1;}
    else if (l[i].getElementsByTagName('a')[4].innerHTML.search(/\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}\/\d\d/) !=-1)
       {range_blocks += 1;}
    }
  else if (html.indexOf('&lt;/a&gt;) unblocked &lt;a href=') !=-1)
     {unblocks += 1;}
  else if (html.indexOf('&lt;/a&gt;) protected &lt;a href=') !=-1)
     {protects += 1;}
  else if (html.indexOf('&lt;/a&gt;) unprotected &lt;a href=') !=-1)
     {unprotects += 1;}
  else if (html.indexOf('&lt;/a&gt;) deleted &quot;&lt;a href=') !=-1)
     {deletes += 1;}
  else if (html.indexOf('&lt;/a&gt;) restored &quot;&lt;a href=') !=-1)
     {undeletes += 1;}
//bcrats
  else if (html.search(/&lt;\/a&gt;\) changed &lt;a href=.+&lt;\/a&gt;'s rights from/) !=-1)
     {rights += 1;}
  else if (html.indexOf('&lt;span class=&quot;comment&quot;&gt;\(Renamed the user') !=-1)
     {renames += 1;}
  else if (html.indexOf('/a&gt;) granted bot status to &lt;a href=') !=-1)
     {botsf += 1;}
  else if (html.indexOf('&lt;/a&gt;) removed bot status from &lt;a href=') !=-1)
     {botsd += 1;}
  }
//Timing
var first_date = l[0].innerHTML.split(' &lt;a href=')[0].split('&lt;A HREF=')[0];
var last_date = l[i-1].innerHTML.split(' &lt;a href=')[0].split('&lt;A HREF=')[0];
var current_date = new Date();
current_date = current_date.toUTCString().replace(/GMT/, &quot;UTC&quot;);
var E = l.length;
var totdays = getDateDiff(current_date,last_date);
var Daylength = Math.round((1)*totdays)/1;
  if (Daylength == 0) Daylength = 1;
//
var average = E/totdays;
document.getElementById('contentSub').innerHTML = '&lt;br&gt;&lt;span style=&quot;color:darkblue;&quot;&gt;&lt;strong&gt;Viewing log statistics data for this user for the &lt;/span&gt;' + E + ' &lt;span style=&quot;color:darkblue;&quot;&gt;events shown on this page&lt;/span&gt;&lt;/strong&gt;'
//
var TimeDATE = '&lt;span style=&quot;color:blue;&quot;&gt;&lt;strong&gt;Time range:&lt;/span&gt; ' + Daylength + ' approximate day(s) of log items on this page&lt;/strong&gt;&lt;/span&gt;&lt;br&gt; ' + 'Current time: ' + current_date + ' &lt;strong&gt;||&lt;/strong&gt; Oldest action on: ' + last_date + ' (UTC)&lt;br&gt;';
//
document.getElementById('bodyContent').innerHTML = '&lt;div id=&quot;contentSub&quot;&gt;' + document.getElementById('contentSub').innerHTML + '&lt;/div&gt;' + TimeDATE + '&lt;span style=&quot;color:black;&quot;&gt;&lt;strong&gt;Average actions per day:&lt;/span&gt; ' + Math.round((100)*average)/100 + '&lt;/strong&gt; (for last ' + E + ' actions(s))&lt;br&gt;' + '&lt;strong&gt;&lt;span style=&quot;color:blue;&quot;&gt;User actions:&lt;/strong&gt;&lt;/span&gt;&lt;br&gt;' + '&lt;span style=&quot;color:darkgreen;&quot;&gt;&lt;strong&gt;Page moves:&lt;/span&gt; ' + Math.round((100)*(100*(moves)/E))/100 + '&lt;/strong&gt;% (' + moves + ' actions(s))&lt;br&gt;' + '&lt;span style=&quot;color:darkblue;&quot;&gt;&lt;strong&gt;Uploads:&lt;/span&gt; ' + Math.round((100)*(100*(uploads)/E))/100 + '&lt;/strong&gt;% (' + uploads + ' actions(s))&lt;br&gt;' + '&lt;strong&gt;&lt;span style=&quot;color:blue;&quot;&gt;Sysop actions:&lt;/strong&gt;&lt;/span&gt;&lt;br&gt;' + '&lt;span style=&quot;color:black;&quot;&gt;&lt;strong&gt;Page protects:&lt;/span&gt; ' + Math.round((100)*(100*(protects)/E))/100 + '&lt;/strong&gt;% (' + protects + ' actions(s))&lt;br&gt;' + '&lt;span style=&quot;color:grey;&quot;&gt;&lt;strong&gt;Page unprotects:&lt;/span&gt; ' + Math.round((100)*(100*(unprotects)/E))/100 + '&lt;/strong&gt;% (' + unprotects + ' actions(s))&lt;br&gt;' + '&lt;span style=&quot;color:darkred;&quot;&gt;&lt;strong&gt;Deletes:&lt;/span&gt; ' + Math.round((100)*(100*(deletes)/E))/100 + '&lt;/strong&gt;% (' + deletes + ' actions(s))&lt;br&gt;' + '&lt;span style=&quot;color:black;&quot;&gt;&lt;strong&gt;Undeletes:&lt;/span&gt; ' + Math.round((100)*(100*(undeletes)/E))/100 + '&lt;/strong&gt;% (' + undeletes + ' actions(s))&lt;br&gt;' + '&lt;span style=&quot;color:red;&quot;&gt;&lt;strong&gt;Blocks:&lt;/span&gt; ' + Math.round((100)*(100*(blocks)/E))/100 + '&lt;/strong&gt;% (' + blocks + ' actions(s)) &lt;i&gt;(' + range_blocks + ' range block(s))&lt;/i&gt;&lt;br&gt;' + '&lt;span style=&quot;color:black;&quot;&gt;&lt;strong&gt;Unblocks:&lt;/span&gt; ' + Math.round((100)*(100*(unblocks)/E))/100 + '&lt;/strong&gt;% (' + unblocks + ' actions(s))&lt;br&gt;' + '&lt;strong&gt;&lt;span style=&quot;color:blue;&quot;&gt;Bureaucrat actions:&lt;/strong&gt;&lt;/span&gt;&lt;br&gt;' + '&lt;span style=&quot;color:darkblue;&quot;&gt;&lt;strong&gt;Promotions:&lt;/span&gt; ' + Math.round((100)*(100*(rights)/E))/100 + '&lt;/strong&gt;% (' + rights + ' actions(s))&lt;br&gt;' + '&lt;span style=&quot;color:#FF6600;&quot;&gt;&lt;strong&gt;Bot flaggings:&lt;/span&gt; ' + Math.round((100)*(100*(botsf)/E))/100 + '&lt;/strong&gt;% (' + botsf + ' actions(s))&lt;br&gt;' + '&lt;span style=&quot;color:darkred;&quot;&gt;&lt;strong&gt;Bot de-flaggings:&lt;/span&gt; ' + Math.round((100)*(100*(botsd)/E))/100 + '&lt;/strong&gt;% (' + botsd + ' actions(s))&lt;br&gt;' + '&lt;span style=&quot;color:black;&quot;&gt;&lt;strong&gt;Renames:&lt;/span&gt; ' + Math.round((100)*(100*(renames)/E))/100 + '&lt;/strong&gt;% (' + renames + ' actions(s))&lt;br&gt;' + body.innerHTML.split('&lt;!-- start content --&gt;')[1];
}

function masterview(number)
{

  if (location.href.search(/&amp;limit=\d+/) !=-1)
  {
  var limit = location.href.match(/&amp;limit=\d+/g)[0];
  var url = location.href.replace(limit,'&amp;limit=' + number);
  }
  else if (location.href.indexOf('Special:Contributions/') !=-1)
  {
  var name = location.href.split('Special:Contributions/')[1];
  var url = '/w/index.php?title=Special:Contributions&amp;limit=' + number + '&amp;target=' + name;
  }
  else
  {var url = location.href + '&amp;limit=' + number;}
  location.href = url;
}

//***********************
//standard XML Support
function HTTPClient() 
{
  var gml_http;
  if(window.XMLHttpRequest) {
    gml_http = new XMLHttpRequest();
  } else if (window.ActiveXObject) {
    try {
      gml_http = new ActiveXObject(&quot;Msxml2.XMLHTTP&quot;);
    } catch (e) {
      try {
        gml_http = new ActiveXObject(&quot;Microsoft.XMLHTTP&quot;);
      } catch (E) {
        gml_http = false;
      }
    }
  }
  return gml_http;
}

function gml_XMLParse(string) {
  if (document.implementation.createDocument) {
    return gml_xmlparser.parseFromString(string, &quot;text/xml&quot;);
  } else if (window.ActiveXObject) {
    var gml_xmldoc = new ActiveXObject(&quot;Microsoft.XMLDOM&quot;);
    gml_xmldoc.async = &quot;false&quot;;
    ret = gml_xmldoc.loadXML(string);      
    if (!ret)
      return null;
    return gml_xmldoc.documentElement;
  }
  return null;
}
//END
//**********

function get_userlist_xml()
{
  document.getElementById('contentSub').innerHTML += '&lt;br&gt;&lt;strong&gt;Searching for current usergroup information.' + '\n' + 'Please wait...&lt;/strong&gt;';
  gml_xmlhttp = HTTPClient();
  if (!gml_xmlhttp)
    return;
  if (document.title.indexOf('User:') == 0)
    {user_name = document.title.split('User:')[1].split(' - ')[0];}
  else if (document.title.indexOf('User talk:') == 0)
    {user_name = document.title.split('User talk:')[1].split(' - ')[0];}
  else
    {user_name = document.getElementById('contentSub').getElementsByTagName('a')[0].innerHTML;}
  var pageurl = '/w/index.php?title=Special:Listusers&amp;group=&amp;username=' + user_name;
  gml_xmlhttp.open(&quot;GET&quot;, pageurl, true);
  gml_xmlhttp.onreadystatechange = alertget;
  gml_xmlhttp.send(null);
}

function getusergroup()
{
  gml_xmlhttp = HTTPClient();
  if (!gml_xmlhttp)
    return;
  var pageurl = '/w/index.php?title=Special:Listusers&amp;group=sysop&amp;limit=5000';
  gml_xmlhttp.open(&quot;GET&quot;, pageurl, true);
  gml_xmlhttp.onreadystatechange = userget;
  gml_xmlhttp.send(null);
}

function alertget()
{
  if (gml_xmlhttp.readyState != 4)
    return;
  xml = gml_xmlhttp.responseText.replace(/&lt;body.*&quot;ns-4&quot;&gt;/, '&lt;body class=&quot;ns-4&quot;&gt;');
  doc = gml_XMLParse(xml);
  var rights = '(username invalid)';
  if (doc.getElementsByTagName('li')[0])
    {rights = doc.getElementsByTagName('li')[0].innerHTML;}
  if (user_name.indexOf('FAQ') !=-1)
  {user_name = document.getElementById('bodyContent').getElementsByTagName('a')[1].innerHTML;}
  document.getElementById('contentSub').innerHTML += '&lt;br&gt;&lt;span style=&quot;color:blue;&quot;&gt;&lt;strong&gt;' + rights + '&lt;/strong&gt;&lt;/span&gt;';
}

function userget()
{
  if (gml_xmlhttp.readyState != 4)
    return;
  alert(&quot;Usergroup list obtained. Seaching for &quot; + user_name + &quot;.&quot;);
  xml = gml_xmlhttp.responseText.replace(/&lt;body.*&quot;ns-4&quot;&gt;/, '&lt;body class=&quot;ns-4&quot;&gt;');
  doc = gml_XMLParse(xml);
  var l = doc.getElementsByTagName('li');
  var user_name = document.getElementById('bodyContent').getElementsByTagName('a')[0].innerHTML;
  var user_sysop = 'no';
  for (i = 0; i &lt; l.length; i++)
    {
     var name = l[i].getElementsByTagName('a')[0].innerHTML;
     if (user_name == name){user_sysop = 'yes'; break;}
    }
    return user_sysop;
}

//Summary percent use
function sumperentcuse()
{
  if (document.getElementById('contentSub').innerHTML.indexOf('Viewing contribution data for') !=-1)
      {alert(&quot;Results already shown.&quot;); return;}
//check name
  rights_status = '';
  Username = 'this user';
  if (location.href.indexOf('username=') !=-1)
    {Username = location.href.split('username=')[1].split('&amp;')[0].replace(/\+/g,' ');}
  else
    {Username = document.getElementById('bodyContent').getElementsByTagName('a')[0].innerHTML;}
  theusername = 'user &lt;/span&gt;&lt;span style=&quot;color:purple;&quot;&gt;' + Username + '&lt;/span&gt;';
document.getElementById('contentSub').innerHTML += &quot;&lt;br&gt;&lt;strong&gt;Analyzing contributions...please wait&lt;/strong&gt;&quot;;
  gml_xmlhttp = HTTPClient();
  var pageurl = '/w/index.php?title=Special:Log&amp;type=upload&amp;user=' + Username + '&amp;page=&amp;limit=5000&amp;useskin=standard';
  gml_xmlhttp.open(&quot;GET&quot;, pageurl, true);
  gml_xmlhttp.onreadystatechange = sumperentcuse2;
  gml_xmlhttp.send(null);
}

edits_page_compared_js = 0;
function sumperentcuse2()
{
  if (gml_xmlhttp.readyState != 4) return;
  xml = gml_xmlhttp.responseText;
    document.getElementById('contentSub').innerHTML += &quot;&lt;br&gt;&lt;strong&gt;Analyzing uploads...&lt;/strong&gt;&quot;;
  Uploads = 0;
  Uploads_length = 0;
  var up_list_unique = '|';
  if (xml.indexOf('&lt;ul&gt;') !=-1)
  {
  xml = xml.split('&lt;ul&gt;')[1].split('&lt;/ul&gt;')[0];
  Uploads_length = xml.split('&lt;li&gt;').length-1;
  var l = xml.split('&lt;li&gt;');
  for (z=0; z&lt;l.length; z++)
     {
     var litxt = l[z].split('&lt;/li&gt;')[0];
     var name = l[z].split('&lt;/li&gt;')[0];
     if (name.indexOf(') uploaded &quot;&lt;a href=&quot;') !=-1){name = name.split(') uploaded &quot;&lt;a href=&quot;')[1];}
     else if (name.indexOf(') uploaded &quot;&lt;A href=&quot;') !=-1){name = name.split(') uploaded &quot;&lt;A href=&quot;')[1];}
     else {name = '';}
     name = name.split('&quot; title=&quot;')[0];
     if (up_list_unique.indexOf('|' + name + '|') == -1 &amp;&amp; name.indexOf('action=edit') == -1 &amp;&amp; name != '' &amp;&amp; litxt.indexOf('(Reverted to ') == -1)
      {up_list_unique += name + '|';}
     }
  }
  Uploads = up_list_unique.split('|').length-2;
  sumperentcuse3();
}

//initializing
  EC_tot = 0;
//
  Pagelist = '';
  TE = 0;
  sum_edits = 0;
  sumart_edits = 0;
  Art_minor = 0;
  Artm_to_minor = 0;
  Sum_value = -1;
  NS = 0;
  M = 0;
  R = 0;
  EX = 0;
  UM = 0;
  MAM = 0;
//minor/major flagging
  All_markedMaj = 0;
  All_markedMin = 0;
  Minor_withsum = 0;
  Major_withsum = 0;
  Major_edit_sum = 0;
  Major_article_sum = 0;
  Minor_article_sum = 0;
  Article_minor_edits = 0;
  Article_major_edits = 0;
  Is_minor = 0;
  Not_minor = 0;
//namespaces
  Talk = 0;
  User = 0;
  Usertalk = 0;
  Mediawiki = 0;
  Wikipediatalk = 0;
  Wikipedia = 0;
  Images = 0;
  Template = 0;
  Category = 0;
  Portal = 0;
  Help = 0;
  TTalk = 0;
  ITalk = 0;
  HTalk = 0;
  PTalk = 0;
  CTalk = 0;
  MTalk = 0;
  ArticleE = 0;
//unique pages
  Unique_pages = 0;
//degree of contribution
  ArtSig = 0;
  ArtSf = 0;
  ArtRv = 0;
  ArtM = 0;
  ArtUM =0;
//type of non-article contribs
  PR_tot = 0;
  BOT_tot = 0;
  RAfC_tot = 0;
  CP_tot = 0;
  FAC_tot = 0;
  AN_tot = 0;
  RfA_tot = 0;
  AfC_tot = 0;
  RfA_votes_S = 0;
  RfA_votes_O = 0;
  XfD_tot = 0;
  AWB_edits = 0;
  Protections = 0;
  Moves = 0;
  Dummy_Moves = 0;
  Redirects = 0;
  User_warnings = 0;
  User_welcomes = 0;
//block list (for &quot;compare&quot; compatibility)
  blk_num = 0;
//
function sumperentcuse3()
{
  var compare = 0;
  document.getElementById('contentSub').innerHTML += &quot;&lt;br&gt;&lt;strong&gt;Analyzing edits...&lt;/strong&gt;&quot;;
  if (document.getElementById('contentSub').innerHTML.indexOf('edit comparison between') !=-1){compare = 1;}
  if (Username == 'Talk' &amp;&amp; compare == 0)
  {theusername = '&lt;/span&gt;&lt;span style=&quot;color:purple;&quot;&gt;this IP address&lt;/span&gt;';}
  else if (compare == 1)
  {theusername = '&lt;/span&gt;&lt;span style=&quot;color:purple;&quot;&gt;these users&lt;/span&gt;';}
  else if (Username == 'navigation')
  {theusername = '&lt;/span&gt;&lt;span style=&quot;color:purple;&quot;&gt;these IP addresses&lt;/span&gt;';}
  if (theadminlist.indexOf('|' + Username + '|') !=-1)
 {rights_status = ' &lt;/span&gt;&lt;span style=&quot;color:blue;&quot;&gt;(sysop)&lt;/span&gt;&lt;span style=&quot;color:purple;&quot;&gt;';}
  var cnt = 0;
//tagging edits
  var rvlink = '&lt;span style=&quot;color:darkred;&quot;&gt;&lt;strong&gt;rv&lt;/strong&gt;&lt;/span&gt;';
  var nslink = '&lt;strong&gt;&lt;span style=&quot;color:darkgrey;&quot;&gt;no summary&lt;/span&gt;&lt;/strong&gt;';
  var mslink = '&lt;strong&gt;minor&lt;/strong&gt;';
  var sflink =  '&lt;strong&gt;&lt;span style=&quot;color:purple;&quot;&gt;superficial&lt;/span&gt;&lt;/strong&gt;';
  var sflink2 =  '&lt;strong&gt;&lt;span style=&quot;color:green;&quot;&gt;superficial&lt;/span&gt;&lt;/strong&gt;';
  var mamlink = '&lt;strong&gt;&lt;span style=&quot;color:green;&quot;&gt;minor&lt;/span&gt;&lt;/strong&gt;';
  var tplink = '&lt;strong&gt;most recent&lt;/strong&gt;'
  var umplink = '&lt;strong&gt;&lt;span style=&quot;color:grey;&quot;&gt;unmarked&lt;/strong&gt;&lt;/span&gt;'
  var alink = '&lt;strong&gt;&lt;span style=&quot;color:darkblue;&quot;&gt;notable&lt;/strong&gt;&lt;/span&gt;';
  var malink = '&lt;strong&gt;&lt;span style=&quot;color:blue;&quot;&gt;notable!&lt;/strong&gt;&lt;/span&gt;';
  var minalink = '&lt;strong&gt;significant&lt;/strong&gt;';
  var c = document.getElementById('contentSub');
  var a = c.getElementsByTagName('a');
  l = document.getElementById('bodyContent').getElementsByTagName('li');
  if (l[0] == undefined){alert(&quot;Nothing to analyze!&quot;); return;}
//For loop START
  for (i = 0; i &lt; l.length; i++)
  {
     if (l[i].innerHTML.search(/ (unblocked|blocked)( &quot;| )&lt;[Aa] href=&quot;/) == -1)
     {
          var tpnt = '';
//find pagename, and split li text after it to get summary text, the k loop fixes this for autosums
          if (l[i].getElementsByTagName('a')[2])
          {tpnt = l[i].getElementsByTagName('a')[2].innerHTML;}
          var Careful = 'no';
          var Revert = 'no';
          var Minor = 'no';
          var Superfic = 'no';
          var Notable = 'no';
          var Significant = 'no';
          var Minor_nonrv = -1;
          var Minor_or_sum = -1;
          var Marked_as_minor = 'no';
          var Namespace_type = 'non-article';
          var Namespace = '';
          Sum_value = -1;
//get the edit summary
          var autoc = 'no';
          var the_sum = '';
          for (k = 0 ; k &lt; l[i].getElementsByTagName('span').length; k++)
            {
            if (l[i].getElementsByTagName('span')[k].className == 'minor') 
                  {          
                  Minor_nonrv = 1;
                  Minor_or_sum = 1;
                  Minor = 'yes';
                  Marked_as_minor = 'yes';
                  }
           else if (l[i].getElementsByTagName('span')[k].className == 'autocomment') 
                  {    
                  autoc = 'yes';   
                  Sum_value = 1; 
                  Minor_or_sum = 1;
                  the_sum = l[i].getElementsByTagName('span')[k-1].innerHTML;
                  if (the_sum.search(/ -&lt;\/span&gt; /i) !=-1) 
                     the_sum = the_sum.split(/ -&lt;\/span&gt; /i)[1];
                  else if (the_sum.search(/ -&lt;\/span&gt;/i) !=-1) 
                     the_sum = the_sum.split(/ -&lt;\/span&gt;/i)[1];
                  else if (the_sum.search(/-&lt;\/span&gt;/i) !=-1) 
                     the_sum = the_sum.split(/-&lt;\/span&gt;/i)[1];
                  else
                      {     
                  Sum_value = -1;
                  the_sum = '';
                  if (Minor == 'no') Minor_or_sum = -1;
                      }
                  break;
                  }
           else if (l[i].getElementsByTagName('span')[k].className == 'comment') 
                  {          
                  Sum_value = 1; 
                  Minor_or_sum = 1;
                  var Careful = 'no';
                  the_sum = l[i].getElementsByTagName('span')[k].innerHTML;
               }
             }
//End of k loop
//get pagename (var &quot;Namespace&quot; is really just the page name here)
//edit type passes included here
       if (l[i].getElementsByTagName('a')[2])
          {var Namespace = l[i].getElementsByTagName('a')[2].innerHTML;}
       if (Pagelist.indexOf('|' + Namespace + '|') == -1)
          {Pagelist += '|' + Namespace + '|'; Unique_pages += 1;}
//get protections
       if (the_sum.search(/\((Protected|Unprotected) .+: .+/) ==0)
          {Protections += 1;}
//get moves
       else if (the_sum.search(/\(moved &lt;a href=.+&lt;.a&gt; to &lt;a href=.+&lt;.a&gt;/i) ==0 &amp;&amp; Marked_as_minor == 'yes')
          {Moves += 1;}
//get moves
       else if (the_sum.search(/\(moved &lt;a href=.+&lt;.a&gt; to &lt;a href=.+&lt;.a&gt;:/i) ==0 &amp;&amp; Marked_as_minor == 'no')
          {Dummy_Moves += 1;}
//get redirects
       else if (the_sum.search(/\((redirect|redir|red\.|#redirect|#redir|#red\.|page redir|redirection to|r\)|rd\)|rd\.\))|(fix|make|create|double|repair|db|dbl|bypass|skip) redir/i) ==0)
          {Redirects += 1;}
//get AWB edits
       if (the_sum.search(/using &lt;a href=&quot;\/wiki\/Wikipedia:AutoWikiBrowser&quot;| using &lt;a href=&quot;\/wiki\/(WP|[Ww]iki|[Ww]ikipedia):AWB&quot;/i) !=-1)
          {AWB_edits += 1; Careful = 'yes'; Superfic = 'yes';}
//remove links from summary
the_sum = the_sum.replace(/&lt;a href=([^&gt;\]])+&gt;([^&lt;])+&lt;\/a&gt;/ig,'');
//sort namespaces
          if (Namespace.indexOf('Talk:') == 0)
           {
          Namespace_type = 'talk';
          Talk = Talk + 1;
           }
          else if (Namespace.indexOf('User:') == 0)
           {
          Namespace_type = 'talk';
          User = User + 1;
           }
          else if (Namespace.indexOf('User talk:') == 0)
           {
          Namespace_type = 'talk';
          Usertalk = Usertalk + 1;
          if (the_sum.search(/\(test|\(warn|test\d|test[-: ]|warn (user|vandal)|user notice:|warning[ :\)]|vandism|vandaliz|please stop|your (recent|edits)|regarding (changes|edits)|changes to/i) !=-1)
              {User_warnings += 1;}
          else if (the_sum.search(/welcome[ :\)!]|welc[ :\)!]|welc.[ :\)!]|(create|make) an account/i) !=-1)
              {User_welcomes += 1;}
           }
          else if (Namespace.indexOf('MediaWiki:') == 0)
           {
          Mediawiki = Mediawiki + 1;
           }
          else if (Namespace.search(/(Commons|Wikipedia) talk:/) == 0)
           {
          Namespace_type = 'talk';
          Wikipediatalk = Wikipediatalk + 1;
           }
          else if (Namespace.search(/(Commons|Wikipedia):/) == 0)
           {
          Wikipedia = Wikipedia + 1;
             if (Namespace.search(/Wikipedia:Peer review\//) == 0)
             {PR_tot += 1;}
             else if (Namespace.search(/Wikipedia:Articles for creation\//) == 0)
             {AfC_tot += 1;}
             else if (Namespace.search(/Wikipedia:[Rr]equests for ([Cc]omment|[Aa]rbitration)/)==0)
             {RAfC_tot += 1;}
             else if (Namespace.search(/for [Dd]eletion|Deletion [Rr]eview|Redirects for discussion/) !=-1)
              {XfD_tot += 1;}
             else if (Namespace.search(/Wikipedia:Copyright/) !=-1)
              {CP_tot += 1;}
             else if (Namespace.search(/Wikipedia:Featured (article|picture|list) candidates/) !=-1)
              {FAC_tot += 1;}
             else if (Namespace.search(/Wikipedia:(Administrators' noticeboard|Administrator intervention against vandalism|Requests for investigation|WikiProject on open proxies|Long term abuse|Suspected sock puppets|Abuse reports|Personal attack intervention noticeboard|Requests for checkuser)/) !=-1)
              {AN_tot += 1;}
             else if (Namespace.search(/Wikipedia:Requests for (adminship|bureaucratship)/) == 0)
              {
              RfA_tot += 1;
                if (the_sum.search(/\((support|supp\.|sup\.|supp|endorse|(e|s|ss|ws)[\.\)]|nominate\)|new )|(endorse|support|supp|sup\.|absolutely|definitely|[\.\(][es])[\);:]/i) != -1)
                {RfA_votes_S += 1;}
                else if (the_sum.search(/\((oppose|op\.|opp|reject|no[\.\)]|(o|wo|so)[\.\)])|(oppose|opp|op\.|absolutely not|definitely not|[\.\(]o)[\);:]/i) != -1)
                {RfA_votes_O += 1;}
              }
             else if (Namespace.indexOf('Wikipedia:Bots/Requests for approval') == 0)
              {BOT_tot += 1;}
           }
          else if (Namespace.indexOf('Image:') == 0)
           {
          Images = Images + 1;
           }
          else if (Namespace.indexOf('Template:') == 0)
           {
          Template = Template + 1;
           }
          else if (Namespace.indexOf('Category:') == 0)
           {
          Category = Category + 1;
           }
          else if (Namespace.search(/(Portal|Creator):/) == 0)
           {
          Portal = Portal + 1;
           }
          else if (Namespace.indexOf('Help:') == 0)
           {
          Help = Help + 1;
           }
          else if (Namespace.search(/Template talk:/) == 0)
           {
          Namespace_type = 'talk';
          TTalk = TTalk + 1;
           }
          else if (Namespace.search(/Image talk:/) == 0)
           {
          Namespace_type = 'talk';
          ITalk = ITalk + 1;
           }
          else if (Namespace.search(/Category talk:/) == 0)
           {
          Namespace_type = 'talk';
          CTalk = CTalk + 1;
           }
          else if (Namespace.search(/(Portal|Creator) talk:/) == 0)
           {
          Namespace_type = 'talk';
          PTalk = PTalk + 1;
           }
          else if (Namespace.search(/Help talk:/) == 0)
           {
          Namespace_type = 'talk';
          HTalk = HTalk + 1;
           }
          else if (Namespace.search(/MediaWiki talk:/) == 0)
           {
          Namespace_type = 'talk';
          MTalk = MTalk + 1;
           }
          else
           {
           Namespace_type = 'article';
           }
//begin passes
   if (Namespace_type == 'article' &amp;&amp; Sum_value == 1) 
      {
//notable edits
       if (the_sum.search(/ created[\.;:\)]|create[\.;:\)]| creation[\.;:\)]|rastic addition|rastic edit|rastic cha|rastic mod|expansion |rewriting[:\.\)]|rewrote[ :\.\)]|(rewriting|rewrite|rewrote)[ :\.\)](completely|page|article|bio)|(major|large|significant) (section|addition|rewrite)/i) !=-1 || the_sum.search(/(add )(a | )(lot|large|tons|great|signif)|(write|create|initial|start|begin) (brand|new|article|page)|major (ed|ch|mod)|interim save|\(expand(ed|ing)(page|article|stub|bio)|[ \(]expan(d|ed|ing)[ :\.\)]|contin(uing|ued) (addition|expand|expans|writ)/i) !=-1 || the_sum.search(/(\+|(add|added|adding|more|elaborate)[ :\.\)]|create |another )(history|paragraph|section|references|sources|sourcing|citations|refs|photos|images|pictures)/i) !=-1 || the_sum.search(/(create|created|creating|made|making|quick|\(new|start|begin|started|starting)( new | this | )(stub|basic|initial|article|page|bio|section|paragr|draft)/i) !=-1 || the_sum.search(/(added|adding) (basic|initial|biog|section|paragr|details)|creat(e|ed|ing) (page|section|article|biog)/i) !=-1 || the_sum.search(/(references| sources| sourced|citations) add|(\(|^)(sources|additional|reference|source|citation|refs|photos|images|ictures|pics)\)/i) !=-1 || the_sum.search(/\((create[\.;:\)]|created[\.;:\)]|creation[\.;:\)]|de novo[\.;:\)]|bio[\.;:\)]|biography[\.;:\)]|begin[\.;:\)]|start[\.;:\)]|article[\.;:\)]|page\))/i) !=-1)
                 {Careful = 'yes'; Minor = 'no'; Minor_nonrv = -1; Notable = 'yes';}
//significant edit pass 1
        else if (the_sum.search(/Info|Content|addition[\.;:\)]|addition[\.;:\)]| facts|facts\)|^add\)| facts|\(add[\.;:\)]|(quotes|fact|xample|xpand|ompromise| accurate| sentence[ :\.\)]| about)/i) !=-1 || the_sum.search(/biography|(ade|reate) article\)|creat(e|ion) |copyedit|descri(ption|be)/i) !=-1 || the_sum.search(/(add|finish|finishing|finished|more|\+|another)([ :\.\)]|)(reference|citation|source|info|content|image|photo|pic|section)/i) !=-1 || the_sum.search(/(reference|itation|source|info|content|image|photo|pictures) (added|included|create|uploaded)/i) !=-1 || the_sum.search(/\((create|created|creating) |(\(|^)(source|blurb|note|addition|reference|sources|citation|ref|photo|image|icture|pic|more)\)/i) !=-1 || the_sum.search(/(rewriting[ :\.\)]|rewrite[ :\.\)]|rewrote[ :\.\)])(section|lead|intro|paragraph)/i ) !=-1 || the_sum.search(/\(([^ ])+ (note|blurb|data|sourcing)\)/i) !=-1 || the_sum.search(/^(\(| )( |)(note|blurb|data|sourcing)\)/i) !=-1)
                  {Careful = 'yes'; Minor = 'yes'; Significant = 'yes'; Minor_nonrv = 1;}
//summary rules
               else if (autoc == 'no' &amp;&amp; the_sum.length &lt; 12)
               {Minor = 'yes'; Superfic = 'yes'; Minor_nonrv = 1;}
               else if (autoc == 'yes' &amp;&amp; the_sum.length &lt; 10)
               {Minor = 'yes'; Superfic = 'yes'; Minor_nonrv = 1;}
               else if (the_sum.split(' ').length ==1)
               {Minor = 'yes'; Superfic = 'yes'; Minor_nonrv = 1; Careful = 'yes';}
               else if (the_sum.split(' ').length ==2)
               {Minor = 'yes'; Superfic = 'yes'; Minor_nonrv = 1;}
               else if (the_sum.split(' ').length &lt; 3 &amp;&amp; Minor == 'no')
               {Minor = 'yes'; Significant = 'yes'; Minor_nonrv = 1;}
               else if (the_sum.split(' ').length &lt; 3 &amp;&amp; Minor == 'yes')
               {Minor = 'yes'; Superfic = 'yes'; Minor_nonrv = 1;}
       }
//basic flagging
          if (Minor_or_sum == -1)
          {  
          UM = UM + 1;
          NS = NS + 1;
          if (STATS_ALL_JS_RAN == false) l[i].innerHTML += ' (' + umplink + ') #' + UM;
          }
          else if (Sum_value == -1)
          {
          NS = NS + 1;
          if (STATS_ALL_JS_RAN == false) l[i].innerHTML += ' (' + nslink + ') #' + NS;
          }
          if (l[i].innerHTML.indexOf('(top)') !=-1)
          {TE = TE + 1;}
//article reverts
      if (Namespace_type == 'article' &amp;&amp; Sum_value == 1 &amp;&amp; the_sum.search('(P|p)rotect(ed| )') == -1)
        {
        if (the_sum.search(/(RV|Rv|rV)[Vv]|-[ -]rv|[Rr](V|v)|\(rv|\(R[Vv]|RV[ :;\)]|Rv[ :;\)]|rv[ :;\)]|[Rr]m |[Rr]mv/) !=-1 || the_sum.search(/[ \(]rever(t|ted|ting)|rever(t|ted|ting)[ :;\)]|reversion|graffitti| nonsense|vandal ed| vandal|rollback[ :\.\)]| irrelevant| unverified/i) !=-1 || the_sum.search(/dele(t|ed|e) vandal|linkspam|remov(ed|ing)|delet(ed|ing) |reinsta(t|ted)[ :\.\)]|restor(e|ed|ing)[ :\.\)]| previous[ :\.\)]| version /i) !=-1 || the_sum.search(/re-added|re-inserted|added back /i) !=-1 || the_sum.search(/back again|POINT|no such |speculation\)| such thing| agree with[ :\.\)]| don't[ :\.\)]| do not[ :\.\)]|\(surely[ :\.\)]|\?[ :\.\)]|\?\.|\?\)/i) !=-1 || the_sum.search(/linkspam[ :\.\)]|nonsense[ :\.\)]|vandal ed|ollback[ :\.\)]| vandal| vandals | vandal[ \.\)]|trolling|delete[:\.\)]/i) !=-1)
            {
          Superfic = 'no';
          Notable = 'no';
          Significant = 'no';
          Minor_nonrv = -1;
          Revert = 'yes';
          R = R + 1;
          if (STATS_ALL_JS_RAN == false) l[i].innerHTML += ' (' + rvlink + ') #' + R;
            }
        }
//long summary article reverts
   else if (Namespace_type == 'article' &amp;&amp; Sum_value == 1 &amp;&amp; the_sum.search('(P|p)rotect(ed| )') == -1 &amp;&amp; the_sum.length &gt; 25)
        {
        if (the_sum.search(/remove[ :\.\)]|removed[ :\.\)]|[ :\)]remove|[ :\)]removed|seriously[ :\.\)]|WTF[ :\.\)]|\?\?|!!|restore[ :\.\)]|restored[ :\.\)]|restoring[ :\.\)]/i) !=-1 || the_sum.search(/(Should|should|Is|is) not |should(nt|n't) |c(an't|annot) |(un|n)ecessary |no need[ :\.\)]|Abuse of |admin powers | violat(e|es|ed) | policy| standards| doesn't| your | you're| yours| you | aren't| isn't| stop[ :\.\)]| not|please[ :\.\)]|[ :\.\)]please|can't|cant|why[ :\.\)]| the talk page| (see|to) talk/i) !=-1)
            {
          Superfic = 'no';
          Notable = 'no';
          Significant = 'no';
          Minor_nonrv = -1;
          Revert = 'yes';
          R = R + 1;
          if (STATS_ALL_JS_RAN == false) l[i].innerHTML += ' (' + rvlink + ') #' + R;
            }
        }
//non-article reverts
      else if (Namespace_type != 'article' &amp;&amp; Sum_value == 1 &amp;&amp; the_sum.search('rotect(ed| )') == -1)
        {
        if (the_sum.search(/\((RVv|Rvv|rVv|-[ -]rv|rv|R[Vv]|RV|rev|rest|restore|Rv|rv|RrV|Rrv)[ :;\)]|BOT - Revert|BOT - [Rr]v\. |BOT - [Rr]v |reverted edits by /) !=-1 || the_sum.search(/[ \(]rever(t|ted|ting)[ :;\)](comment|note|reply|resp|rude|incivil|personal|edits by|changes by)|reversion|graffitti| nonsense|vandal edit|rollback[ :\.\)]| irrelevant|(t|ed|e) vandal|linkspam|remov(ed|ing)|delet(ed|ing) |reinsta(t|ted)|restore(d) |(un|n)ecessary /i) !=-1)
            {
          Minor_nonrv = -1;
          Revert = 'yes';
          R = R + 1;
          if (STATS_ALL_JS_RAN == false) l[i].innerHTML += ' (' + rvlink + ') #' + R;
            }
        }
//superficial check pass 1 (main)
      if (Namespace_type == 'article' &amp;&amp; Sum_value == 1 &amp;&amp; Revert == 'no' &amp;&amp; Superfic == 'no')
           {
      if (the_sum.search(/&gt;|&lt;|\+|\([Mm]ove|\([Nn]eeds |\([Nn]eed | -|to-|#|\.\.\.|\([Mm][\.;:\)]| [Mm][\.;:\)]|\[\[|\{\{/) !=-1 || the_sum.search(/\(no[ :\.\)]|\(clean|grammar|lnk[ :\.\)]| lnk|punc[ :\.\)]|(gramatical|grammar|syntax|spelling) (error|typo|correct|fix)/i) !=-1 || the_sum.search(/ [Cc]lean(up|ing)[\.;:\)]| cleanup| punct[ :\.\)]|re-cat[ :\.\)]|recat[ :\.\)]|[Aa]ssisted[ :\.\)]| format|[Ff]rmt[\.\)]| linked|template|tmplt| abbr|Abbr|Disambig|disambig|[\( ]Dab[\.;:\)]|[\( ]dab[\.;:\)]|[\( ]DAB[\.;:\)]| odering| spelling|spelling[ \.:\)]| typo|typo\)| word| tag|place[ :\.\)]|bad[ :\.\)]|can[ :\.\)]|word[\.;:\)]|tag[\.;:\)]|place[\.;:\)]|bad[\.;:\)]|[Oo]{1,5}[Pp][Ss]/) !=-1 || the_sum.search(/for [Dd]eletion| AFD| Afd| CSD| CfSD| belong |[Pp]ointless|[Nn]eedless|[Rr]eplacement/) !=-1 || the_sum.search(/AWB|REDIR| redir[ :\.\)]|[Rr]edir(ect|ing)| skip[ :\.\)]| interwiki[ :\.\)]|[Ss]horten[ :\.\)]|compress[ :\.\)]|convert[ :\.\)]| rid[ :\.\)]|Auto |[Bb]ypass /) !=-1 || the_sum.search(/convert[ :\.\)]| sentence[ :\.\)]|easier[ :\.\)]|simplify|simpler[ :\.\)]| version|version\)|robot:/i) !=-1 || the_sum.search(/small|shorten|avoid|epair|few[ :\.\)]|protected[ :\.\)]| heading| title|made[ :\.\)]| bold|populating[ :\.\)]| flag /i) !=-1 || the_sum.search(/auto[ :\.\)]|html[ :\.\)]|already[ :\.\)]|almost[ :\.\)]| cut[ :\.\)]| paste[ :\.\)]| tweak|mov(e|ed|ing) /i) !=-1 || the_sum.search(/(changing|modify|modified|modifying|tweaking) (links|layout|format|setup|interwiki)|chang(e|ing) to/i) !=-1 || the_sum.search(/Stub-| sorting|-sorting|You can help!|see[- ]also| adjectives|adjectives[\.;:\)]|categorize|categorizing|[ \(]fix[ \.:\)]|[ \(]fixed[ \.:\)]|![\.;:\)]| match[ :\)]| others[ :\)]|\((No[ :\.\)]|no )/i) !=-1 || the_sum.search(/(added|add|changed|moved|modified) (wikilink|link|categor)/i) !=-1 || the_sum.search(/[Dd]ab[ \.:\)]|\([Ff]ix[ \.:\)]|[Ff]ix[ \.:\)]/) == 0)
               {
          Minor_nonrv = 1;
          Minor = 'yes';
          Careful = 'yes';
          Superfic = 'yes';
          Notable = 'no';
          Significant = 'no';
               }
           }
//superficial check pass 2
     if (Namespace_type == 'article' &amp;&amp; Sum_value == 1 &amp;&amp; Revert == 'no' &amp;&amp; Superfic == 'no' &amp;&amp; Careful == 'no')
          {
        if (the_sum.search(/[Ww]ikif(y|ied)|[Cc]ategor(y|ize|ise)|(Fo|F|f|fo)rm(t|at)|-[Aa]ssisted|BOT|[Bb]ot |[Ss]tyle|[Mm]odif(y|ied|ying)/) !=-1 || the_sum.search(/re(structure|organiz|order)|clea(n|r)\)/i) !=-1 || the_sum.search(/clarif(y|ied)[ :\.\)]|replac(e|ed|ing)| conver(t|sion)|(re-)arrang(e|ed|ing) /i) !=-1 || the_sum.search(/ Request| request|WP:|[Ll]ink to |[Nn]eed(ed| )|[Ll]ink /) !=-1 || the_sum.search(/Fix| list|reorganize|correct| website| detail|this[ :\.\)]| this/i) !=-1 || the_sum.search(/ cat /) !=1 || the_sum.search(/[Rr]equest([ :\.\)]|ed[ :\.\)]|ing )/) !=-1 || the_sum.search(/!\)| &quot;.+&quot;| '.+'/) !=-1 || the_sum.search(/(article|page) (is|currently|undergoing)/) !=-1)
               {
          Minor_nonrv = 1;
          Minor = 'yes';
          Careful = 'yes';
          Superfic = 'yes';
          Notable = 'no';
          Significant = 'no';
               }
           }
//signifiant article edit pass 2
 if (Namespace_type == 'article' &amp;&amp; Sum_value == 1 &amp;&amp; Revert == 'no' &amp;&amp; Careful == 'no')
           {
        if (the_sum.search(/sub(cat|section)/i) !=-1 || the_sum.search(/ (not|NOT) | (is|IS) (not|NOT)/i) !=-1 || the_sum.search(/( )only( )|(P|p)lease /i) !=-1 || the_sum.search(/(merge[ :\.\)]|merge[\.;:\)]|small[ :\.\)]|minor[ :\.\)]|onvert[ :\.\)]| name| naming|additional[ :\.\)]|extra[ :\.\)]| few)/i) !=-1 || the_sum.search(/(infobox|small|(V|v)ersion)[ :\.\)]/i) !=-1 || the_sum.search(/factual|Factual|ording|eword[ :\.\)]|true| truth|correc(t|ted|ting) (date|data|info|facts)| didn| did not| cannot| could not/i) !=-1 || the_sum.search(/re(structure|-structure|organiz|order|-order)| sourcing\)| sources\)/i) !=-1 || the_sum.search(/( reference|ref\.|ref\))/i) !=-1 || the_sum.search(/(Write[ :\.\)]|write[ :\.\)]|New[ :\.\)]|new[ :\.\)]|image|photo|pictures)/i) !=-1)
               {
          Minor_nonrv = 1;
          Minor = 'yes';
          Significant = 'yes';
               }
           }
//anything else left, marked as minor, is superficial
 if (Namespace_type == 'article' &amp;&amp; Sum_value == 1 &amp;&amp; Revert=='no' &amp;&amp; Notable =='no' &amp;&amp; Superfic=='no' &amp;&amp; Significant == 'no' &amp;&amp; Minor=='yes')
           {
          Minor_nonrv = 1;
          Minor = 'yes';
          Superfic = 'yes';
           }
//anything else left, not marked as minor, is small
 else if (Namespace_type == 'article' &amp;&amp; Sum_value == 1 &amp;&amp; Revert=='no' &amp;&amp; Notable =='no' &amp;&amp; Superfic=='no' &amp;&amp; Significant == 'no' &amp;&amp; Minor=='no')
           {
          Minor_nonrv = 1;
          Significant = 'yes'
          Minor = 'yes';
           }
//
//analysis
          if (Marked_as_minor == 'yes' &amp;&amp; Revert == 'no' &amp;&amp; Sum_value == 1){All_markedMin = All_markedMin + 1;}
          if (Marked_as_minor == 'no' &amp;&amp; Revert == 'no' &amp;&amp; Sum_value == 1){All_markedMaj = All_markedMaj + 1;}
          if (Namespace_type == 'article')
           {
          ArticleE = ArticleE + 1;
          if (Minor_or_sum == -1){Minor = 'no'}
//article edit summary use percent stuff
          if (Marked_as_minor == 'no' &amp;&amp; i&lt;1000 &amp;&amp; contribs_first==true)
               {
          sumart_edits += 1;
          Article_major_edits = Article_major_edits + 1; 
          if (Sum_value == 1){Major_article_sum = Major_article_sum + 1;}
               }
          else if (Marked_as_minor == 'yes' &amp;&amp; i&lt;1000 &amp;&amp; contribs_first==true)
               {
          sumart_edits += 1;
          Article_minor_edits = Article_minor_edits + 1; 
          if (Sum_value == 1)
          {Minor_article_sum = Minor_article_sum + 1;}
               }
          if (Superfic == 'yes')
               {Art_minor = Art_minor + 1;}
          if (Superfic == 'yes' &amp;&amp; Marked_as_minor == 'no')
               {Artm_to_minor = Artm_to_minor + 1;}
//sig. article edits
          if (Sum_value == -1 &amp;&amp; Marked_as_minor == 'yes')
               {
          ArtSf = ArtSf + 1;
          if (STATS_ALL_JS_RAN == false) l[i].innerHTML += ' (' + sflink + ') #' + ArtSf;
               }
          else if (Notable == 'yes' &amp;&amp; Marked_as_minor == 'no')
               {
          ArtSig = ArtSig + 1;
          if (STATS_ALL_JS_RAN == false) l[i].innerHTML += ' (' + alink + ') #' + ArtSig;  
               }
          else if (Notable == 'yes' &amp;&amp; Marked_as_minor == 'yes')
               {
          ArtSig = ArtSig + 1;
          if (STATS_ALL_JS_RAN == false) l[i].innerHTML += ' (' + malink + ') #' + ArtSig;  
               }
          else if (Superfic == 'yes' &amp;&amp; Marked_as_minor == 'yes' &amp;&amp; Sum_value == 1)
               {
          ArtSf = ArtSf + 1;
          if (STATS_ALL_JS_RAN == false) l[i].innerHTML += ' (' + sflink + ') #' + ArtSf;
               }
          else if (Superfic == 'yes' &amp;&amp; Marked_as_minor == 'no' &amp;&amp; Sum_value == 1)
               {
          ArtSf = ArtSf + 1;
          if (STATS_ALL_JS_RAN == false) l[i].innerHTML += ' (' + sflink2 + ') #' + ArtSf;
               }
          else if (Superfic == 'no' &amp;&amp; Minor == 'yes' &amp;&amp; Significant == 'yes' &amp;&amp; Sum_value == 1 &amp;&amp; Revert == 'no')
               {
          ArtM = ArtM + 1;
          if (STATS_ALL_JS_RAN == false) l[i].innerHTML += ' (' + minalink + ') #' + ArtM;
               }
             }
//overall for edit percent usage (up 1000 only)
          if (Marked_as_minor == 'yes' &amp;&amp; i&lt;1000 &amp;&amp; contribs_first==true)
            {
            sum_edits += 1;
            Is_minor = Is_minor + 1;
            if (Sum_value == 1)
            {Minor_withsum = Minor_withsum + 1;}    
            }
          else if (Marked_as_minor == 'no' &amp;&amp; i&lt;1000 &amp;&amp; contribs_first==true)
            {
            sum_edits += 1;
            Not_minor = Not_minor + 1;
            if (Sum_value == 1)
            {Major_withsum = Major_withsum + 1;}    
            }
//done
           if (Minor_nonrv == 1)
           {  
            M = M + 1;
            if (Marked_as_minor == 'yes' &amp;&amp; Superfic == 'no')
              {if (STATS_ALL_JS_RAN == false) l[i].innerHTML += ' (' + mslink + ') #' + M;}
            }
       }
      else {blk_num += 1;}
   }
//END of FOR loop
if (i == 1)
{
document.getElementById('contentSub').innerHTML = '&lt;span style=&quot;color:blue;&quot;&gt;&lt;strong&gt;There are no contribution statistics to show since there is only one edit.&lt;/span&gt;&lt;/strong&gt;&lt;br&gt;';
return;
}
EC_tot += i;
//NOTE: the max edits per iteration MUST be higher than Max_Eforsum for this method to hold
//Currently, it is 2000, in User:Voice of All/JS/count.js
if (contribs_first==true)
  {
var ave_tot=i;
current_date = new Date();
current_date = current_date.toUTCString().replace(/GMT/, &quot;UTC&quot;);
first_date = l[0].innerHTML.split('(&lt;a href=')[0].split('&lt;a href=')[0].split('&lt;A HREF=')[0];
last_date_f = l[i-1].innerHTML.split('(&lt;a href=')[0].split('&lt;a href=')[0].split('&lt;A HREF=')[0];
totdays_first = getDateDiff(current_date,last_date_f);
totdays_frame = getDateDiff(first_date,last_date_f);
average = ave_tot/totdays_first;
faverage = ave_tot/totdays_frame;
//Check up to 1000 edits, may redefine average edits/day
  var Max_Eforsum = 1000;
  if (ave_tot&gt;Max_Eforsum &amp;&amp; contribs_first==true)
     {
     ave_tot = Max_Eforsum;
     yearloc = l[Max_Eforsum-1].innerHTML.split(' &lt;a href=')[0].split('&lt;A HREF=')[0];
     totdays_first = getDateDiff(current_date,yearloc);
     totdays_frame = getDateDiff(first_date,yearloc);
     average = ave_tot/totdays_first;
     faverage = ave_tot/totdays_frame;
     }
  }
//
if (STATS_ALL_JS_RAN==true)
  {
  contribs_first=false; 
  if (contribs_done==false) get_contribs_chain();
  }
if (STATS_ALL_JS_RAN==false || contribs_done==true)
  {
E = EC_tot;
last_date = l[i-1].innerHTML.split('(&lt;a href=')[0].split('&lt;a href=')[0].split('&lt;A HREF=')[0];
framedays = getDateDiff(first_date,last_date);
totdays = getDateDiff(current_date,last_date);
var Daylength = Math.round((1)*framedays)/1;
  if (Daylength == 0) Daylength = 1;
var Dayspassed = Math.round((1)*totdays)/1;
  if (Dayspassed == 0) Dayspassed = 1;
average = Math.round((100)*average)/100;
faverage = Math.round((100)*faverage)/100;
var avenotice = '';
//wow..statistics people
var caverage = Math.round((1000)*caverage)/1000;
//
var TimeDATE = '&lt;span style=&quot;color:blue;&quot;&gt;&lt;strong&gt;Time range:&lt;/span&gt; ' + Daylength + ' approximate day(s) of edits on this page (' + Dayspassed + ' day(s) passed since first edit) &lt;/strong&gt;&lt;/span&gt;&lt;br&gt; ' + 'Current time: ' + current_date + ' &lt;strong&gt;||&lt;/strong&gt; ' + 'Last edit: ' + first_date + ' &lt;strong&gt;||&lt;/strong&gt; ' + 'Oldest edit: ' + last_date + '&lt;br&gt;';
//
if (location.href.split(&quot;&amp;offset=&quot;)[1] != undefined)
{
  if (location.href.split(&quot;&amp;offset=0&quot;)[1] != undefined)
   {
   var offset = 'no';
   }
  else
   {
  Uploads = '&lt;strong&gt;[Value unknown]*&lt;/strong&gt;';
  average = '&lt;strong&gt;[Value unknown]*&lt;/strong&gt;';
  avenotice = '&lt;strong&gt;&lt;span style=&quot;color:darkblue;&quot;&gt;*Average edits per day (and uploads) not shown because the most recent edit is not visible&lt;/strong&gt;&lt;/span&gt;&lt;br&gt;';
  TimeDATE = '';
   var offset = 'yes';
   }
}
if (edits_page_compared_js == 1)
  {
  rights_status ='';
  Uploads = '&lt;strong&gt;[Value unknown]*&lt;/strong&gt;';
  average = '&lt;strong&gt;[Value unknown]*&lt;/strong&gt;';
  faverage = '&lt;strong&gt;[Value unknown]*&lt;/strong&gt;';
  avenotice = '&lt;strong&gt;&lt;span style=&quot;color:darkblue;&quot;&gt;*Average edits per day (and uploads) not shown because their are multiple users&lt;/strong&gt;&lt;/span&gt;&lt;br&gt;';
  TimeDATE = '';
  }
var tot_moves = Moves + Dummy_Moves;
var U_edits = UM;
var FAQ = '&lt;a href=&quot;http://en.wikipedia.org/wiki/User:Voice_of_All/History_analysis_JS_Definitions_and_FAQ&quot; title=&quot;HistoryFAQ&quot;&gt; &lt;span style=&quot;color:blue;&quot;&gt;(FAQ)&lt;/span&gt;&lt;/a&gt;';
oldbody = document.getElementById('bodyContent').innerHTML;
//
document.getElementById('contentSub').innerHTML += '&lt;br&gt;&lt;span style=&quot;color:darkblue;&quot;&gt;&lt;strong&gt;Viewing contribution data for ' + theusername + rights_status + ' &lt;span style=&quot;color:darkblue;&quot;&gt;(over the &lt;/span&gt;' + E + ' &lt;span style=&quot;color:darkblue;&quot;&gt;edit(s) shown on this page)&lt;/span&gt;&lt;/strong&gt;' + FAQ;
//
MAIN_NS = 'Article';
PORTAL_NS = 'Portal';
WIKIPEDIA_NS = 'Wikipedia';
if (wgServer == &quot;http://commons.wikimedia.org&quot;){PORTAL_NS = 'Creator'; WIKIPEDIA_NS = 'Commons'; MAIN_NS = 'Gallery';}
document.getElementById('bodyContent').innerHTML = '&lt;div id=&quot;contentSub&quot;&gt;' + document.getElementById('contentSub').innerHTML + '&lt;/div&gt;' + TimeDATE + '&lt;span style=&quot;color:darkblue;&quot;&gt;&lt;strong&gt;Overall edit summary use (last&lt;/span&gt; ' + sum_edits + ' &lt;span style=&quot;color:darkblue;&quot;&gt;edits): &lt;/span&gt;' + ' Major edits: ' + Math.round((100)*(100*(Major_withsum/Not_minor)))/100 + '&lt;/strong&gt;% ' + ' &lt;strong&gt;Minor edits: &lt;/span&gt;' + Math.round((100)*(100*(Minor_withsum/Is_minor)))/100 + '&lt;/strong&gt;%&lt;br&gt;' + '&lt;strong&gt;Average edits per day: ' + average + ' &lt;/strong&gt;(currently, for last ' + ave_tot + ' edit(s))&lt;br&gt;' + '&lt;strong&gt;Average edits per day: ' + faverage + ' &lt;/strong&gt;(since last active, for last ' + ave_tot + ' edit(s))&lt;strong&gt;&lt;br&gt;' + '&lt;span style=&quot;color:darkblue;&quot;&gt;&lt;strong&gt;Article edit summary use (last&lt;/span&gt; ' + sumart_edits + ' &lt;span style=&quot;color:darkblue;&quot;&gt;edits): &lt;/span&gt;' + ' Major article edits: ' + Math.round((100)*(100*(Major_article_sum/Article_major_edits)))/100 + '&lt;/strong&gt;% ' + ' &lt;strong&gt;Minor article edits: &lt;/span&gt;' + Math.round((100)*(100*(Minor_article_sum/Article_minor_edits)))/100 + '&lt;/strong&gt;%&lt;br&gt;'+ '&lt;span style=&quot;color:blue;&quot;&gt;&lt;strong&gt;Encyclopedia contributions (out of all&lt;/span&gt; ' + E + ' &lt;span style=&quot;color:blue;&quot;&gt;edits shown on this page and last&lt;/span&gt; ' + Uploads_length + ' &lt;span style=&quot;color:blue;&quot;&gt;image uploads):&lt;/strong&gt;&lt;/span&gt;&lt;br&gt;' + '&lt;span style=&quot;color:darkblue;&quot;&gt;Notable article edits (creation/expansion/major rewrites/sourcing):&lt;/span&gt; ' + Math.round((100)*(100*(ArtSig)/E))/100 + '&lt;/strong&gt;% (' + ArtSig + ')&lt;br&gt;' + '&lt;strong&gt;Significant article edits (copyedits/small rewrites/content/reference additions): ' + Math.round((100)*(100*(ArtM)/E))/100 + '&lt;/strong&gt;% (' + ArtM + ')&lt;br&gt;' + '&lt;strong&gt;&lt;span style=&quot;color:purple;&quot;&gt;Superficial article edits (grammar/spelling/wikify/links/tagging):&lt;/span&gt; ' + Math.round((100)*(100*(ArtSf)/E))/100 + '&lt;/strong&gt;% (' + ArtSf + ')&lt;br&gt;' + '&lt;strong&gt;&lt;span style=&quot;color:#3366CC;&quot;&gt;Unique image uploads (non-deleted/reverts/updates):&lt;/span&gt; ' + Uploads + '&lt;/strong&gt; (checks last 5000)&lt;br&gt;' + '&lt;strong&gt;&lt;span style=&quot;color:darkgreen;&quot;&gt;Superficial article edits marked as minor:&lt;/span&gt; ' + Math.round((100)*(100*(Art_minor-Artm_to_minor)/Art_minor))/100 + '&lt;/strong&gt;%&lt;br&gt;' + '&lt;span style=&quot;color:blue;&quot;&gt;&lt;strong&gt;Project contributions (as marked):&lt;/strong&gt;&lt;/span&gt;&lt;br&gt;' + '&lt;strong&gt;&lt;span style=&quot;color:darkgreen;&quot;&gt;Articles for Creation:&lt;/span&gt; ' + Math.round((100)*(100*(AfC_tot)/E))/100 + '&lt;/strong&gt;% (' + AfC_tot + ' edit(s))&lt;br&gt;' + '&lt;strong&gt;&lt;span style=&quot;color:darkgreen;&quot;&gt;Peer Review:&lt;/span&gt; ' + Math.round((100)*(100*(PR_tot)/E))/100 + '&lt;/strong&gt;% (' + PR_tot + ' edit(s))&lt;br&gt;' + '&lt;strong&gt;&lt;span style=&quot;color:darkred;&quot;&gt;Pages for Deletion:&lt;/span&gt; ' + Math.round((100)*(100*(XfD_tot)/E))/100 + '&lt;/strong&gt;% (' + XfD_tot + ' edit(s))&lt;br&gt;' + '&lt;strong&gt;Copyright problems pages: ' + Math.round((100)*(100*(CP_tot)/E))/100 + '&lt;/strong&gt;% (' + CP_tot + ' edit(s))&lt;br&gt;' + '&lt;span style=&quot;color:red;&quot;&gt;&lt;strong&gt;WP:AN/related noticeboards:&lt;/span&gt; ' + Math.round((100)*(100*(AN_tot)/E))/100 + '&lt;/strong&gt;% (' + AN_tot + ' edit(s))&lt;br&gt;' + '&lt;strong&gt;Bot approvals pages: ' + Math.round((100)*(100*(BOT_tot)/E))/100 + '&lt;/strong&gt;% (' + BOT_tot + ' edit(s))&lt;br&gt;' + '&lt;strong&gt;&lt;span style=&quot;color:#3366CC;&quot;&gt;FA/FP/FL candidate pages:&lt;/span&gt; ' + Math.round((100)*(100*(FAC_tot)/E))/100 + '&lt;/strong&gt;% (' + FAC_tot + ' edit(s))&lt;br&gt;' + '&lt;strong&gt;&lt;span style=&quot;color:#FF6600;&quot;&gt;RfC/RfAr pages:&lt;/span&gt; ' + Math.round((100)*(100*(RAfC_tot)/E))/100 + '&lt;/strong&gt;% (' + RAfC_tot + ' edit(s))&lt;br&gt;' + '&lt;strong&gt;&lt;span style=&quot;color:darkblue;&quot;&gt;Requests for adminship:&lt;/span&gt; ' + Math.round((100)*(100*(RfA_tot)/E))/100 + '&lt;/strong&gt;% (' + RfA_tot + ' edit(s))&lt;br&gt;' + '&lt;strong&gt;&lt;span style=&quot;color:grey;&quot;&gt;Identified RfA votes:&lt;/span&gt; ' + Math.round((100)*(100*(1*RfA_votes_S + 1*RfA_votes_O)/E))/100 + '&lt;/strong&gt;% (' + RfA_votes_S + ' support vote(s)) ' + ' &lt;strong&gt;||&lt;/strong&gt; ' + ' (' + RfA_votes_O + ' oppose vote(s))&lt;br&gt;' + '&lt;strong&gt;&lt;span style=&quot;color:#FF6600;&quot;&gt;User warnings:&lt;/span&gt; ' + Math.round((100)*(100*(User_warnings)/E))/100 + '&lt;/strong&gt;% (' + User_warnings + ' edit(s))&lt;br&gt;' + '&lt;strong&gt;&lt;span style=&quot;color:darkblue;&quot;&gt;User welcomes:&lt;/span&gt; ' + Math.round((100)*(100*(User_welcomes)/E))/100 + '&lt;/strong&gt;% (' + User_welcomes + ' edit(s))&lt;br&gt;' + '&lt;span style=&quot;color:blue;&quot;&gt;&lt;strong&gt;Special edit type statistics (as marked):&lt;/strong&gt;&lt;/span&gt;&lt;br&gt;' + '&lt;strong&gt;&lt;span style=&quot;color:darkgreen;&quot;&gt;Page moves:&lt;/span&gt; ' + Math.round((100)*(100*(tot_moves)/E))/100 + '&lt;/strong&gt;% (' + tot_moves + ' edit(s)) (' + Moves + ' moves(s))&lt;br&gt;' + '&lt;strong&gt;&lt;span style=&quot;color:purple;&quot;&gt;Page redirections:&lt;/span&gt; ' + Math.round((100)*(100*(Redirects)/E))/100 + '&lt;/strong&gt;% (' + Redirects + ' edit(s))&lt;br&gt;' + '&lt;strong&gt;&lt;span style=&quot;color:grey;&quot;&gt;Page (un)protections:&lt;/span&gt; ' + Math.round((100)*(100*(Protections)/E))/100 + '&lt;/strong&gt;% (' + Protections + ' edit(s))&lt;br&gt;' + '&lt;strong&gt;&lt;span style=&quot;color:darkred;&quot;&gt;AutoWikiBrowser edits:&lt;/span&gt; ' + Math.round((100)*(100*(AWB_edits)/E))/100 + '&lt;/strong&gt;% (' + AWB_edits + ' edit(s))&lt;br&gt;' + '&lt;span style=&quot;color:blue;&quot;&gt;&lt;strong&gt;Breakdown of all edits:&lt;/strong&gt;&lt;/span&gt;&lt;br&gt;' + '&lt;strong&gt;Unique pages edited: ' + Unique_pages + ' &lt;span style=&quot;color:darkblue;&quot;&gt;|&lt;/span&gt; ' + 'Average edits per page: ' + Math.round(100*E/Unique_pages)/100 + ' &lt;span style=&quot;color:darkblue;&quot;&gt;|&lt;/span&gt; ' + 'Edits on top: ' + Math.round((100)*(100*(TE)/E))/100 + '&lt;/strong&gt;%&lt;br&gt;' + '&lt;strong&gt;Edits marked as major (non-minor/reverts): ' + Math.round((100)*(100*(All_markedMaj)/E))/100 + '&lt;/strong&gt;% (' + All_markedMaj + ' edit(s))&lt;br&gt;' + '&lt;strong&gt;Edits marked as minor (non-reverts): ' + Math.round((100)*(100*(All_markedMin)/E))/100 + '&lt;/strong&gt;% (' + All_markedMin + ' edit(s))&lt;br&gt;' + '&lt;span style=&quot;color:darkred;&quot;&gt;&lt;strong&gt;Marked reverts (reversions/text removal):&lt;/span&gt; ' + Math.round((100)*(100*(R)/E))/100 + '&lt;/strong&gt;% (' + R + ' edit(s))&lt;br&gt;' + '&lt;span style=&quot;color:grey;&quot;&gt;&lt;strong&gt;Unmarked edits with no summary:&lt;/span&gt; ' + Math.round((100)*(100*(UM)/E))/100 + '&lt;/strong&gt;% (' + U_edits + ' edit(s))&lt;br&gt;' + '&lt;span style=&quot;color:blue;&quot;&gt;&lt;strong&gt;Edit count by namespace:&lt;/span&gt;&lt;br&gt;' + MAIN_NS + ': ' + Math.round((100)*(100*(ArticleE)/E))/100 + '&lt;/strong&gt;% (' + ArticleE + ') &lt;strong&gt;&lt;span style=&quot;color:darkblue;&quot;&gt;|&lt;/span&gt; ' + MAIN_NS + ' talk: ' + Math.round((100)*(100*(Talk)/E))/100 + '&lt;/strong&gt;% (' + Talk + ')&lt;br&gt;' + '&lt;strong&gt;User: ' + Math.round((100)*(100*(User)/E))/100 + '&lt;/strong&gt;% (' + User + ') &lt;strong&gt;&lt;span style=&quot;color:darkblue;&quot;&gt;|&lt;/span&gt; User talk: ' + Math.round((100)*(100*(Usertalk)/E))/100 + '&lt;/strong&gt;% (' + Usertalk + ') &lt;br&gt;' + '&lt;strong&gt;' + WIKIPEDIA_NS + ': ' + Math.round((100)*(100*(Wikipedia)/E))/100 + '&lt;/strong&gt;% (' + Wikipedia + ') &lt;strong&gt;&lt;span style=&quot;color:darkblue;&quot;&gt;|&lt;/span&gt; ' + WIKIPEDIA_NS + ' talk: ' + Math.round((100)*(100*(Wikipediatalk)/E))/100 + '&lt;/strong&gt;% (' + Wikipediatalk + ')&lt;br&gt;' + '&lt;strong&gt;Image: ' + Math.round((100)*(100*(Images)/E))/100 + '&lt;/strong&gt;% (' + Images + ') &lt;strong&gt;&lt;span style=&quot;color:darkblue;&quot;&gt;|&lt;/span&gt; Image talk: ' + Math.round((100)*(100*(ITalk)/E))/100 + '&lt;/strong&gt;% (' + ITalk + ')&lt;br&gt;' + '&lt;strong&gt;Template: ' + Math.round((100)*(100*(Template)/E))/100 + '&lt;/strong&gt;% (' + Template + ') &lt;strong&gt;&lt;span style=&quot;color:darkblue;&quot;&gt;|&lt;/span&gt; Template talk: ' + Math.round((100)*(100*(TTalk)/E))/100 + '&lt;/strong&gt;% (' + TTalk + ')&lt;br&gt;' + '&lt;strong&gt;Category: ' + Math.round((100)*(100*(Category)/E))/100 + '&lt;/strong&gt;% (' + Category + ') &lt;strong&gt;&lt;span style=&quot;color:darkblue;&quot;&gt;|&lt;/span&gt; Category talk: ' + Math.round((100)*(100*(CTalk)/E))/100 + '&lt;/strong&gt;% (' + CTalk + ')&lt;br&gt;' + '&lt;strong&gt;' + PORTAL_NS + ': ' + Math.round((100)*(100*(Portal)/E))/100 + '&lt;/strong&gt;% (' + Portal + ') &lt;strong&gt;&lt;span style=&quot;color:darkblue;&quot;&gt;|&lt;/span&gt; ' + PORTAL_NS + ' talk: ' + Math.round((100)*(100*(PTalk)/E))/100 + '&lt;/strong&gt;% (' + PTalk + ')&lt;br&gt;' + '&lt;strong&gt;Help: ' + Math.round((100)*(100*(Help)/E))/100 + '&lt;/strong&gt;% (' + Help + ') &lt;strong&gt;&lt;span style=&quot;color:darkblue;&quot;&gt;|&lt;/span&gt; Help talk: ' + Math.round((100)*(100*(HTalk)/E))/100 + '&lt;/strong&gt;% (' + HTalk + ')&lt;br&gt;' + '&lt;strong&gt;MediaWiki: ' + Math.round((100)*(100*(Mediawiki)/E))/100 + '&lt;/strong&gt;% (' + Mediawiki + ') &lt;strong&gt;&lt;span style=&quot;color:darkblue;&quot;&gt;|&lt;/span&gt; MediaWiki talk: ' + Math.round((100)*(100*(MTalk)/E))/100 + '&lt;/strong&gt;% (' + MTalk + ')&lt;br&gt;' + avenotice + oldbody.split('&lt;!-- start content --&gt;')[1];
var body = document.getElementById('bodyContent');
  if (STATS_ALL_JS_RAN == false)
    {
    body.ranSetupTooltipsAlready=false;
    setupTooltips(body);
    }
    else
    {body.getElementsByTagName('ul')[0].innerHTML='';}
  }
}
//END

//Vandal and IP stats
function histstats()
{
  if (document.getElementById('contentSub').innerHTML.search(/Viewing page modification statistics |There are no page modification statistics |Analyzing history...please wait/) !=-1)
      {alert(&quot;Results already shown.&quot;); return;}
//
  var Namespace_type = 'non-article';
  var Namespace = document.title.split(' - ')[0];
  if (Namespace.search('(Image:|Template:| talk:|Category:|Portal:|Wikipedia:|MediaWiki:|Help:|Talk:|User:|View and restore deleted pages)') == -1)
  {Namespace_type = 'article';}
//tagging edits
  var rvlink = '&lt;span style=&quot;color:darkred;&quot;&gt;&lt;strong&gt;rv&lt;/strong&gt;&lt;/span&gt;';
  var vanlink = '&lt;span style=&quot;color:red;&quot;&gt;&lt;strong&gt;likely rvv&lt;/strong&gt;&lt;/span&gt;';
  var revlink = '&lt;strong&gt;&lt;i&gt;reverted&lt;/i&gt;&lt;/strong&gt;';
  var nslink = '&lt;strong&gt;no summary&lt;/strong&gt;';
  var mslink = '&lt;strong&gt;minor&lt;/strong&gt;';
  var sflink =  '&lt;strong&gt;&lt;span style=&quot;color:purple;&quot;&gt;superficial&lt;/span&gt;&lt;/strong&gt;';
  var mamlink = '&lt;strong&gt;&lt;span style=&quot;color:green;&quot;&gt;minor&lt;/span&gt;&lt;/strong&gt;';
  var tplink = '&lt;strong&gt;most recent&lt;/strong&gt;'
  var umplink = '&lt;strong&gt;&lt;span style=&quot;color:grey;&quot;&gt;unmarked&lt;/strong&gt;&lt;/span&gt;'
  var alink = '&lt;strong&gt;&lt;span style=&quot;color:darkblue;&quot;&gt;notable&lt;/strong&gt;&lt;/span&gt;';
  var malink = '&lt;strong&gt;&lt;span style=&quot;color:blue;&quot;&gt;notable!&lt;/strong&gt;&lt;/span&gt;';
  var minalink = '&lt;strong&gt;significant&lt;/strong&gt;';
  var botlink = '&lt;span style=&quot;color:darkorange;&quot;&gt;&lt;strong&gt;bot&lt;/strong&gt;&lt;/span&gt;';
  var syslink = '&lt;span style=&quot;color:blue;&quot;&gt;&lt;strong&gt;sysop&lt;/strong&gt;&lt;/span&gt;';
  var nutlink = '&lt;strong&gt;&lt;i&gt;no user pages&lt;/i&gt;&lt;/strong&gt;';
  var ntlink = '&lt;strong&gt;&lt;i&gt;blank talk page&lt;/i&gt;&lt;/strong&gt;';
  var nulink = '&lt;strong&gt;&lt;i&gt;blank userpage&lt;/i&gt;&lt;/strong&gt;';
  var iplink = '&lt;strong&gt;&lt;i&gt;IP edit&lt;/i&gt;&lt;/strong&gt;';
  var iplink = '&lt;strong&gt;IP edit&lt;/strong&gt;';
  var nslink = '&lt;strong&gt;&lt;span style=&quot;color:darkgrey;&quot;&gt;no summary&lt;/span&gt;&lt;/strong&gt;';
//
  var firstbody = document.getElementById('bodyContent').innerHTML;
  var oldloc = location.href;
//
  var IP_nonreverts = 0;
  var Newbie_edits = 0;
  var Newbie_nonreverts = 0;
  var Reverted = 0;
  var R = 0;
  var V = 0;
  var IP = 0;
  var VN = 0;
  var NU = 0;
  var UM = 0;
  var NS = 0;
  var SYS = 0;
  var BOT = 0;
  var undelete = 'no';
  var username = '';
  var Users = 0;
  var ArtSig = 0;
  var ArtSf = 0;
  var ArtRv = 0;
  var ArtM = 0;
  var ArtUM =0;
  var c = document.getElementById('contentSub');
  var a = c.getElementsByTagName('a');
  l = document.getElementById('bodyContent').getElementsByTagName('ul')[0].getElementsByTagName('li');
  if (location.href.indexOf('Special:Undelete') !=-1)
    {
    undelete = 'yes';
    l = document.getElementById('bodyContent').getElementsByTagName('ul')[1].getElementsByTagName('li');
    if (!l[1]){alert('There is nothing to analyize!'); return;}
    nutlink = '&lt;strong&gt;&lt;span style=&quot;color:red;&quot;&gt;no user pages&lt;/span&gt;&lt;/strong&gt;';
    ntlink = '&lt;strong&gt;&lt;span style=&quot;color:purple;&quot;&gt;blank talk page&lt;/span&gt;&lt;/strong&gt;';
    nulink = '&lt;strong&gt;&lt;span style=&quot;color:purple;&quot;&gt;blank userpage&lt;/span&gt;&lt;/strong&gt;';
    iplink = '&lt;strong&gt;&lt;span style=&quot;color:darkred;&quot;&gt;IP edit&lt;/span&gt;&lt;/strong&gt;';
     }
  document.getElementById('contentSub').innerHTML += &quot;&lt;br&gt;&lt;strong&gt;Analyzing history...please wait&lt;/strong&gt;&quot;;
//
var now = new Date();
var current_time = now.toUTCString().replace(/GMT/, &quot;UTC&quot;);
var User_list = '';
var del_offset = 0;
if (undelete == 'yes'){del_offset=2;}
for (i = 0; i &lt; l.length; i++) 
      {
      var Newbie = 0;
      var IP_user = 0;
      var Careful = 'no';
      var Revert = 'no';
      var RollbackE = 'no';
      var Minor = 'no';
      var Superfic = 'no';
      var Notable = 'no';
      var Significant = 'no';
      var Minor_nonrv = -1;
      var Sum_value = -1;
      var Minor_or_sum = -1;
      var Marked_as_minor = 'no';
      var sysop = 'no';
      t = l[i].innerHTML;
              if (undelete == 'yes')
              {
              username = l[i].getElementsByTagName('a')[1].innerHTML;
              }
              else if (i == 0)
              {
              username = l[i].getElementsByTagName('a')[2].innerHTML;
              }
              else if (l[i].innerHTML.indexOf(') (last)') !=-1)
              {
              username = l[i].getElementsByTagName('a')[2].innerHTML;
              }
              else
              {
              username = l[i].getElementsByTagName('a')[3].innerHTML;
              }
          if (User_list.indexOf('|' + username + '|') == -1)
          {Users += 1; User_list += '|' + username + '|';}
          var autoc = 'no';
          var the_sum = '';
          for (k = 0 ; k &lt; l[i].getElementsByTagName('span').length; k++)
            {
           if (l[i].getElementsByTagName('span')[k].className == 'minor') 
                  {          
                  Minor_nonrv = 1;
                  Minor_or_sum = 1;
                  Minor = 'yes';
                  Marked_as_minor = 'yes';
                  }
           else if (l[i].getElementsByTagName('span')[k].className == 'autocomment') 
                  {          
                 autoc = 'yes';
                 if (l[i].getElementsByTagName('span')[k].innerHTML.indexOf(&quot; -&quot;) !=-1) 
                       {     
                  Sum_value = 1; 
                  Minor_or_sum = 1; 
                 if (l[i].getElementsByTagName('span')[k-1].innerHTML.indexOf(&quot;-&lt;/span&gt; &quot;) !=-1)
                 {the_sum = l[i].getElementsByTagName('span')[k-1].innerHTML.split(&quot;-&lt;/span&gt; &quot;)[1].split(&quot;)&lt;/span&gt;&quot;)[0];}
                 else if (l[i].getElementsByTagName('span')[k-1].innerHTML.indexOf(&quot;-&lt;/span&gt;&quot;) !=-1)
                 {the_sum = l[i].getElementsByTagName('span')[k-1].innerHTML.split(&quot;-&lt;/span&gt;&quot;)[1].split(&quot;&lt;/span&gt;&quot;)[0];}
                 else if (l[i].getElementsByTagName('span')[k-1].innerHTML.indexOf(&quot;&lt;/span&gt;&quot;) !=-1)
                 {the_sum = l[i].getElementsByTagName('span')[k-1].innerHTML.split(&quot;&lt;/span&gt;&quot;)[1].split(&quot;&lt;/span&gt;&quot;)[0];}
                  break;
                      }
                  else
                      {     
                      Sum_value = -1;
                      if (Minor == 'no')
                        {Minor_or_sum = -1;}
                      }
                  break;
                  }
           else if (l[i].getElementsByTagName('span')[k].className == 'comment') 
                  {          
                  Sum_value = 1; 
                  Minor_or_sum = 1;
                  var Careful = 'no';
                  the_sum = l[i].getElementsByTagName('span')[k].innerHTML;
                  }
            }
//End of k loop
//remove links
raw_sum = the_sum;
the_sum = the_sum.replace(/&lt;a href=[^\]]+&lt;.a&gt;/ig,'');

//
             if (Minor_or_sum  == -1)
              {  
              NS = NS + 1;
              UM = UM + 1;
              l[i].innerHTML += ' (' + umplink + ') #' + UM;         
              }
             else if (Sum_value == -1)
              {  
              NS = NS + 1;
              l[i].innerHTML += ' (' + nslink + ') #' + NS;         
              }
             if (theadminlist.indexOf('|' + username + '|') !=-1)
              {  
              SYS = SYS + 1;
              sysop = 'yes';
              l[i].innerHTML += ' (' + syslink + ') #' + SYS;         
              }
             else if (thervbotlist.indexOf('|' + username + '|') !=-1)
              {  
              BOT = BOT + 1;
              l[i].innerHTML += ' (' + botlink + ') #' + BOT;         
              }
//vandal rollbacks
        if (the_sum.search(/\((rvv|Rvv|RVV|RvV|RV V|rv v)/) !=-1 || the_sum.search(/reverted edits|Popups assisted reversion|reverted vandalism|revert to revision|to last version by|compromise the integrity|troll(s|ing)\)/i) !=-1 || the_sum.search(/BOT - rv|BOT - Reverted|vandal edit/i) !=-1 || the_sum.search(/(rv|Rv|RV) vandalism|\(rv\/v\)/i) !=-1)
            {
          V += 1;
          l[i].innerHTML += ' (' + vanlink + ') #' + V;
          R += 1;
          l[i].innerHTML += ' (' + rvlink + ') #' + R;
          Superfic = 'no';
          Notable = 'no';
          Significant = 'no';
          Minor_nonrv = -1;
          Revert = 'yes';
          RollbackE = 'yes';
            }
//page rollbacks
        else if (the_sum.search(/[\( ]([Rr]everted edit|[Rr]everted \d+ edit|rv|Rv|RV|[Rr]evert|[Rr]ollback|[Rr]olling )/) !=-1 || the_sum.search(/revert[ |:|\.|\;)]|reverting[ |:|\.|\);]|reverted[ |:|\.|\);]|rollback[ |:|\.|\);]/i) !=-1)
            {
          R += 1;
          l[i].innerHTML += ' (' + rvlink + ') #' + R;
          Superfic = 'no';
          Notable = 'no';
          Significant = 'no';
          Minor_nonrv = -1;
          Revert = 'yes';
          RollbackE = 'yes';
            }
//vandal reverts
        else if (the_sum.search(/(Rm|rm|Remove|remove) (vandalism|test|nonsense)|remove vandalism|removed vandalism|rmv graffitti|rm graffitti|rv graffitti|reverting vandal|compromise the integrity/i) !=-1 || the_sum.search(/fixed vandalism|Revert vandal|revert vandal|delete vandal|linkspam| vandalism|vandals | vandal/i) !=-1 || the_sum.search(/(Rev|rev) vandal|\(vandal|\(trolling/) !=-1 || the_sum.search(/\((Revert|trolls|trolling)\)/) !=-1)
            {
          V += 1;
          l[i].innerHTML += ' (' + vanlink + ') #' + V;
          R += 1;
          l[i].innerHTML += ' (' + rvlink + ') #' + R;
          Superfic = 'no';
          Notable = 'no';
          Significant = 'no';
          Minor_nonrv = -1;
          Revert = 'yes';
            }
//page reverts
        else if (the_sum.search(/Restoring |[Rr]evert|[Rr]estore[ :\.\)]|[Rr]estoring[ :\.\)]|[Rr]estored[ :\.\)]|Rm[ :\.\)]|rm[ :\.\)]|einstated[ :\.\)]|rmv[ :\.\)]|[Rr]einstate[ :\.\)]|rv\.|POINT/) !=-1 || the_sum.search(/delete[ |:|\.|]|deleted[ |:|\.]|remove[ :\)]|removing[ :\)]|reinstated|reinstate/i) !=-1 || the_sum.search(/restore[ :\.\)]|estored[ :\.\)]/i) !=-1 || the_sum.search(/re-added|re-inserted|added \w{5,20} again |added back /i) !=-1 || the_sum.search(/back again|no such | such thing| agree with[ :\.\)]| don't[ :\.\)]| do not[ :\.\)]|\(surely[ :\.\)]|no need[ :\.\)]|\?\)/i) !=-1)
            {
          R += 1;
          l[i].innerHTML += ' (' + rvlink + ') #' + R;
          Superfic = 'no';
          Notable = 'no';
          Significant = 'no';
          Minor_nonrv = -1;
          Revert = 'yes';
            }
//long summary article reverts
   else if (Namespace_type == 'article' &amp;&amp; Sum_value == 1 &amp;&amp; the_sum.search('(P|p)rotect(ed| )') == -1 &amp;&amp; the_sum.length &gt; 25)
        {
        if (the_sum.search(/remove[ :\.\)]|removed[ :\.\)]|[ :\)]remove|[ :\)]removed|seriously[ :\.\)]|WTF[ :\.\)]|\?\?|!!|restore[ :\.\)]|restored[ :\.\)]|restoring[ :\.\)]/i) !=-1 || the_sum.search(/(Should|should|Is|is) not |should(nt|n't) |c(an't|annot) |(un|n)ecessary |no need[ :\.\)]|Abuse of |admin powers | violat(e|es|ed) | policy| standards| doesn't| your | you're| yours| you | aren't| isn't| stop[ :\.\)]| not|please[ :\.\)]|[ :\.\)]please|can't|cant|why[ :\.\)]| the talk page| (see|to) (talk|discussion)/i) !=-1)
            {
          R += 1;
          l[i].innerHTML += ' (' + rvlink + ') #' + R;
          Superfic = 'no';
          Notable = 'no';
          Significant = 'no';
          Minor_nonrv = -1;
          Revert = 'yes';
            }
        }
//reverted edit flagging
     if (Revert == 'yes' &amp;&amp; l[i].innerHTML.indexOf(revlink) !=-1)
        {Reverted = Reverted-1; l[i].innerHTML = l[i].innerHTML.replace(revlink,'');}
     else {l[i].innerHTML = l[i].innerHTML.replace(revlink,' (&lt;span style=&quot;color:darkorange;&quot;&gt;' + revlink + '&lt;/span&gt;) ');}
//typical rollbacks
   if (RollbackE == 'yes' &amp;&amp; l[i+1] != undefined &amp;&amp; raw_sum.search(/ \d{6,10}( dated .+ | )by .+ using &lt;[Aa] href/) ==-1)
      {
      var badname = l[i+1].getElementsByTagName('a')[3-del_offset].innerHTML; var uname='';
      for (var h=i+1; h&lt;l.length; h++)
         {
         uname = l[h].getElementsByTagName('a')[3-del_offset].innerHTML;
         if (l[h].innerHTML.indexOf(') (last)') == -1 &amp;&amp; l[h].innerHTML.indexOf(revlink) == -1 &amp;&amp; uname == badname)
               {
               Reverted += 1;
               l[h].innerHTML += revlink;
               }
         else {break;}
         } 
      }
//popups rev support, VP &amp;&amp; VS
   else if (Revert == 'yes' &amp;&amp; l[i+1] != undefined &amp;&amp; raw_sum.search(/ \d{6,10}( dated .+ | )by .+ using &lt;[Aa] href=/i) !=-1)
      {
      var goodname = raw_sum.match(/ \d{6,10}( dated .+ | )by .+ using &lt;[Aa] href=/i)[0].split(' by ')[1].split(' using &lt;A ')[0].split(' using &lt;a ')[0];
      var uname=''; var z=0;
//user renames or deleted revs or other flukes can skrew this up, set a 20 edit revert limit
      for (var h=i+1; h&lt;l.length; h++)
         {
         uname = l[h].getElementsByTagName('a')[3-del_offset].innerHTML
         if (l[h].innerHTML.indexOf(') (last)') == -1 &amp;&amp; uname != goodname)
               {
               z+=1;
               if (z==21) {l[h].innerHTML += ' [excessive revert to rev by &quot;' + goodname + '&quot;]'; z=1; break;}
               }
         else break;
         }
      for (var h=i+1; h&lt;i+1+z; h++)
         {
         if (l[h].innerHTML.indexOf(revlink) == -1)
               {
               Reverted += 1;
               l[h].innerHTML += revlink;
               }
         }
      }
//flag protection events
  if (l[i].innerHTML.search(/\[(edit|move)=(autoconfirmed|sysop)|class=&quot;comment&quot;&gt;\(Unprotected /) !=-1)
    {l[i].innerHTML = '&lt;span style=&quot;background-color: #FFFFCC&quot;&gt;' + l[i].innerHTML + '&lt;/span&gt;';}
//
if (Namespace_type == 'article')
 {
//first edit is a notable edit
   if (l[i].innerHTML.indexOf(') (last)') !=-1)
       {Careful = 'yes'; Minor = 'no'; Minor_nonrv = -1; Notable = 'yes';}
   else if (Sum_value == 1 &amp;&amp; Revert == 'no')
   {
//notable edits
       if (the_sum.search(/ created[\.;:\)]|create[\.;:\)]| creation[\.;:\)]|rastic addition|rastic edit|rastic cha|rastic mod|expansion |rewriting[:\.\)]|rewrote[ :\.\)]|(rewriting|rewrite|rewrote)[ :\.\)](completely|page|article|bio)|(major|large|significant) (section|addition|rewrite)/i) !=-1 || the_sum.search(/(add )(a | )(lot|large|tons|great|signif)|(write|create|initial|start|begin) (brand|new|article|page)|major (ed|ch|mod)|interim save|\(expand(ed|ing)(page|article|stub|bio)|[ \(]expan(d|ed|ing)[ :\.\)]|contin(uing|ued) (addition|expand|expans|writ)/i) !=-1 || the_sum.search(/(\+|(add|added|adding|more|elaborate)[ :\.\)]|create |another )(history|paragraph|section|references|sources|sourcing|citations|refs|photos|images|pictures)/i) !=-1 || the_sum.search(/(create|created|creating|made|making|quick|\(new|start|begin|started|starting)( new | this | )(stub|basic|initial|article|page|bio|section|paragr|draft)/i) !=-1 || the_sum.search(/(added|adding) (basic|initial|biog|section|paragr|details)|creat(e|ed|ing) (page|section|article|biog)/i) !=-1 || the_sum.search(/(references| sources| sourced|citations) add|(\(|^)(sources|additional|reference|source|citation|refs|photos|images|ictures|pics)\)/i) !=-1 || the_sum.search(/\((create[\.;:\)]|created[\.;:\)]|creation[\.;:\)]|de novo[\.;:\)]|bio[\.;:\)]|biography[\.;:\)]|begin[\.;:\)]|start[\.;:\)]|article[\.;:\)]|page\))/i) !=-1)
                 {Careful = 'yes'; Minor = 'no'; Minor_nonrv = -1; Notable = 'yes';}
//significant edit pass 1
        else if (the_sum.search(/Info|Content|addition[\.;:\)]|addition[\.;:\)]| facts|facts\)|^add\)| facts|\(add[\.;:\)]|(quotes|fact|xample|xpand|ompromise| accurate| sentence[ :\.\)]| about)/i) !=-1 || the_sum.search(/biography|(ade|reate) article\)|creat(e|ion) |copyedit|descri(ption|be)/i) !=-1 || the_sum.search(/(add|finish|finishing|finished|more|\+|another)([ :\.\)]|)(reference|citation|source|info|content|image|photo|pic|section)/i) !=-1 || the_sum.search(/(reference|itation|source|info|content|image|photo|pictures) (added|included|create|uploaded)/i) !=-1 || the_sum.search(/\((create|created|creating) |(\(|^)(source|blurb|note|addition|reference|sources|citation|ref|photo|image|icture|pic|more)\)/i) !=-1 || the_sum.search(/(rewriting[ :\.\)]|rewrite[ :\.\)]|rewrote[ :\.\)])(section|lead|intro|paragraph)/i ) !=-1 || the_sum.search(/\(([^ ])+ (note|blurb|data|sourcing)\)/i) !=-1 || the_sum.search(/^(\(| )( |)(note|blurb|data|sourcing)\)/i) !=-1)
                  {Careful = 'yes'; Minor = 'yes'; Significant = 'yes'; Minor_nonrv = 1;}
//summary rules
               else if (autoc == 'no' &amp;&amp; the_sum.length &lt; 12)
               {Minor = 'yes'; Superfic = 'yes'; Minor_nonrv = 1;}
               else if (autoc == 'yes' &amp;&amp; the_sum.length &lt; 10)
               {Minor = 'yes'; Superfic = 'yes'; Minor_nonrv = 1;}
               else if (the_sum.split(' ').length ==1)
               {Minor = 'yes'; Superfic = 'yes'; Minor_nonrv = 1; Careful = 'yes';}
               else if (the_sum.split(' ').length ==2)
               {Minor = 'yes'; Superfic = 'yes'; Minor_nonrv = 1;}
               else if (the_sum.split(' ').length &lt; 3 &amp;&amp; Minor == 'no')
               {Minor = 'yes'; Significant = 'yes'; Minor_nonrv = 1;}
               else if (the_sum.split(' ').length &lt; 3 &amp;&amp; Minor == 'yes')
               {Minor = 'yes'; Superfic = 'yes'; Minor_nonrv = 1;}
       }
//superficial check pass 1 (main)
      if (Namespace_type == 'article' &amp;&amp; Sum_value == 1 &amp;&amp; Revert == 'no' &amp;&amp; Superfic == 'no')
           {
      if (the_sum.search(/&gt;|&lt;|\+|\([Mm]ove|\([Nn]eeds |\([Nn]eed | -|to-|#|\.\.\.|\([Mm][\.;:\)]| [Mm][\.;:\)]|\[\[|\{\{/) !=-1 || the_sum.search(/\(no[ :\.\)]|\(clean|grammar|lnk[ :\.\)]| lnk|punc[ :\.\)]|(gramatical|grammar|syntax|spelling) (error|typo|correct|fix)/i) !=-1 || the_sum.search(/ [Cc]lean(up|ing)[\.;:\)]| cleanup| punct[ :\.\)]|re-cat[ :\.\)]|recat[ :\.\)]|[Aa]ssisted[ :\.\)]| format|[Ff]rmt[\.\)]| linked|template|tmplt| abbr|Abbr|Disambig|disambig|[\( ]Dab[\.;:\)]|[\( ]dab[\.;:\)]|[\( ]DAB[\.;:\)]| odering| spelling|spelling[ \.:\)]| typo|typo\)| word| tag|place[ :\.\)]|bad[ :\.\)]|can[ :\.\)]|word[\.;:\)]|tag[\.;:\)]|place[\.;:\)]|bad[\.;:\)]|[Oo]{1,5}[Pp][Ss]/) !=-1 || the_sum.search(/for [Dd]eletion| AFD| Afd| CSD| CfSD| belong |[Pp]ointless|[Nn]eedless|[Rr]eplacement/) !=-1 || the_sum.search(/AWB|REDIR| redir[ :\.\)]|[Rr]edir(ect|ing)| skip[ :\.\)]| interwiki[ :\.\)]|[Ss]horten[ :\.\)]|compress[ :\.\)]|convert[ :\.\)]| rid[ :\.\)]|Auto |[Bb]ypass /) !=-1 || the_sum.search(/convert[ :\.\)]| sentence[ :\.\)]|easier[ :\.\)]|simplify|simpler[ :\.\)]| version|version\)|robot:/i) !=-1 || the_sum.search(/small|shorten|avoid|epair|few[ :\.\)]|protected[ :\.\)]| heading| title|made[ :\.\)]| bold|populating[ :\.\)]| flag /i) !=-1 || the_sum.search(/auto[ :\.\)]|html[ :\.\)]|already[ :\.\)]|almost[ :\.\)]| cut[ :\.\)]| paste[ :\.\)]| tweak|mov(e|ed|ing) /i) !=-1 || the_sum.search(/(changing|modify|modified|modifying|tweaking) (links|layout|format|setup|interwiki)|chang(e|ing) to/i) !=-1 || the_sum.search(/Stub-| sorting|-sorting|You can help!|see[- ]also| adjectives|adjectives[\.;:\)]|categorize|categorizing|[ \(]fix[ \.:\)]|[ \(]fixed[ \.:\)]|![\.;:\)]| match[ :\)]| others[ :\)]|\((No[ :\.\)]|no )/i) !=-1 || the_sum.search(/(added|add|changed|moved|modified) (wikilink|link|categor)/i) !=-1 || the_sum.search(/[Dd]ab[ \.:\)]|\([Ff]ix[ \.:\)]|[Ff]ix[ \.:\)]/) == 0)
               {
          Minor_nonrv = 1;
          Minor = 'yes';
          Careful = 'yes';
          Superfic = 'yes';
          Notable = 'no';
          Significant = 'no';
               }
           }
//superficial check pass 2
     if (Namespace_type == 'article' &amp;&amp; Sum_value == 1 &amp;&amp; Revert == 'no' &amp;&amp; Superfic == 'no' &amp;&amp; Careful == 'no')
          {
        if (the_sum.search(/[Ww]ikif(y|ied)|[Cc]ategor(y|ize|ise)|(Fo|F|f|fo)rm(t|at)|-[Aa]ssisted|BOT|[Bb]ot |[Ss]tyle|[Mm]odif(y|ied|ying)/) !=-1 || the_sum.search(/re(structure|organiz|order)|clea(n|r)\)/i) !=-1 || the_sum.search(/clarif(y|ied)[ :\.\)]|replac(e|ed|ing)| conver(t|sion)|(re-)arrang(e|ed|ing) /i) !=-1 || the_sum.search(/ Request| request|WP:|[Ll]ink to |[Nn]eed(ed| )|[Ll]ink /) !=-1 || the_sum.search(/Fix| list|reorganize|correct| website| detail|this[ :\.\)]| this/i) !=-1 || the_sum.search(/ cat /) !=1 || the_sum.search(/[Rr]equest([ :\.\)]|ed[ :\.\)]|ing )/) !=-1 || the_sum.search(/!\)| &quot;.+&quot;| '.+'/) !=-1 || the_sum.search(/(article|page) (is|currently|undergoing)/) !=-1)
               {
          Minor_nonrv = 1;
          Minor = 'yes';
          Careful = 'yes';
          Superfic = 'yes';
          Notable = 'no';
          Significant = 'no';
               }
           }
//signifiant article edit pass 2
 if (Namespace_type == 'article' &amp;&amp; Sum_value == 1 &amp;&amp; Revert == 'no' &amp;&amp; Careful == 'no')
           {
        if (the_sum.search(/sub(cat|section)/i) !=-1 || the_sum.search(/ (not|NOT) | (is|IS) (not|NOT)/i) !=-1 || the_sum.search(/( )only( )|(P|p)lease /i) !=-1 || the_sum.search(/(merge[ :\.\)]|merge[\.;:\)]|small[ :\.\)]|minor[ :\.\)]|onvert[ :\.\)]| name| naming|additional[ :\.\)]|extra[ :\.\)]| few)/i) !=-1 || the_sum.search(/(infobox|small|(V|v)ersion)[ :\.\)]/i) !=-1 || the_sum.search(/factual|Factual|ording|eword[ :\.\)]|true| truth|correc(t|ted|ting) (date|data|info|facts)| didn| did not| cannot| could not/i) !=-1 || the_sum.search(/re(structure|-structure|organiz|order|-order)| sourcing\)| sources\)/i) !=-1 || the_sum.search(/( reference|ref\.|ref\))/i) !=-1 || the_sum.search(/(Write[ :\.\)]|write[ :\.\)]|New[ :\.\)]|new[ :\.\)]|image|photo|pictures)/i) !=-1)
               {
          Minor_nonrv = 1;
          Minor = 'yes';
          Significant = 'yes';
               }
           }
//anything else left, marked as minor, is superficial
 if (Namespace_type == 'article' &amp;&amp; Sum_value == 1 &amp;&amp; Revert=='no' &amp;&amp; Notable =='no' &amp;&amp; Superfic=='no' &amp;&amp; Significant == 'no' &amp;&amp; Minor=='yes')
           {
          Minor_nonrv = 1;
          Minor = 'yes';
          Superfic = 'yes';
           }
//anything else left, not marked as minor, is significant
 else if (Namespace_type == 'article' &amp;&amp; Sum_value == 1 &amp;&amp; Revert=='no' &amp;&amp; Notable =='no' &amp;&amp; Superfic=='no' &amp;&amp; Significant == 'no' &amp;&amp; Minor=='no')
           {
          Minor_nonrv = 1;
          Significant = 'yes'
          Minor = 'yes';
           }
//flagging
          if (Sum_value == -1 &amp;&amp; Marked_as_minor == 'yes')
               {
          ArtSf = ArtSf + 1;
          l[i].innerHTML += ' (' + sflink + ') #' + ArtSf;
               }
          else if (Notable == 'yes' &amp;&amp; Marked_as_minor == 'no')
               {
          ArtSig = ArtSig + 1;
          l[i].innerHTML += ' (' + alink + ') #' + ArtSig;  
               }
          else if (Notable == 'yes' &amp;&amp; Marked_as_minor == 'yes')
               {
          ArtSig = ArtSig + 1;
          l[i].innerHTML += ' (' + malink + ') #' + ArtSig;  
               }
          else if (Superfic == 'yes' &amp;&amp; Minor == 'yes' &amp;&amp; Sum_value == 1)
               {
          ArtSf = ArtSf + 1;
          l[i].innerHTML += ' (' + sflink + ') #' + ArtSf;
               }
          else if (Superfic == 'no' &amp;&amp; Minor == 'yes' &amp;&amp; Significant == 'yes' &amp;&amp; Sum_value == 1 &amp;&amp; Revert == 'no')
               {
          ArtM = ArtM + 1;
          l[i].innerHTML += ' (' + minalink + ') #' + ArtM;
               }
  }
//end article stats
//user flagging
        if (l[i].innerHTML.indexOf('(cur) (') == -1 &amp;&amp; l[i].innerHTML.indexOf(') (last)') == -1)
         {
         if (l[i].getElementsByTagName('a')[3-del_offset].href.indexOf('Special:Contributions') !=-1)
                {
                IP = IP + 1; 
                l[i].innerHTML += ' (' + iplink + ') #' + IP;
                Newbie = 1;
                IP_user = 1;
                Newbie_edits += 1;
                }
         else if (l[i].getElementsByTagName('a')[3-del_offset].href.indexOf('&amp;action=edit') !=-1 &amp;&amp; l[i].getElementsByTagName('a')[4-del_offset].href.indexOf('&amp;action=edit') !=-1 &amp;&amp; sysop == 'no')
                {
                VN = VN + 1;
                l[i].innerHTML += ' (' + nutlink + ') #' + NU;
                Newbie = 1;
                Newbie_edits += 1;
                }
         else if (l[i].getElementsByTagName('a')[3-del_offset].href.indexOf('&amp;action=edit') !=-1 &amp;&amp; sysop == 'no')
                {
                NU = NU + 1;
                l[i].innerHTML += ' (' + nulink + ') #' + NU;
                Newbie = 1;
                Newbie_edits += 1;
                }
         else if (l[i].getElementsByTagName('a')[4-del_offset].href.indexOf('&amp;action=edit') !=-1 &amp;&amp; sysop == 'no')
                {
                NU = NU + 1;
                l[i].innerHTML += ' (' + ntlink + ') #' + NU;
                Newbie = 1;
                Newbie_edits += 1;
                }
         }
        else if (l[i].innerHTML.indexOf('(cur) (') !=-1 &amp;&amp; l[i].innerHTML.indexOf(') (last)') !=-1)
          {
          if (l[i].getElementsByTagName('a')[1].href.indexOf('Special:Contributions') !=-1)
              {
              IP = IP + 1;
              l[i].innerHTML += ' (' + iplink + ') #' + IP;
              Newbie = 1;
              IP_user = 1;
              Newbie_edits += 1;
              }
          else if (l[i].getElementsByTagName('a')[1].href.indexOf('&amp;action=edit') !=-1 &amp;&amp; l[i].getElementsByTagName('a')[2].href.indexOf('&amp;action=edit') !=-1 &amp;&amp; sysop == 'no')
              {
              VN = VN + 1;
              l[i].innerHTML += ' (' + nulink + ') #' + NU;
              Newbie = 1;
              Newbie_edits += 1;
              }
          else if (l[i].getElementsByTagName('a')[1].href.indexOf('&amp;action=edit') !=-1 &amp;&amp; sysop == 'no')
              {
              NU = NU + 1;
              l[i].innerHTML += ' (' + nulink + ') #' + NU;
              Newbie = 1;
              Newbie_edits += 1;
              }
          }
        else if (l[i].innerHTML.indexOf('(cur) (') !=-1 || l[i].innerHTML.indexOf(') (last)') !=-1)
         {
          if (l[i].getElementsByTagName('a')[2].href.indexOf('Special:Contributions') !=-1)
            {
            IP = IP + 1;
            l[i].innerHTML += ' (' + iplink + ') #' + IP;
            Newbie = 1;
            IP_user = 1;
            IP_edits += 1;
            Newbie_edits += 1;
            }
          if (l[i].getElementsByTagName('a')[2].href.indexOf('&amp;action=edit') !=-1 &amp;&amp; l[i].getElementsByTagName('a')[3].href.indexOf('&amp;action=edit') !=-1 &amp;&amp; sysop == 'no')
            {
            VN = VN + 1;
            l[i].innerHTML += ' (' + nulink + ') #' + NU;
            Newbie = 1;
            Newbie_edits += 1;
            }
          else if (l[i].getElementsByTagName('a')[2].href.indexOf('&amp;action=edit') !=-1 &amp;&amp; sysop == 'no')
            {
            NU = NU + 1;
            l[i].innerHTML += ' (' + nulink + ') #' + NU;
            Newbie = 1;
            Newbie_edits += 1;
            }
         }
     if (Newbie == 1 &amp;&amp; l[i].innerHTML.indexOf(revlink) == -1 &amp;&amp; Revert == 'no')
         {Newbie_nonreverts += 1;}
     if (IP_user == 1 &amp;&amp; l[i].innerHTML.indexOf(revlink) == -1 &amp;&amp; Revert == 'no')
         {IP_nonreverts += 1;}
     }
//end of FOR LOOP
if (i == 1)
{
document.getElementById('contentSub').innerHTML = '&lt;span style=&quot;color:blue;&quot;&gt;&lt;strong&gt;There are no page modification statistics to show since there is only one edit.&lt;/span&gt;&lt;/strong&gt;&lt;br&gt;';
return;
}
if (document.title.indexOf('View and restore deleted pages') !=-1)
{
   var first_time = l[0].getElementsByTagName('a')[0].innerHTML;
   var last_time = l[i-1].getElementsByTagName('a')[0].innerHTML;
}
else
{
if (location.href.indexOf('&amp;offset=') !=-1 &amp;&amp; location.href.indexOf('&amp;offset=0') == -1)
   var first_time = l[0].getElementsByTagName('a')[2].innerHTML;
else if (l[0].innerHTML.indexOf('(cur) ') !=-1)
   var first_time = l[0].getElementsByTagName('a')[1].innerHTML;
else if (l[0].innerHTML.indexOf(' (last)') !=-1)
   var first_time = l[0].getElementsByTagName('a')[1].innerHTML;
if (l[i-1].innerHTML.indexOf(' (last)') !=-1)
   var last_time = l[i-1].getElementsByTagName('a')[1].innerHTML;
else
   var last_time = l[i-1].getElementsByTagName('a')[2].innerHTML;
}
var E = i;
var SE = E-Reverted-R;
var RU = E-IP;
var OU = E-IP-NU-VN-SYS-BOT;
var UN = IP+NU;
var ESUM = 100*(E-NS)/E;
totdays = getDateDiff(current_time,last_time);
framedays = getDateDiff(first_time,last_time);
  var caverage = E/totdays;
  var average = E/framedays;
  var rvaverage = R/framedays;
  var nonrvave = average - rvaverage;
var Daylength = Math.round((1)*framedays)/1;
if (framedays &lt; 1) Daylength = 1;
var Dayspassed = Math.round((1)*totdays)/1;
if (totdays &lt; 1) Dayspassed = 1;
var avenotice = '';
//wow..statistics people
var caverage = Math.round((1000)*caverage)/1000;
if (location.href.split(&quot;&amp;offset=&quot;)[1] != undefined)
{
  if (location.href.split(&quot;&amp;offset=0&quot;)[1] != undefined)
   {var offset = 'no';}
  else
   {
  caverage = '&lt;strong&gt;[Value unknown]*&lt;/strong&gt;';
  avenotice = '&lt;strong&gt;*Average edits per day not shown because the most recent edit to this page is not visible&lt;/strong&gt;&lt;br&gt;';
   var offset = 'yes';
   }
}
var ArticleAves = '&lt;span style=&quot;color:blue;&quot;&gt;&lt;strong&gt;Analysis:&lt;/strong&gt;&lt;/span&gt;&lt;br&gt;';
if (Namespace_type == 'article')
  {
ArticleAves = '&lt;span style=&quot;color:blue;&quot;&gt;&lt;strong&gt;Analysis:&lt;/span&gt;&lt;br&gt;' + '&lt;span style=&quot;color:darkblue;&quot;&gt;Notable edits (creation/expansion/major rewrites/sourcing):&lt;/span&gt; ' + Math.round((100)*(100*(ArtSig)/E))/100 + '&lt;/strong&gt;% (' + ArtSig + ' edit(s))&lt;br&gt;' + '&lt;strong&gt;Significant edits (copyedits/small rewrites/content/reference additions): ' + Math.round((100)*(100*(ArtM)/E))/100 + '&lt;/strong&gt;% (' + ArtM + ' edit(s))&lt;br&gt;' + '&lt;strong&gt;&lt;span style=&quot;color:purple;&quot;&gt;Superficial edits (grammar/spelling/wikify/links/tagging):&lt;/span&gt; ' + Math.round((100)*(100*(ArtSf)/E))/100 + '&lt;/strong&gt;% (' + ArtSf + ' edit(s))&lt;br&gt;';
  }
var oldbody = document.getElementById('bodyContent').innerHTML;
//
document.getElementById('contentSub').innerHTML += '&lt;br&gt;&lt;span style=&quot;color:darkblue;&quot;&gt;&lt;strong&gt;Viewing page modification statistics (from the &lt;/span&gt;' + E + ' &lt;span style=&quot;color:darkblue;&quot;&gt;edits shown on this page):&lt;/span&gt;&lt;/strong&gt;';
//
document.getElementById('bodyContent').innerHTML = '&lt;div id=&quot;contentSub&quot;&gt;' + document.getElementById('contentSub').innerHTML + '&lt;/div&gt;' + '&lt;strong&gt;&lt;span style=&quot;color:blue;&quot;&gt;User statistics for these edits:&lt;/span&gt;&lt;br&gt; ' + 'Number of users: ' + Users + '&lt;br&gt;' + Math.round((100)*IP/E*100)/100 + '% &lt;span style=&quot;color:darkred;&quot;&gt;IP/anon edits &lt;/span&gt;&lt;/strong&gt; (' + IP + ' edit(s))&lt;br&gt;&lt;strong&gt;' + Math.round((100)*VN/E*100)/100 + '% likely new user edits &lt;/strong&gt; (' + VN + ' edit(s))&lt;br&gt;&lt;strong&gt;'  + Math.round((100)*NU/E*100)/100 + '% &lt;span style=&quot;color:grey;&quot;&gt;likely unestablished user edits &lt;/span&gt;&lt;/strong&gt; (' + NU + ' edit(s))&lt;br&gt;&lt;strong&gt;' + Math.round((100)*(OU)/E*100)/100 + '%&lt;span style=&quot;color:darkblue;&quot;&gt; likely older user edits (non-admin/bot) &lt;/strong&gt;&lt;/span&gt; (' + (OU) + ' edit(s))&lt;br&gt;&lt;strong&gt;' + Math.round((100)*SYS/E*100)/100 + '%&lt;span style=&quot;color:blue;&quot;&gt; administrator edits &lt;/strong&gt;&lt;/span&gt; (' + SYS + ' edit(s))&lt;br&gt;&lt;strong&gt;' + Math.round((100)*BOT/E*100)/100 + '%&lt;span style=&quot;color:darkorange;&quot;&gt; bot edits &lt;/strong&gt;&lt;/span&gt; (' + BOT + ' edit(s))&lt;br&gt;' + '&lt;span style=&quot;color:blue;&quot;&gt;&lt;strong&gt;Time range:&lt;/span&gt;&lt;br&gt;' + Daylength + ' approximate day(s) of edits&lt;/strong&gt; || &lt;strong&gt;' + Dayspassed + ' approximate day(s) since first edit&lt;/strong&gt;&lt;br&gt; ' + 'Most recent edit on: ' + first_time + '&lt;br&gt;' + 'Oldest edit on: ' + last_time + '&lt;br&gt;' + 'Current time: ' + current_time + '&lt;br&gt;' + ArticleAves + '&lt;strong&gt;' + Math.round((100)*R/E*100)/100 + '%&lt;span style=&quot;color:darkred;&quot;&gt; marked reverts (any)&lt;/span&gt;&lt;/strong&gt; (' + R + ')&lt;strong&gt;' + '&lt;br&gt;'+ Math.round((100)*V/E*100)/100 + '%&lt;span style=&quot;color:red;&quot;&gt; probable reverts of vandalism&lt;/span&gt;&lt;/strong&gt; (' + V + ')&lt;br&gt;' + '&lt;span style=&quot;color:grey;&quot;&gt;&lt;strong&gt;Unmarked edits:&lt;/span&gt; ' + Math.round((100)*(100*(UM)/E))/100 + '&lt;/strong&gt;% (' + UM + ' edit(s))&lt;br&gt;' + '&lt;span style=&quot;color:blue;&quot;&gt;&lt;strong&gt;Averages:&lt;/span&gt;&lt;br&gt; ' + Math.round((100)*ESUM)/100 + '% edit summary usage&lt;br&gt;' + 'Average edits/user: ' + Math.round((100)*E/Users)/100 + '&lt;br&gt;' + caverage + ' edit(s) per day (current)&lt;br&gt;' + Math.round((1000)*average)/1000 + ' edit(s) per day (since last active)&lt;br&gt;' + Math.round((1000)*rvaverage)/1000 + '&lt;span style=&quot;color:darkred;&quot;&gt; marked revert(s) per day (since last active)&lt;/strong&gt;&lt;/span&gt;&lt;br&gt;' + '&lt;strong&gt;1&lt;span style=&quot;color:darkred;&quot;&gt; : &lt;/span&gt;' + Math.round((100)*R/(E-R))/100 + '&lt;span style=&quot;color:darkred;&quot;&gt; regular edit to marked revert ratio (RE:RV)&lt;/span&gt;&lt;br&gt;' + Math.round((100)*100*SE/E)/100 + '% &lt;span style=&quot;color:darkblue;&quot;&gt;edit progess (non-reverts/reverted edits)&lt;/span&gt;&lt;/strong&gt; (' + SE + ' edit(s))&lt;br&gt;&lt;strong&gt;' + Math.round((100)*100*Newbie_nonreverts/Newbie_edits)/100 + '% &lt;span style=&quot;color:purple;&quot;&gt;of edits by IPs/new/unestablished users are non-reverts/reverted&lt;/span&gt;&lt;/strong&gt; (' + Newbie_nonreverts + ' out of ' + Newbie_edits + ' edit(s))&lt;br&gt;&lt;strong&gt;' + Math.round((100)*100*IP_nonreverts/IP)/100 + '% &lt;span style=&quot;color:darkgreen;&quot;&gt;of edits by IP-only users are non-reverts/reverted&lt;/span&gt;&lt;/strong&gt; (' + IP_nonreverts + ' out of ' + IP + ' edit(s))&lt;br&gt;' + avenotice + oldbody.split(oldbody.split('&lt;/div&gt;')[0] + '&lt;/div&gt;')[1];
//from wikibits.js
histrowinit();
//popups
  var body = document.getElementById('bodyContent');
  body.ranSetupTooltipsAlready=false;
  setupTooltips(body);
}
//END

//From User:JesseW/monobook.js

addOnloadHook(addSinceTab)
function addSinceTab() 
{
    var tabs = document.getElementById('p-cactions').getElementsByTagName('ul')[0];
    if (window.location.href.indexOf(&quot;&amp;limit=100&amp;action=history&amp;gotosince=true&quot;)!=-1)
    {
       do_since_I_last_edited()
    }
    else if (location.href.search(/&amp;action=[^p]|Special:|=Special%3A/) ==-1) 
    {
       var thetitle=document.title.slice(0, String(document.title).indexOf(&quot; - &quot;));
       thetitle = thetitle.replace('&amp;','%26').replace('&amp;','%26').replace('&amp;','%26').replace('&amp;','%26');
       var l=addlilink(tabs, &quot;/w/index.php?title=&quot;+thetitle+&quot;&amp;limit=100&amp;action=history&amp;gotosince=true&quot;, '!', '');
       l.lastChild.title=&quot;Changes since I last edited&quot;;
    }
}
//END

function do_since_I_last_edited() 
{
        
	var csub=document.getElementById(&quot;contentSub&quot;);
	var msg=document.createElement(&quot;p&quot;);
	msg.appendChild(document.createTextNode
			(&quot;Parsing history... please wait...&quot;));
	msg.className=&quot;error&quot;;
	csub.insertBefore(msg, csub.firstChild)
        var go = 'no';
        var username = document.getElementById('pt-userpage').getElementsByTagName('a')[0].innerHTML;
	var hists = document.getElementById('bodyContent').getElementsByTagName('li');
        var findcheck = document.getElementById('bodyContent');
     	if (hists[0].getElementsByTagName('a')[2].innerHTML == username)
        {msg.replaceChild(document.createTextNode(&quot;You were the last person to edit this page!&quot;),msg.firstChild);; return;} 
	for (var n=0; n&lt;hists.length; n++) 
          {
	  if (hists[n].getElementsByTagName('a')[3])
            {
	     if (hists[n].getElementsByTagName('a')[3].innerHTML == username)
               {
             hists[n].getElementsByTagName('input')[0].checked=true;
             if (n == 0){msg.replaceChild(document.createTextNode
			 (&quot;You were the last person to edit this page!&quot;),
			 msg.firstChild); return;}
             location.href = hists[n].getElementsByTagName('a')[0].href;
             return;
               }
            }
	  else if (hists[n].getElementsByTagName('a')[2])
            {
	     if (hists[n].getElementsByTagName('a')[2].innerHTML == username)
               {
             if (n == 0){msg.replaceChild(document.createTextNode
			 (&quot;You were the last person to edit this page!&quot;),
			 msg.firstChild);}
             return;
               }
            }
          }
	msg.replaceChild(document.createTextNode
			 (&quot;You have not recently edited this page!&quot;),
			 msg.firstChild);
}
//END
//&lt;/nowiki&gt;&lt;/pre&gt;
</pre><div class="printfooter">
Retrieved from "<a href="http://en.wikipedia.org../../../a/a/r/User%7EAarontay_monobook.js_99a3.html">http://en.wikipedia.org../../../a/a/r/User%7EAarontay_monobook.js_99a3.html</a>"</div>
	    	    <!-- end content -->
	    <div class="visualClear"></div>
	  </div>
	</div>
      </div>
      <div id="column-one">
	<div id="p-cactions" class="portlet">
	  <h5>Views</h5>
	  <ul>
	    <li id="ca-nstab-user"
	       class="selected"	       ><a href="../../../a/a/r/User%7EAarontay_monobook.js_99a3.html">User page</a></li><li id="ca-talk"
	       class="new"	       ><a href="../../../a/a/r/User_talk%7EAarontay_monobook.js_5633.html">Discussion</a></li><li id="ca-current"
	       	       ><a href="http://en.wikipedia.org/wiki/User:Aarontay/monobook.js">Current revision</a></li>	  </ul>
	</div>
	<div class="portlet" id="p-logo">
	  <a style="background-image: url(../../../images/wiki-en.png);"
	    href="../../../index.html"
	    title="Main Page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
		<div class='portlet' id='p-navigation'>
	  <h5>Navigation</h5>
	  <div class='pBody'>
	    <ul>
	    	      <li id="n-Main-page"><a href="../../../index.html">Main page</a></li>
	     	      <li id="n-Contents"><a href="../../../c/o/n/Wikipedia%7EContents_3181.html">Contents</a></li>
	     	      <li id="n-Featured-content"><a href="../../../f/e/a/Wikipedia%7EFeatured_content_24ba.html">Featured content</a></li>
	     	      <li id="n-currentevents"><a href="../../../c/u/r/Portal%7ECurrent_events_bb60.html">Current events</a></li>
	     	    </ul>
	  </div>
	</div>
		<div class='portlet' id='p-interaction'>
	  <h5>interaction</h5>
	  <div class='pBody'>
	    <ul>
	    	      <li id="n-About-Wikipedia"><a href="../../../a/b/o/Wikipedia%7EAbout_8d82.html">About Wikipedia</a></li>
	     	      <li id="n-portal"><a href="../../../c/o/m/Wikipedia%7ECommunity_Portal_6a3c.html">Community portal</a></li>
	     	      <li id="n-contact"><a href="../../../c/o/n/Wikipedia%7EContact_us_afd6.html">Contact us</a></li>
	     	      <li id="n-sitesupport"><a href="http://wikimediafoundation.org/wiki/Fundraising">Make a donation</a></li>
	     	      <li id="n-help"><a href="../../../c/o/n/Help%7EContents_22de.html">Help</a></li>
	     	    </ul>
	  </div>
	</div>
		<div id="p-search" class="portlet">
	  <h5><label for="searchInput">Search</label></h5>
	  <div id="searchBody" class="pBody">
	    <form action="javascript:goToStatic(3)" id="searchform"><div>
	      <input id="searchInput" name="search" type="text"
	        accesskey="f" value="" />
	      <input type='submit' name="go" class="searchButton" id="searchGoButton"
	        value="Go" />
	    </div></form>
	  </div>
	</div>
	      </div><!-- end of the left (by default at least) column -->
      <div class="visualClear"></div>
      <div id="footer">
    <div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="../../../skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" /></a></div>	<div id="f-copyrightico"><a href="http://wikimediafoundation.org/"><img src="../../../images/wikimedia-button.png" border="0" alt="Wikimedia Foundation"/></a></div>	<ul id="f-list">
	  	  	  <li id="f-credits">This page was last modified 10:23, 31 March 2007 by Wikipedia user <a href="../../../a/a/r/User%7EAarontay_fcc6.html" title="User:Aarontay">Aarontay</a>. </li>	  <li id="f-copyright">All text is available under the terms of the <a class='internal' href="../../../t/e/x/Wikipedia%7EText_of_the_GNU_Free_Documentation_License_702a.html" title="Wikipedia:Text of the GNU Free Documentation License">GNU Free Documentation License</a>. (See <b><a class='internal' href="../../../c/o/p/Wikipedia%7ECopyrights_92c4.html" title="Wikipedia:Copyrights">Copyrights</a></b> for details.) <br /> Wikipedia&reg; is a registered trademark of the <a href="http://www.wikimediafoundation.org">Wikimedia Foundation, Inc</a>., a US-registered <a class='internal' href="../../../5/0/1/501%28c%29.html#501.28c.29.283.29" title="501(c)(3)">501(c)(3)</a> <a href="http://wikimediafoundation.org/wiki/Deductibility_of_donations">tax-deductible</a> <a class='internal' href="../../../n/o/n/Non-profit_organization.html" title="Non-profit organization">nonprofit</a> <a href="../../../c/h/a/Charitable_organization.html" title="Charitable organization">charity</a>.<br /></li>	  <li id="f-about"><a href="../../../a/b/o/Wikipedia%7EAbout_8d82.html" title="Wikipedia:About">About Wikipedia</a></li>	  <li id="f-disclaimer"><a href="../../../g/e/n/Wikipedia%7EGeneral_disclaimer_3e44.html" title="Wikipedia:General disclaimer">Disclaimers</a></li>	  	</ul>
      </div>
    </div>
  </body>
</html>
