<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    		<meta name="keywords" content="A20 line,Address bus,BIOS,Bootstrapping (computing),Chipset,Electrical,Gibibyte,IBM,IBM PC AT,Intel 80286,Intel 80386" />
		<link rel="shortcut icon" href="/favicon.ico" />
		<link rel="search" type="application/opensearchdescription+xml" href="/w/opensearch_desc.php" title="Wikipedia (English)" />
		<link rel="copyright" href="../../../COPYING.html" />
    <title>A20 line - Wikipedia, the free encyclopedia</title>
    <style type="text/css">/*<![CDATA[*/ @import "../../../skins/htmldump/main.css"; /*]]>*/</style>
    <link rel="stylesheet" type="text/css" media="print" href="../../../skins/common/commonPrint.css" />
    <!--[if lt IE 5.5000]><style type="text/css">@import "../../../skins/monobook/IE50Fixes.css";</style><![endif]-->
    <!--[if IE 5.5000]><style type="text/css">@import "../../../skins/monobook/IE55Fixes.css";</style><![endif]-->
    <!--[if IE 6]><style type="text/css">@import "../../../skins/monobook/IE60Fixes.css";</style><![endif]-->
    <!--[if IE]><script type="text/javascript" src="../../../skins/common/IEFixes.js"></script>
    <meta http-equiv="imagetoolbar" content="no" /><![endif]-->
    <script type="text/javascript" src="../../../skins/common/wikibits.js"></script>
    <script type="text/javascript" src="../../../skins/htmldump/md5.js"></script>
    <script type="text/javascript" src="../../../skins/htmldump/utf8.js"></script>
    <script type="text/javascript" src="../../../skins/htmldump/lookup.js"></script>
    <script type="text/javascript" src="../../../raw/gen.js"></script>        <style type="text/css">/*<![CDATA[*/
@import "../../../raw/MediaWiki%7ECommon.css";
@import "../../../raw/MediaWiki%7EMonobook.css";
@import "../../../raw/gen.css";
/*]]>*/</style>          </head>
  <body
    class="ns-0">
    <div id="globalWrapper">
      <div id="column-content">
	<div id="content">
	  <a name="top" id="contentTop"></a>
	        <h1 class="firstHeading">A20 line</h1>
	  <div id="bodyContent">
	    <h3 id="siteSub">From Wikipedia, the free encyclopedia</h3>
	    <div id="contentSub"></div>
	    	    	    <!-- start content -->
	    <p>The <b>A20</b> or <i>addressing line 20</i> is one of the plethora of <a href="../../../e/l/e/Electrical.html" title="Electrical">electrical</a> lines that comprise the <a href="../../../s/y/s/System_bus.html" title="System bus">system bus</a> of an <a href="../../../x/8/6/X86.html" title="X86">x86</a> based computer system. The A20 line in particular is used to transmit the 21<sup>st</sup> bit on the <a href="../../../a/d/d/Address_bus.html" title="Address bus">address bus</a>.</p>
<p>A microprocessor will typically have a number of addressing lines equal to the base-two <a href="../../../l/o/g/Logarithm.html" title="Logarithm">logarithm</a> of its physical addressing space. For example an <a href="../../../i/n/t/Intel_80386.html" title="Intel 80386">Intel 80386</a> with its 4&#160;<a href="../../../g/i/b/Gibibyte.html" title="Gibibyte">GiB</a> physical addressing space requires 32 lines, which are named A0 through A31. The lines are named after the number of the bit in the address they are transmitting. Thus, A0 will transmit the <a href="../../../l/e/a/Least_significant_bit.html" title="Least significant bit">least significant bit</a>, which is bit 0. A20 transmits bit 20 and will become active once addresses reach 1&#160;<a href="../../../m/e/b/Mebibyte.html" title="Mebibyte">MiB</a> or 2<sup>20</sup>. (It should be noted that in the case of the 80386 the A0 and A1 lines do not actually exist as such, as this processor addresses memory in 4 byte words, indicating through separate <i>Byte Enable</i> lines which of the 4 bytes are of interest for a given memory transfer.)</p>
<p><a name="History" id="History"></a></p>
<h2><span class="editsection">[<a href="../../../a/2/0/A20_line.html" title="Edit section: History">edit</a>]</span> <span class="mw-headline">History</span></h2>
<p>When <a href="../../../i/b/m/IBM_cbf4.html" title="IBM">IBM</a> designed the <a href="../../../i/b/m/IBM_PC_AT_dc65.html" title="IBM PC AT">IBM PC AT</a> machine, they decided to use the new higher-performance <a href="../../../i/n/t/Intel_80286.html" title="Intel 80286">Intel 80286</a> microprocessor, which was not entirely compatible with the previous <a href="../../../i/n/t/Intel_8088.html" title="Intel 8088">Intel 8088</a> and <a href="../../../i/n/t/Intel_8086.html" title="Intel 8086">Intel 8086</a> microprocessors when in <a href="../../../r/e/a/Real_mode.html" title="Real mode">real mode</a>. Previous x86 microprocessors did not have bus lines for A20 through A31; therefore, addresses above the first <a href="../../../m/e/g/Megabyte.html" title="Megabyte">megabyte</a> would appear to the processors to wrap externally. The 80286 could address up to 16&#160;<a href="../../../m/e/g/Megabyte.html" title="Megabyte">MB</a> of system memory, thus removing the ability for memory addresses to wrap around.</p>
<p>Many real mode programs took and still take advantage of this, thus making it a common trick to access the first 64&#160;<a href="../../../k/i/l/Kilobyte.html" title="Kilobyte">KB</a> of memory without changing the processor's segment registers. In order to remain compatible with these programs, IBM decided to fix the problem themselves, at the <a href="../../../m/o/t/Motherboard.html" title="Motherboard">motherboard</a> level.</p>
<p>This was accomplished by inserting a <a href="../../../l/o/g/Logic_gate.html" title="Logic gate">logic gate</a> on the A20 line between the processor and system bus, which logically got named <i>Gate-A20</i>. Gate-A20 can be enabled or disabled by software to allow or prevent the address bus from receiving a signal from A20. It is set to non-passing for the execution of older programs which rely on the wrap-around. At boot time, the <a href="../../../b/i/o/BIOS_8cd7.html" title="BIOS">BIOS</a> first enables Gate-A20 when counting and testing all of the system's memory, and disables it before transferring control to the operating system.</p>
<p>Originally, the logic gate was a gate connected to the <a href="../../../i/n/t/Intel_8042.html" title="Intel 8042">Intel 8042</a> keyboard controller. Controlling it was a relatively slow process. Other methods have since been added to allow for more efficient multitasking of programs which require this wrap-around with programs that access all of the system's memory.</p>
<p>It should be noted that disconnecting A20 would not wrap <b>all</b> memory accesses above 1&#160;MB, just those in the 1&#160;MB-2&#160;MB, 3&#160;MB-4&#160;MB, 5&#160;MB-6&#160;MB, etc. ranges. <a href="../../../r/e/a/Real_mode.html" title="Real mode">Real mode</a> software only cared about the area slightly above 1&#160;MB, so Gate-A20 was enough.</p>
<p>Over the time, the <i>A20 line</i> expression became confused with <i>Gate-A20</i> among less technically savvy audiences.</p>
<p>Enabling the Gate-A20 line is one of the first steps a <a href="../../../p/r/o/Protected_mode.html" title="Protected mode">protected mode</a> <a href="../../../x/8/6/X86.html" title="X86">x86</a> <a href="../../../o/p/e/Operating_system.html" title="Operating system">operating system</a> does in the bootup process, often before control has been passed onto the kernel from the <a href="../../../b/o/o/Bootstrapping_%28computing%29.html" title="Bootstrapping (computing)">bootstrap</a> (in the case of Linux, for example).</p>
<p><a href="../../../v/i/r/Virtual_8086_mode.html" title="Virtual 8086 mode">Virtual 8086 mode</a>, introduced with the <a href="../../../i/n/t/Intel_80386.html" title="Intel 80386">Intel 80386</a>, allows the A20 wrap-around to be simulated by using the <a href="../../../v/i/r/Virtual_memory.html" title="Virtual memory">virtual memory</a> facilities of the processor: physical memory may be mapped to multiple virtual addresses thus allowing the memory mapped at first megabyte of virtual memory may be mapped again in the second megabyte of virtual memory. The operating system may intercept changes to Gate A20 and make corresponding changes to the virtual memory address space, which also makes irrelevant the efficiency of Gate-A20 toggling.</p>
<p>The <a href="../../../i/n/t/Intel_80486.html" title="Intel 80486">Intel 80486</a> added a special pin named <i>A20M#</i>, which when asserted low forces bit 20 of the physical address to be zero for all on-chip cache or external memory accesses. This enhancement is mostly significant for mainboard manufacturers, because it makes parts of the external Gate A20 circuitry unnecessary. Software still needs to manipulate the gate and must still deal with external peripherals (the <a href="../../../c/h/i/Chipset.html" title="Chipset">chipset</a>) for that.</p>
<p><a name="External_links" id="External_links"></a></p>
<h2><span class="editsection">[<a href="../../../a/2/0/A20_line.html" title="Edit section: External links">edit</a>]</span> <span class="mw-headline">External links</span></h2>
<ul>
<li><a href="http://www.win.tue.nl/~aeb/linux/kbd/A20.html" class="external text" title="http://www.win.tue.nl/~aeb/linux/kbd/A20.html" rel="nofollow">A20 - a pain from the past</a></li>
</ul>

<div class="printfooter">
Retrieved from "<a href="http://en.wikipedia.org../../../a/2/0/A20_line.html">http://en.wikipedia.org../../../a/2/0/A20_line.html</a>"</div>
	    <div id="catlinks"><p class='catlinks'><a href="../../../c/a/t/Special%7ECategories_101d.html" title="Special:Categories">Categories</a>: <span dir='ltr'><a href="../../../x/8/6/Category%7EX86_architecture_d51e.html" title="Category:X86 architecture">X86 architecture</a></span> | <span dir='ltr'><a href="../../../i/b/m/Category%7EIBM_PC_compatibles_7247.html" title="Category:IBM PC compatibles">IBM PC compatibles</a></span></p></div>	    <!-- end content -->
	    <div class="visualClear"></div>
	  </div>
	</div>
      </div>
      <div id="column-one">
	<div id="p-cactions" class="portlet">
	  <h5>Views</h5>
	  <ul>
	    <li id="ca-nstab-main"
	       class="selected"	       ><a href="../../../a/2/0/A20_line.html">Article</a></li><li id="ca-talk"
	       	       ><a href="../../../a/2/0/Talk%7EA20_line_a2c0.html">Discussion</a></li><li id="ca-current"
	       	       ><a href="http://en.wikipedia.org/wiki/A20_line">Current revision</a></li>	  </ul>
	</div>
	<div class="portlet" id="p-logo">
	  <a style="background-image: url(../../../images/wiki-en.png);"
	    href="../../../index.html"
	    title="Main Page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
		<div class='portlet' id='p-navigation'>
	  <h5>Navigation</h5>
	  <div class='pBody'>
	    <ul>
	    	      <li id="n-Main-page"><a href="../../../index.html">Main page</a></li>
	     	      <li id="n-Contents"><a href="../../../c/o/n/Wikipedia%7EContents_3181.html">Contents</a></li>
	     	      <li id="n-Featured-content"><a href="../../../f/e/a/Wikipedia%7EFeatured_content_24ba.html">Featured content</a></li>
	     	      <li id="n-currentevents"><a href="../../../c/u/r/Portal%7ECurrent_events_bb60.html">Current events</a></li>
	     	    </ul>
	  </div>
	</div>
		<div class='portlet' id='p-interaction'>
	  <h5>interaction</h5>
	  <div class='pBody'>
	    <ul>
	    	      <li id="n-About-Wikipedia"><a href="../../../a/b/o/Wikipedia%7EAbout_8d82.html">About Wikipedia</a></li>
	     	      <li id="n-portal"><a href="../../../c/o/m/Wikipedia%7ECommunity_Portal_6a3c.html">Community portal</a></li>
	     	      <li id="n-contact"><a href="../../../c/o/n/Wikipedia%7EContact_us_afd6.html">Contact us</a></li>
	     	      <li id="n-sitesupport"><a href="http://wikimediafoundation.org/wiki/Fundraising">Make a donation</a></li>
	     	      <li id="n-help"><a href="../../../c/o/n/Help%7EContents_22de.html">Help</a></li>
	     	    </ul>
	  </div>
	</div>
		<div id="p-search" class="portlet">
	  <h5><label for="searchInput">Search</label></h5>
	  <div id="searchBody" class="pBody">
	    <form action="javascript:goToStatic(3)" id="searchform"><div>
	      <input id="searchInput" name="search" type="text"
	        accesskey="f" value="" />
	      <input type='submit' name="go" class="searchButton" id="searchGoButton"
	        value="Go" />
	    </div></form>
	  </div>
	</div>
	<div id="p-lang" class="portlet">
	  <h5>In other languages</h5>
	  <div class="pBody">
	    <ul>
	      	      <li>
	      <a href="../../../../de/a/2/0/A20-Gate_b596.html">Deutsch</a>
	      </li>
	      	    </ul>
	  </div>
	</div>
	      </div><!-- end of the left (by default at least) column -->
      <div class="visualClear"></div>
      <div id="footer">
    <div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="../../../skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" /></a></div>	<div id="f-copyrightico"><a href="http://wikimediafoundation.org/"><img src="../../../images/wikimedia-button.png" border="0" alt="Wikimedia Foundation"/></a></div>	<ul id="f-list">
	  	  	  <li id="f-credits">This page was last modified 15:41, 3 April 2007 by Anonymous user(s) of Wikipedia. Based on work by Wikipedia user(s) <a href="../../../g/w/e/User%7EGwern_2189.html" title="User:Gwern">Gwern</a>, <a href="../../../j/p/k/User%7EJpkoester1_ccd2.html" title="User:Jpkoester1">Jpkoester1</a>, <a href="../../../b/r/o/User%7EBrouhaha_aa50.html" title="User:Brouhaha">Brouhaha</a>, <a href="../../../g/u/r/User%7EGurch_e84c.html" title="User:Gurch">Gurch</a>, <a href="../../../d/u/c/User%7EDuckbill_5448.html" title="User:Duckbill">Duckbill</a>, Adam Mirowski, <a href="../../../a/l/u/User%7EAlureiter_d541.html" title="User:Alureiter">Alureiter</a>, <a href="../../../j/s/m/User%7EJsmethers_855e.html" title="User:Jsmethers">Jsmethers</a>, <a href="../../../b/l/u/User%7EBluebot_e595.html" title="User:Bluebot">Bluebot</a>, <a href="../../../y/u/h/User%7EYuhong_e646.html" title="User:Yuhong">Yuhong</a>, <a href="../../../i/r/o/User%7EIronist_c964.html" title="User:Ironist">Ironist</a>, <a href="../../../s/l/i/User%7ESlicing_5f96.html" title="User:Slicing">Slicing</a>, <a href="../../../s/u/r/User%7ESuruena_5a7c.html" title="User:Suruena">Suruena</a>, <a href="../../../r/u/u/User%7ERuud_Koot_88b0.html" title="User:Ruud Koot">Ruud Koot</a>, <a href="../../../c/m/d/User%7ECmdrjameson_3c06.html" title="User:Cmdrjameson">Cmdrjameson</a>, <a href="../../../m/e/m/User%7EMementoVivere_56a6.html" title="User:MementoVivere">MementoVivere</a>, <a href="../../../b/o/o/User%7EBookandcoffee_bb60.html" title="User:Bookandcoffee">Bookandcoffee</a>, <a href="../../../f/r/e/User%7EFrencheigh_9db2.html" title="User:Frencheigh">Frencheigh</a>, Tsman, <a href="../../../e/c/h/User%7EEchoray_be35.html" title="User:Echoray">Echoray</a>, <a href="../../../g/r/e/User%7EGrendelkhan_c5fb.html" title="User:Grendelkhan">Grendelkhan</a>, <a href="../../../f/e/n/User%7EFenice_a2a5.html" title="User:Fenice">Fenice</a>, <a href="../../../w/m/a/User%7EWmahan_ede0.html" title="User:Wmahan">Wmahan</a>, <a href="../../../m/o/d/User%7EModster_b6f4.html" title="User:Modster">Modster</a>, <a href="../../../d/y/s/User%7EDysprosia_bc6d.html" title="User:Dysprosia">Dysprosia</a>, <a href="../../../p/o/p/User%7EPopsracer_cec6.html" title="User:Popsracer">Popsracer</a> and <a href="../../../j/e/f/User%7EJeffrey_Smith_c619.html" title="User:Jeffrey Smith">Jeffrey Smith</a>.</li>	  <li id="f-copyright">All text is available under the terms of the <a class='internal' href="../../../t/e/x/Wikipedia%7EText_of_the_GNU_Free_Documentation_License_702a.html" title="Wikipedia:Text of the GNU Free Documentation License">GNU Free Documentation License</a>. (See <b><a class='internal' href="../../../c/o/p/Wikipedia%7ECopyrights_92c4.html" title="Wikipedia:Copyrights">Copyrights</a></b> for details.) <br /> Wikipedia&reg; is a registered trademark of the <a href="http://www.wikimediafoundation.org">Wikimedia Foundation, Inc</a>., a US-registered <a class='internal' href="../../../5/0/1/501%28c%29.html#501.28c.29.283.29" title="501(c)(3)">501(c)(3)</a> <a href="http://wikimediafoundation.org/wiki/Deductibility_of_donations">tax-deductible</a> <a class='internal' href="../../../n/o/n/Non-profit_organization.html" title="Non-profit organization">nonprofit</a> <a href="../../../c/h/a/Charitable_organization.html" title="Charitable organization">charity</a>.<br /></li>	  <li id="f-about"><a href="../../../a/b/o/Wikipedia%7EAbout_8d82.html" title="Wikipedia:About">About Wikipedia</a></li>	  <li id="f-disclaimer"><a href="../../../g/e/n/Wikipedia%7EGeneral_disclaimer_3e44.html" title="Wikipedia:General disclaimer">Disclaimers</a></li>	  	</ul>
      </div>
    </div>
  </body>
</html>
