<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    		<meta name="keywords" content="User:Actown/monobook.js,Blocking policy,Bypass your cache,Village pump (technical)" />
		<link rel="shortcut icon" href="/favicon.ico" />
		<link rel="search" type="application/opensearchdescription+xml" href="/w/opensearch_desc.php" title="Wikipedia (English)" />
		<link rel="copyright" href="../../../COPYING.html" />
    <title>User:Actown/monobook.js - Wikipedia, the free encyclopedia</title>
    <style type="text/css">/*<![CDATA[*/ @import "../../../skins/htmldump/main.css"; /*]]>*/</style>
    <link rel="stylesheet" type="text/css" media="print" href="../../../skins/common/commonPrint.css" />
    <!--[if lt IE 5.5000]><style type="text/css">@import "../../../skins/monobook/IE50Fixes.css";</style><![endif]-->
    <!--[if IE 5.5000]><style type="text/css">@import "../../../skins/monobook/IE55Fixes.css";</style><![endif]-->
    <!--[if IE 6]><style type="text/css">@import "../../../skins/monobook/IE60Fixes.css";</style><![endif]-->
    <!--[if IE]><script type="text/javascript" src="../../../skins/common/IEFixes.js"></script>
    <meta http-equiv="imagetoolbar" content="no" /><![endif]-->
    <script type="text/javascript" src="../../../skins/common/wikibits.js"></script>
    <script type="text/javascript" src="../../../skins/htmldump/md5.js"></script>
    <script type="text/javascript" src="../../../skins/htmldump/utf8.js"></script>
    <script type="text/javascript" src="../../../skins/htmldump/lookup.js"></script>
    <script type="text/javascript" src="../../../raw/gen.js"></script>        <style type="text/css">/*<![CDATA[*/
@import "../../../raw/MediaWiki%7ECommon.css";
@import "../../../raw/MediaWiki%7EMonobook.css";
@import "../../../raw/gen.css";
/*]]>*/</style>          </head>
  <body
    class="ns-2">
    <div id="globalWrapper">
      <div id="column-content">
	<div id="content">
	  <a name="top" id="contentTop"></a>
	        <h1 class="firstHeading">User:Actown/monobook.js</h1>
	  <div id="bodyContent">
	    <h3 id="siteSub">From Wikipedia, the free encyclopedia</h3>
	    <div id="contentSub"><span class="subpages">&lt; <a href="../../../a/c/t/User%7EActown_8ff5.html" title="User:Actown">User:Actown</a></span></div>
	    	    <div class="usermessage">You have <a href="../../../1/2/7/User_talk%7E127.0.0.1.html" title="User talk:127.0.0.1">new messages</a> (<a href="../../../1/2/7/User_talk%7E127.0.0.1.html" title="User talk:127.0.0.1">last change</a>).</div>	    <!-- start content -->
	    <p><span id="clearyourcache"><b>Note:</b> After saving, you have to <a href="../../../b/y/p/Wikipedia%7EBypass_your_cache_1dae.html" title="Wikipedia:Bypass your cache">bypass your browser's cache</a> to see the changes. <b>Firefox/Mozilla/Safari:</b> hold down <i>Shift</i> while clicking <i>Reload</i> (or press <i>Ctrl-Shift-R</i>), <b>Internet Explorer:</b> press <i>Ctrl-F5</i>, <b>Opera/Konqueror:</b> press <i>F5</i>. 
</p>
<div style="color:darkred;background-color:#EEEEEE;border: darkred 2px solid;padding:5px;" id="jswarning"><div style="clear: both;color:darkred;"></div><b><div style="display:block;">If a message on your talk page led you here, please be wary of who left it.  The code below could contain malicious content capable of compromising your account; if your account appears to be compromised, it will be <a href="../../../b/l/o/Wikipedia%7EBlocking_policy_2eb0.html" title="Wikipedia:Blocking policy">blocked</a>.  If you are unsure whether the code is safe, you can ask at the appropriate <a href="../../../v/i/l/Wikipedia%7EVillage_pump_%28technical%29_e812.html" title="Wikipedia:Village pump (technical)">village pump</a>.</b></div></div></span>
<pre>function inc (file) {
 var lt = String.fromCharCode(60);
 var gt = String.fromCharCode(62);
 document.writeln(lt+'script type=&quot;text/javascript&quot; src=&quot;/w/index.php? title='+file+'&amp;action=raw&amp;ctype=text/javascript&amp;dontcountme=s&quot;'+gt+lt+'/script'+gt);
}
function addTab(url, name, id, title, key){
    var tabs = document.getElementById('p-cactions').getElementsByTagName('ul')[0];
    return addlilink(tabs, url, name, id, title, key);
}
inc(&quot;User:Actown/tabs.js&quot;);
inc(&quot;User:Topaz/init.js&quot;);
inc(&quot;User:Topaz/util.js&quot;);
inc(&quot;User:Topaz/editcountutil.js&quot;);
inc(&quot;User:Topaz/comm.js&quot;);
inc(&quot;User:Topaz/wputil.js&quot;);
inc(&quot;User:Actown/statuschanger.js&quot;);
inc(&quot;User:Interiot/Tool2/code.js&quot;);

//&lt;nowiki&gt;
window.onload = Main;
function Main() 
{
    changelinks();
    addtoolboxlinks();
    addpurgel();
    addtoplink();
//    add_actowns_tabs();
    add_testn_tabs();
    addmasterroll();
    mainpg();
    replacetab();
}

function replacetxt()
{
var undefined;
i = 1;
var original = document.editform.wpTextbox1.value;
what = prompt(&quot;What text do you want to replace?&quot;);
if (what == ''){alert(&quot;Invalid command.&quot;); return;}
if (what == 'null'){alert(&quot;Action cancelled.&quot;); return;}
else {
withw = prompt(&quot;With what?&quot;);
if (withw == 'null'){alert(&quot;Action cancelled.&quot;); return;}
if (withw == ''){alert(&quot;All such appearances of text will be removed.&quot;);}
else {
if (document.editform.wpTextbox1.value.split(what)[1] != undefined)
 {
  while (i == 1)
  {
  document.editform.wpTextbox1.value = document.editform.wpTextbox1.value.replace(what, withw);
  if (document.editform.wpTextbox1.value.split(what)[1] != undefined)
  {i = 1;}
  else
  {i = -1;}
  }
 }
document.editform.wpSummary.value += 'JS: Replacing text &quot;' + what + '&quot; with &quot;' + withw + '&quot; ';
  }
 }
}
//END

function add_link2(url, name)
{
  var na = document.createElement('a');
  na.setAttribute('href', url);
  na.appendChild(document.createTextNode(name));

  var li = document.createElement('li');
  li.appendChild(na);

  var tabs = document.getElementById('p-cactions').getElementsByTagName('ul')[0];
  tabs.appendChild(li);
}

//Auto-replace
function replacetab()
{
var c1 = document.getElementById('column-one');
var tabs = c1.getElementsByTagName('div')[0].getElementsByTagName('ul')[0];
if (document.title.indexOf(&quot;Editing &quot;) != -1)
    {
    tabs.appendChild(tnaddlilink('javascript:replacetxt()',&quot;a-&gt;b&quot;));
    }
}

//Main page
function mainpg() 
{
var site = location.href;
if (site == 'http://en.wikipedia.org/wiki/Main_Page')
  {
      if(document.getElementById('ca-nstab-main'))
      {
      document.getElementById('ca-nstab-main').firstChild.innerHTML = 'main page';
      }   
  }
else if (site == 'http://en.wikipedia.org/w/index.php?title=Main_Page&amp;action=edit')
  {
      if(document.getElementById('ca-nstab-main'))
      {
      document.getElementById('ca-nstab-main').firstChild.innerHTML = 'main page';
      }   
  }
if(document.title.indexOf(&quot;Main Page&quot;) != -1)
  {
      if(document.getElementById('ca-nstab-main'))
      {
      document.getElementById('ca-nstab-main').firstChild.innerHTML = 'main page';
      }   
  }
}

//MASTER rollback
function addmasterroll()
{
  var mrollback = &quot;Master Rollback&quot;;
  var c1 = document.getElementById('column-one');
  var tabs = c1.getElementsByTagName('div')[0].getElementsByTagName('ul')[0];
  if (location.href.indexOf(':Contributions') != -1) 
      { 
    tabs.appendChild(tnaddlilink('javascript:masterview(1000)',&quot;view last 1000&quot;));
    tabs.appendChild(tnaddlilink('javascript:masterview(2000)',&quot;view last 2000&quot;));
    tabs.appendChild(tnaddlilink('javascript:masterroll()',&quot;{{&quot; + mrollback + &quot;}}&quot;));
      }
}

function masterview(number)
{
    var undefined;
    var c = document.getElementById('contentSub');
    var a = c.getElementsByTagName('a');
    vandal = a[0].href;
   if (vandal.split(&quot;User:&quot;)[1] != undefined)
         {
      vandalb = vandal.split(&quot;User:&quot;)[1];
           if (vandalb.split(&quot;&amp;action=edi&quot;)[1] != undefined)
             {
          vandalc = vandalb.split(&quot;&amp;action=edit&quot;)[0];
          location.href = 'http://en.wikipedia.org/w/index.php?title=Special:Contributions&amp;target=' + vandalc + '&amp;offset=0&amp;limit=' + number;
             }
          else
             {
          location.href = 'http://en.wikipedia.org/w/index.php?title=Special:Contributions&amp;target=' + vandalb + '&amp;offset=0&amp;limit=' + number;
             }
       }
   else if (vandal.split(&quot;User_talk:&quot;)[1] != undefined)
         {
      vandalb = vandal.split(&quot;User_talk:&quot;)[1];
           if (vandalb.split(&quot;&amp;action=edi&quot;)[0] != undefined)
             {
          vandalc = vandalb.split(&quot;&amp;action=edit&quot;)[0];
          location.href = 'http://en.wikipedia.org/w/index.php?title=Special:Contributions&amp;target=' + vandalc + '&amp;offset=0&amp;limit=' + number;
             }
          else
             {
          location.href = 'http://en.wikipedia.org/w/index.php?title=Special:Contributions&amp;target=' + vandalb + '&amp;offset=0&amp;limit=' + number;
             }
       }
}

addOnloadHook(winclosed);

function winclosed()
{
  if (document.title.indexOf('Editing ') == 0)
    {
      var theurl = location.href;
      var action = '';
      var target = '';
      if (location.search)
        {
          var l = location.search.substring(1).split('&amp;');
          for (var i = 0; i &lt; l.length; ++i)
            {
              var eq = l[i].indexOf('=');
              var name = l[i].substring(0, eq);
              if (name == 'fakeaction')
                action = l[i].substring(eq + 1);
              else if (name == 'faketarget')
                target = theurl.split(&quot;&amp;fakeaction=closewin&amp;faketarget=&quot;)[1];
            }
        }
      if (action == 'closewin')
        {
 article = theurl.split(&quot;&amp;action=edit&quot;)[0];
 articlerv = article + &quot;&amp;action=rollback&quot; + target;
 location.href = articlerv;
 setTimeout(&quot;window.close()&quot;,3000); 
 setTimeout(&quot;self.close()&quot;,3500);
        }
    }
}

function masterroll()
{
  var undefined;
  var oldloc = location.href;
  var message = &quot;Are you sure you want to revert all top edits shown on this page by this user? Use this only to revert a large wave of vandalism by a single user or IP address.&quot; + &quot;\n&quot; + &quot;To control how many edits this will revert, please set the number of articles on the list before performing this operation. You may also want to change the offset as well.&quot; + &quot;\n&quot; + &quot;Close all other programs if there is a large number of edits to be reverted, otherwise, this may cause memory problems. Press OK to continue.&quot;;
  var return_value = confirm(message);
  if (return_value == true)
   {
    var password = prompt(&quot;Secondary confirmation:&quot; + &quot;\n&quot; + &quot;All top edits by this user will be reverted!&quot; + &quot;\n&quot; + &quot;Enter the confirmation code to continue.&quot;);
     if (password == 'ERollen2')
      {
    var c = document.getElementById('contentSub');
    var a = c.getElementsByTagName('a');
    l = document.getElementById('bodyContent').getElementsByTagName('li');
    alert(&quot;All of the user's top edits are being reverted. This page will be refreshed automatically in 5 seconds.&quot;);
    if (a.length == 2) {
      vandal = a[0].innerHTML;}
    else {
      vandal = c.innerHTML.replace(/ \(.*/, '').replace(/.* /, '');}
    for (i = 0; i &lt; l.length; i++) 
      {
      var t = l[i].innerHTML;
      if (t.indexOf('&lt;strong&gt; (') != -1)
         {
        var article = l[i].getElementsByTagName('a')[0].href.split('&amp;')[0].replace(/[^\/]*\/\/[^\/]*/, '');
        if (l[i].getElementsByTagName('a')[3].href.split('&amp;action=rollback')[1] != undefined)
          {
var withtoken = l[i].getElementsByTagName('a')[3].href.split('&amp;action=rollback')[1].replace(/[^\/]*\/\/[^\/]*/, '');
l[i].innerHTML += ' (&lt;a href=&quot;' + article + '&quot;&gt;' + vrollbacklink + '&lt;/a&gt;)';
rv_window = window.open(article + &quot;&amp;action=edit&amp;fakeaction=closewin&amp;faketarget=&quot; + withtoken,
              'Masterroll' + article,
              'status,toolbar,location,menubar,directories,resizeable,scrollbars');
          }
        else if (l[i].getElementsByTagName('a')[4].href.split('&amp;action=rollback')[1] != undefined)
          {
var withtoken = l[i].getElementsByTagName('a')[4].href.split('&amp;action=rollback')[1].replace(/[^\/]*\/\/[^\/]*/, '');
l[i].innerHTML += ' (&lt;a href=&quot;' + article + '&quot;&gt;' + vrollbacklink + '&lt;/a&gt;)';
rv_window = window.open(article + &quot;&amp;action=edit&amp;fakeaction=closewin&amp;faketarget=&quot; + withtoken,
              'Masterroll' + article,
              'status,toolbar,location,menubar,directories,resizeable,scrollbars');
          }
        else if (l[i].getElementsByTagName('a')[5].href.split('&amp;action=rollback')[1] != undefined)
          {
var withtoken = l[i].getElementsByTagName('a')[5].href.split('&amp;action=rollback')[1].replace(/[^\/]*\/\/[^\/]*/, '');
l[i].innerHTML += ' (&lt;a href=&quot;' + article + '&quot;&gt;' + vrollbacklink + '&lt;/a&gt;)';
rv_window = window.open(article + &quot;&amp;action=edit&amp;fakeaction=closewin&amp;faketarget=&quot; + withtoken,
              'Masterroll' + article,
              'status,toolbar,location,menubar,directories,resizeable,scrollbars');
          }
        else if (l[i].getElementsByTagName('a')[6].href.split('&amp;action=rollback')[1] != undefined)
          {
var withtoken = l[i].getElementsByTagName('a')[6].href.split('&amp;action=rollback')[1].replace(/[^\/]*\/\/[^\/]*/, '');
l[i].innerHTML += ' (&lt;a href=&quot;' + article + '&quot;&gt;' + vrollbacklink + '&lt;/a&gt;)';
rv_window = window.open(article + &quot;&amp;action=edit&amp;fakeaction=closewin&amp;faketarget=&quot; + withtoken,
              'Masterroll' + article,
              'status,toolbar,location,menubar,directories,resizeable,scrollbars');
          }
        else if (l[i].getElementsByTagName('a')[7].href.split('&amp;action=rollback')[1] != undefined)
          {
var withtoken = l[i].getElementsByTagName('a')[7].href.split('&amp;action=rollback')[1].replace(/[^\/]*\/\/[^\/]*/, '');
l[i].innerHTML += ' (&lt;a href=&quot;' + article + '&quot;&gt;' + vrollbacklink + '&lt;/a&gt;)';
rv_window = window.open(article + &quot;&amp;action=edit&amp;fakeaction=closewin&amp;faketarget=&quot; + withtoken,
              'Masterroll' + article,
              'status,toolbar,location,menubar,directories,resizeable,scrollbars');
          }
        else if (l[i].getElementsByTagName('a')[8].href.split('&amp;action=rollback')[1] != undefined)
          {
var withtoken = l[i].getElementsByTagName('a')[8].href.split('&amp;action=rollback')[1].replace(/[^\/]*\/\/[^\/]*/, '');
l[i].innerHTML += ' (&lt;a href=&quot;' + article + '&quot;&gt;' + vrollbacklink + '&lt;/a&gt;)';
rv_window = window.open(article + &quot;&amp;action=edit&amp;fakeaction=closewin&amp;faketarget=&quot; + withtoken,
              'Masterroll' + article,
              'status,toolbar,location,menubar,directories,resizeable,scrollbars');
          }
        else if (l[i].getElementsByTagName('a')[9].href.split('&amp;action=rollback')[1] != undefined)
          {
var withtoken = l[i].getElementsByTagName('a')[9].href.split('&amp;action=rollback')[1].replace(/[^\/]*\/\/[^\/]*/, '');
l[i].innerHTML += ' (&lt;a href=&quot;' + article + '&quot;&gt;' + vrollbacklink + '&lt;/a&gt;)';
rv_window = window.open(article + &quot;&amp;action=edit&amp;fakeaction=closewin&amp;faketarget=&quot; + withtoken,
              'Masterroll' + article,
              'status,toolbar,location,menubar,directories,resizeable,scrollbars');
          }
        else
          {
         alert(&quot;An error has occured. This may be because you are not a sysop on this wiki.&quot;);
         return;
          }
        }
      }
  }
        else
          {
         alert(&quot;Operation aborted.&quot;);
         return;
          }
 }
        else
          {
         alert(&quot;Operation aborted.&quot;);
         return;
          }
setTimeout(&quot;window.location.reload()&quot;,5000);
}

function changelinks() {
    if(!document.getElementById) return;
    document.getElementById('pt-mytalk').firstChild.innerHTML = 'my Talk page';
    document.getElementById('pt-preferences').firstChild.innerHTML = 'Change Preferences';
    document.getElementById('pt-watchlist').firstChild.innerHTML = 'Check my Watchlist';
    document.getElementById('pt-mycontris').firstChild.innerHTML = 'My Contributions';
    document.getElementById('pt-logout').firstChild.innerHTML = 'Log out';
}
function addtoolboxlinks() {
    var tb = document.getElementById('p-tb').getElementsByTagName('ul')[0];
    addlilink(tb, '/wiki/Special:Newpages', 'New pages', '');
    addlilink(tb, '/wiki/Category:Candidates_for_speedy_deletion', 'Speedy deletions', '');
    addlilink(tb, '/wiki/Wikipedia:Administrator_intervention_against_vandalism', 'Vandalism', '');
    addlilink(tb, '/wiki/WP:RfPP', 'Protection requests', '');
    addlilink(tb, '/wiki/WP:PP', 'Protected pages', '');
    addlilink(tb, '/wiki/Wikipedia:Administrators%27_noticeboard', 'Noticeboard', '');
    addlilink(tb, '/wiki/Wikipedia:Administrators%27_noticeboard/3RR', '3RR violations', '');
}
//&lt;/pre&gt;
// -----------------------------------------------------------------------------
// POV rollback
// -----------------------------------------------------------------------------
var nrollbacklink = '&lt;span style=&quot;color:black;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color:darkblue;&quot;&gt;revert (P.O.V.)&lt;/span&gt;&lt;span style=&quot;color:black;&quot;&gt;]&lt;/span&gt; ' + '|&lt;/strong&gt; ';
var cantrollback = 'Cannot revert edit; last contributor is only author of this page.';
var alreadyrolled = 'Cannot rollback last edit of [[$1]] by [[User:$2|$2]] ([[User talk:$2|Talk]]); someone else has edited or rolled back the page already. Last edit was by [[User:$3|$3]] ([[User talk:$3|Talk]]). ';
var nreverted = 'Reverted unencyclopedic edits by [[Special:Contributions/$2|$2]]. Do not be discouraged, just be sure read [[WP:NPOV]] and [[WP:NOR]] before contributing. Thanks! ';

// -----------------------------------------------------------------------------
// Our nice Revert functions
// -----------------------------------------------------------------------------
var gml_vandal, gml_editor, gml_url;

function Revertnorm() {
  var l, token = '', normrevert = false;
  // Look for '&amp;fakeaction=nrollback' in URL
  gml_url = location.pathname;
  l = location.search.substring(1).split('&amp;');
  for (i = 0; i &lt; l.length; i++) {
    var n = l[i].indexOf('=');
    var name = l[i].substring(0, n);
    if (name == 'fakeaction') {
      if (l[i].substring(n + 1) == 'normalrevert')
        normrevert = true;
    } else if (name == 'user') {
      gml_vandal = unescape(l[i].substring(n + 1));
    } else if (name == 'token') {
      token = unescape(l[i].substring(n + 1));
    } else if (name == 'title') {
      gml_url += '?' + l[i];
    }
  }
  if (!normrevert)
    return;
  document.getElementById('bodyContent').innerHTML = '&lt;strong&gt;Please wait, reverting &quot;POV&quot; edits by ' + gml_vandal + '...&lt;/strong&gt;';
  // Avoid XSS kiddies by using a special token
  if (token == '' || token != hex_md5(gml_url + gml_vandal + document.cookie)) {
    document.getElementById('bodyContent').innerHTML += '&lt;br /&gt;Bad authentication token!';
    return;
  }

  gml_xmlhttp = HTTPClient();
  if (!gml_xmlhttp)
    return;
  history_url = gml_url + '&amp;action=history&amp;limit=50';
  document.getElementById('bodyContent').innerHTML += '&lt;br /&gt;&lt;span style=&quot;color:blue;&quot;&gt;Getting article history (' + history_url + ')...&lt;/span&gt;';
  gml_xmlhttp.open(&quot;GET&quot;, history_url, true);
  gml_xmlhttp.onreadystatechange = RevertStepTwonorm;
  gml_xmlhttp.send(null);
}

function RevertStepTwonorm() {
  if (gml_xmlhttp.readyState != 4)
    return;
  var l;
  var oldid;
  // Get the vandal and new editor names
  gml_vandal = gml_vandal.replace(/_/g, ' ');
  gml_editor = '';
  // Hack for a MediaWiki bug [[Category:RC scripted users]]
  xml = gml_xmlhttp.responseText.replace(/&lt;body.*&quot;ns-4&quot;&gt;/, '&lt;body class=&quot;ns-4&quot;&gt;');
  doc = gml_XMLParse(xml);
  if (!doc || !doc.getElementById('pagehistory')) {
    document.getElementById('bodyContent').innerHTML += '&lt;br /&gt;Failed to parse XML data returned by the server.';
    document.getElementById('bodyContent').innerHTML += '&lt;br /&gt;&lt;b&gt;Hint: try to disable both &quot;Enable section editing by right-clicking on section titles (JavaScript)&quot; and &quot;Edit pages on double click (JavaScript)&quot; in your editing preferences until a proper fix is found&lt;/b&gt;.';
    document.getElementById('bodyContent').innerHTML += '&lt;br /&gt;Dump of the unparseable page : &lt;br /&gt;' + xml.replace(/&amp;/g, '&amp;amp;').replace(/&lt;/g, '&amp;lt;').replace(/&gt;/g, '&amp;gt;');
    return;
  }
  l = doc.getElementById('pagehistory').getElementsByTagName('li');
  //l = doc.selectSingleNode('//*[@id=&quot;pagehistory&quot;]').getElementsByTagName('li');
  for (i = 0; i &lt; l.length; i++) {
    var name = l[i].getElementsByTagName('span')[0].getElementsByTagName('a')[0].innerHTML.replace(/_/g, ' ');
    if (i == 0 &amp;&amp; name != gml_vandal) {
      document.getElementById('bodyContent').innerHTML += '&lt;br /&gt;Error: Last editor is ' + name + ', not ' + gml_vandal + '!';
      return;
    } else if (i &gt; 0 &amp;&amp; name != gml_vandal) {
      oldid = l[i].getElementsByTagName('input')[0].value;
      gml_editor = name;
      break;
    }
  }
  if (gml_editor == '') {
    document.getElementById('bodyContent').innerHTML += '&lt;br /&gt;Error: ' + gml_vandal + ' is the only editor!';
    return;
  }

  gml_xmlhttp = HTTPClient();
  if (!gml_xmlhttp)
    return;
  document.getElementById('bodyContent').innerHTML += '&lt;br /&gt;&lt;span style=&quot;color:blue;&quot;&gt;Getting article edit form (GET' + gml_url + '&amp;action=edit&amp;oldid=' + oldid + ')...&lt;/span&gt;';
  gml_xmlhttp.open('GET', gml_url + '&amp;action=edit&amp;oldid=' + oldid, true);
  gml_xmlhttp.onreadystatechange = RevertStepThreenorm;
  gml_xmlhttp.send(null);
}

function RevertStepThreenorm() {
  if (gml_xmlhttp.readyState != 4)
    return
  var form, newform, l;
  // Insert the downloaded form in our current page, using
  // only hidden form inputs.
  doc = gml_XMLParse(gml_xmlhttp.responseText);
  form = doc.getElementById('editform');
  newform = document.createElement('form');
  l = form.getElementsByTagName('textarea');
  for (i = l.length; i--; ) {
    var t = document.createElement('input');
    t.type = 'hidden';
    t.name = l[i].name;
    t.value = l[i].value;
    newform.appendChild(t);
  }
  l = form.getElementsByTagName('input');
  for (i = l.length; i--; ) {
    if (l[i].name == 'wpSummary') {
      l[i].value = nreverted.replace(/\$1/g, gml_editor).replace(/\$2/g, gml_vandal);
    } else if (l[i].name == 'wpMinoredit') {
      l[i].value = '1';
    } else if (l[i].name == 'wpWatchthis') {
      if (!l[i].checked)
        continue; // Donâ€™t touch the &quot;watch&quot; status
      l[i].value = &quot;on&quot;;
    } else if (l[i].name == 'wpPreview') {
      continue;
    } else if (l[i].name == 'wpDiff') {
      continue;
    }
    l[i].type = 'hidden';
    newform.appendChild(l[i]);
  }
  newform.name = form.name;
  newform.method = form.method;
  newform.id = form.id;
  newform.action = form.action;
  document.getElementById('bodyContent').innerHTML += '&lt;br /&gt;&lt;strong&gt;Submitting form...&lt;/strong&gt;';
  document.getElementById('bodyContent').appendChild(newform);
  // Submit the form
  newform.submit();
}

// -----------------------------------------------------------------------------
// Modify the page once it is loaded
// -----------------------------------------------------------------------------
if (window.addEventListener) {
  window.addEventListener(&quot;load&quot;, PerformRevert, false);
//window.addEventListener(&quot;load&quot;, AddRevertButtons, false);
  window.addEventListener(&quot;load&quot;, Revertnorm, false);
  window.addEventListener(&quot;load&quot;, AddRevertButtonsnorm, false); }
else if (window.attachEvent) {
  window.attachEvent(&quot;onload&quot;, PerformRevert);
//window.attachEvent(&quot;onload&quot;, AddRevertButtons);
  window.attachEvent(&quot;onload&quot;, Revertnorm);
  window.attachEvent(&quot;onload&quot;, AddRevertButtonsnorm);
}

// -----------------------------------------------------------------------------
// Vandal rollback
// -----------------------------------------------------------------------------
var vrollbacklink = '&lt;span style=&quot;color:red;&quot;&gt;reverting...&lt;/span&gt;';
var rollbacklink = '|' + ' &lt;span style=&quot;color:black;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color:red;&quot;&gt;revert (vandal)&lt;/span&gt;&lt;span style=&quot;color:black;&quot;&gt;]&lt;/span&gt;&lt;br&gt;&lt;/strong&gt; ';
var cantrollback = 'Cannot revert edit; last contributor is only author of this page.';
var alreadyrolled = 'Cannot rollback last edit of [[$1]] by [[User:$2|$2]] ([[User talk:$2|Talk]]); someone else has edited or rolled back the page already. Last edit was by [[User:$3|$3]] ([[User talk:$3|Talk]]). ';
var revertpage = 'Reverted [[Wikipedia:Vandalism|vandalism]] by [[Special:Contributions/$2|$2]] to last version by $1. If you continue to compromise the integrity of pages you will be [[WP:BLOCK|blocked]] from editing.';

// -----------------------------------------------------------------------------
// XMLHttpRequest support
// -----------------------------------------------------------------------------
if (document.implementation.createDocument) {
  var gml_xmlparser = new DOMParser();
}

function gml_XMLParse(string) {
  if (document.implementation.createDocument) {
    return gml_xmlparser.parseFromString(string, &quot;text/xml&quot;);
  } else if (window.ActiveXObject) {
    var gml_xmldoc = new ActiveXObject(&quot;Microsoft.XMLDOM&quot;);
    gml_xmldoc.async = &quot;false&quot;;
    ret = gml_xmldoc.loadXML(string);      
    if (!ret)
      return null;
    return gml_xmldoc.documentElement;
  }
  return null;
}

var gml_xmlhttp;

function HTTPClient() {
  var gml_http;
  if(window.XMLHttpRequest) {
    gml_http = new XMLHttpRequest();
  } else if (window.ActiveXObject) {
    try {
      gml_http = new ActiveXObject(&quot;Msxml2.XMLHTTP&quot;);
    } catch (e) {
      try {
        gml_http = new ActiveXObject(&quot;Microsoft.XMLHTTP&quot;);
      } catch (E) {
        gml_http = false;
      }
    }
  }
  return gml_http;
}

// -----------------------------------------------------------------------------
// MD5 hash calculator
// -----------------------------------------------------------------------------
// Version 2.1 Copyright (C) Paul Johnston 1999 - 2002.
// Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet
// Distributed under the BSD License
// See http://pajhome.org.uk/crypt/md5 for more info.
// -----------------------------------------------------------------------------
var hexcase = 0;
var b64pad  = &quot;&quot;;
var chrsz   = 8;

function hex_md5(s){ return binl2hex(core_md5(str2binl(s), s.length * chrsz));}

function core_md5(x, len)
{
  x[len &gt;&gt; 5] |= 0x80 &lt;&lt; ((len) % 32);
  x[(((len + 64) &gt;&gt;&gt; 9) &lt;&lt; 4) + 14] = len;

  var a =  1732584193;
  var b = -271733879;
  var c = -1732584194;
  var d =  271733878;

  for(var i = 0; i &lt; x.length; i += 16)
  {
    var olda = a;
    var oldb = b;
    var oldc = c;
    var oldd = d;

    a = md5_ff(a, b, c, d, x[i+ 0], 7 , -680876936); d = md5_ff(d, a, b, c, x[i+ 1], 12, -389564586); c = md5_ff(c, d, a, b, x[i+ 2], 17,  606105819); b = md5_ff(b, c, d, a, x[i+ 3], 22, -1044525330); a = md5_ff(a, b, c, d, x[i+ 4], 7 , -176418897); d = md5_ff(d, a, b, c, x[i+ 5], 12,  1200080426); c = md5_ff(c, d, a, b, x[i+ 6], 17, -1473231341); b = md5_ff(b, c, d, a, x[i+ 7], 22, -45705983); a = md5_ff(a, b, c, d, x[i+ 8], 7 ,  1770035416); d = md5_ff(d, a, b, c, x[i+ 9], 12, -1958414417); c = md5_ff(c, d, a, b, x[i+10], 17, -42063); b = md5_ff(b, c, d, a, x[i+11], 22, -1990404162); a = md5_ff(a, b, c, d, x[i+12], 7 ,  1804603682); d = md5_ff(d, a, b, c, x[i+13], 12, -40341101); c = md5_ff(c, d, a, b, x[i+14], 17, -1502002290); b = md5_ff(b, c, d, a, x[i+15], 22,  1236535329);

    a = md5_gg(a, b, c, d, x[i+ 1], 5 , -165796510); d = md5_gg(d, a, b, c, x[i+ 6], 9 , -1069501632); c = md5_gg(c, d, a, b, x[i+11], 14,  643717713); b = md5_gg(b, c, d, a, x[i+ 0], 20, -373897302); a = md5_gg(a, b, c, d, x[i+ 5], 5 , -701558691); d = md5_gg(d, a, b, c, x[i+10], 9 ,  38016083); c = md5_gg(c, d, a, b, x[i+15], 14, -660478335); b = md5_gg(b, c, d, a, x[i+ 4], 20, -405537848); a = md5_gg(a, b, c, d, x[i+ 9], 5 ,  568446438); d = md5_gg(d, a, b, c, x[i+14], 9 , -1019803690); c = md5_gg(c, d, a, b, x[i+ 3], 14, -187363961); b = md5_gg(b, c, d, a, x[i+ 8], 20,  1163531501); a = md5_gg(a, b, c, d, x[i+13], 5 , -1444681467); d = md5_gg(d, a, b, c, x[i+ 2], 9 , -51403784); c = md5_gg(c, d, a, b, x[i+ 7], 14,  1735328473); b = md5_gg(b, c, d, a, x[i+12], 20, -1926607734);

    a = md5_hh(a, b, c, d, x[i+ 5], 4 , -378558); d = md5_hh(d, a, b, c, x[i+ 8], 11, -2022574463); c = md5_hh(c, d, a, b, x[i+11], 16,  1839030562); b = md5_hh(b, c, d, a, x[i+14], 23, -35309556); a = md5_hh(a, b, c, d, x[i+ 1], 4 , -1530992060); d = md5_hh(d, a, b, c, x[i+ 4], 11,  1272893353); c = md5_hh(c, d, a, b, x[i+ 7], 16, -155497632); b = md5_hh(b, c, d, a, x[i+10], 23, -1094730640); a = md5_hh(a, b, c, d, x[i+13], 4 ,  681279174); d = md5_hh(d, a, b, c, x[i+ 0], 11, -358537222); c = md5_hh(c, d, a, b, x[i+ 3], 16, -722521979); b = md5_hh(b, c, d, a, x[i+ 6], 23,  76029189); a = md5_hh(a, b, c, d, x[i+ 9], 4 , -640364487); d = md5_hh(d, a, b, c, x[i+12], 11, -421815835); c = md5_hh(c, d, a, b, x[i+15], 16,  530742520); b = md5_hh(b, c, d, a, x[i+ 2], 23, -995338651);

    a = md5_ii(a, b, c, d, x[i+ 0], 6 , -198630844); d = md5_ii(d, a, b, c, x[i+ 7], 10,  1126891415); c = md5_ii(c, d, a, b, x[i+14], 15, -1416354905); b = md5_ii(b, c, d, a, x[i+ 5], 21, -57434055); a = md5_ii(a, b, c, d, x[i+12], 6 ,  1700485571); d = md5_ii(d, a, b, c, x[i+ 3], 10, -1894986606); c = md5_ii(c, d, a, b, x[i+10], 15, -1051523); b = md5_ii(b, c, d, a, x[i+ 1], 21, -2054922799); a = md5_ii(a, b, c, d, x[i+ 8], 6 ,  1873313359); d = md5_ii(d, a, b, c, x[i+15], 10, -30611744); c = md5_ii(c, d, a, b, x[i+ 6], 15, -1560198380); b = md5_ii(b, c, d, a, x[i+13], 21,  1309151649); a = md5_ii(a, b, c, d, x[i+ 4], 6 , -145523070); d = md5_ii(d, a, b, c, x[i+11], 10, -1120210379); c = md5_ii(c, d, a, b, x[i+ 2], 15,  718787259); b = md5_ii(b, c, d, a, x[i+ 9], 21, -343485551);

    a = safe_add(a, olda);
    b = safe_add(b, oldb);
    c = safe_add(c, oldc);
    d = safe_add(d, oldd);
  }
  return Array(a, b, c, d);

}

function md5_cmn(q, a, b, x, s, t) { return safe_add(bit_rol(safe_add(safe_add(a, q), safe_add(x, t)), s),b); }
function md5_ff(a, b, c, d, x, s, t) { return md5_cmn((b &amp; c) | ((~b) &amp; d), a, b, x, s, t); }
function md5_gg(a, b, c, d, x, s, t) { return md5_cmn((b &amp; d) | (c &amp; (~d)), a, b, x, s, t); }
function md5_hh(a, b, c, d, x, s, t) { return md5_cmn(b ^ c ^ d, a, b, x, s, t); }
function md5_ii(a, b, c, d, x, s, t) { return md5_cmn(c ^ (b | (~d)), a, b, x, s, t); }

function safe_add(x, y)
{
  var lsw = (x &amp; 0xFFFF) + (y &amp; 0xFFFF);
  var msw = (x &gt;&gt; 16) + (y &gt;&gt; 16) + (lsw &gt;&gt; 16);
  return (msw &lt;&lt; 16) | (lsw &amp; 0xFFFF);
}

function bit_rol(num, cnt)
{
  return (num &lt;&lt; cnt) | (num &gt;&gt;&gt; (32 - cnt));
}

function str2binl(str)
{
  var bin = Array();
  var mask = (1 &lt;&lt; chrsz) - 1;
  for(var i = 0; i &lt; str.length * chrsz; i += chrsz)
    bin[i&gt;&gt;5] |= (str.charCodeAt(i / chrsz) &amp; mask) &lt;&lt; (i%32);
  return bin;
}

function binl2hex(binarray)
{
  var hex_tab = hexcase ? &quot;0123456789ABCDEF&quot; : &quot;0123456789abcdef&quot;;
  var str = &quot;&quot;;
  for(var i = 0; i &lt; binarray.length * 4; i++)
  {
    str += hex_tab.charAt((binarray[i&gt;&gt;2] &gt;&gt; ((i%4)*8+4)) &amp; 0xF) +
           hex_tab.charAt((binarray[i&gt;&gt;2] &gt;&gt; ((i%4)*8  )) &amp; 0xF);
  }
  return str;
}
// -----------------------------------------------------------------------------
// Add revert buttons to the page (vandal rollback)
// -----------------------------------------------------------------------------
function AddRevertButtonsnorm() {
  var l, article = '', vandal;
 // Add 'revert' links to a diff page [[Category:VoA scripted admins]]
  l = document.getElementById('bodyContent').getElementsByTagName('td');
  for (i = 0; i &lt; l.length; i++) {
    if (l[i].className == 'diff-otitle') {
      article = l[i].getElementsByTagName('a')[0].href.split('&amp;')[0].replace(/[^\/]*\/\/[^\/]*/, '');
    } else if (l[i].className == 'diff-ntitle') {
      var toplink = l[i].getElementsByTagName('a')[0].href;
      vandalip = l[i].getElementsByTagName('a')[1].href.split(':')[2].split('=')[1];
      vandal = l[i].getElementsByTagName('a')[1].href.split(':')[2].split('&amp;')[0];
      var t = l[i].innerHTML
      n = t.indexOf('&lt;/a&gt;) &lt;br') + t.indexOf('&lt;/A&gt;) &lt;BR') + 1; // XXX: WOW HACK!!!!
      if (article != '' &amp;&amp; toplink.indexOf('oldid=') == -1) {
        if (vandal == 'Contributions')
         {
        l[i].innerHTML = t.substring(0, n + 5) + ' &amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;strong&gt;&lt;a href=&quot;' + article + '&amp;fakeaction=normalrevert&amp;user=' + vandalip + '&amp;token=' + hex_md5(article + vandalip + document.cookie) + '&quot;&gt;' + nrollbacklink + '&lt;/a&gt;&lt;str ' + ' &lt;strong&gt;&lt;a href=&quot;' + article + '&amp;fakeaction=rollback&amp;vandal=' + vandalip + '&amp;token=' + hex_md5(article + vandalip + document.cookie) + '&quot;&gt;' + rollbacklink + '&lt;/a&gt;&lt;str ' + t.substring(n + 5, t.length);
         }
        else 
         {
        l[i].innerHTML = t.substring(0, n + 5) + ' &amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;strong&gt;&lt;a href=&quot;' + article + '&amp;fakeaction=normalrevert&amp;user=' + vandal + '&amp;token=' + hex_md5(article + vandal + document.cookie) + '&quot;&gt;' + nrollbacklink + '&lt;/a&gt;&lt;str ' + ' &lt;strong&gt;&lt;a href=&quot;' + article + '&amp;fakeaction=rollback&amp;vandal=' + vandal + '&amp;token=' + hex_md5(article + vandal + document.cookie) + '&quot;&gt;' + rollbacklink + '&lt;/a&gt;&lt;str ' + t.substring(n + 5, t.length);
         }
      }
    }
  }
}
// -----------------------------------------------------------------------------
// Our nice Revert functions
// -----------------------------------------------------------------------------
var gml_vandal, gml_editor, gml_url;

function PerformRevert() {
  var l, token = '', revert = false;
  // Look for '&amp;fakeaction=rollback' in URL
  gml_url = location.pathname;
  l = location.search.substring(1).split('&amp;');
  for (i = 0; i &lt; l.length; i++) {
    var n = l[i].indexOf('=');
    var name = l[i].substring(0, n);
    if (name == 'fakeaction') {
      if (l[i].substring(n + 1) == 'rollback')
        revert = true;
    } else if (name == 'vandal') {
      gml_vandal = unescape(l[i].substring(n + 1));
    } else if (name == 'token') {
      token = unescape(l[i].substring(n + 1));
    } else if (name == 'title') {
      gml_url += '?' + l[i];
    }
  }
  if (!revert)
    return;
  document.getElementById('bodyContent').innerHTML = '&lt;strong&gt;Please wait, reverting &quot;vandal&quot; edits by ' + gml_vandal + '...&lt;/strong&gt;';
  // Avoid XSS kiddies by using a special token
  if (token == '' || token != hex_md5(gml_url + gml_vandal + document.cookie)) {
    document.getElementById('bodyContent').innerHTML += '&lt;br /&gt;Error&lt;span style=&quot;color:red;&quot;&gt;Bad authentication token&lt;/font&gt;';
    return;
  }

  gml_xmlhttp = HTTPClient();
  if (!gml_xmlhttp)
    return;
  history_url = gml_url + '&amp;action=history&amp;limit=50';
  document.getElementById('bodyContent').innerHTML += '&lt;br /&gt;&lt;span style=&quot;color:blue;&quot;&gt;Getting article history (' + history_url + ')...&lt;/span&gt;';
  gml_xmlhttp.open(&quot;GET&quot;, history_url, true);
  gml_xmlhttp.onreadystatechange = RevertStepTwo;
  gml_xmlhttp.send(null);
}

function RevertStepTwo() {
  if (gml_xmlhttp.readyState != 4)
    return;
  var l;
  var oldid;
  // Get the vandal and new editor names
  gml_vandal = gml_vandal.replace(/_/g, ' ');
  gml_editor = '';
  // Hack for a MediaWiki bug
  xml = gml_xmlhttp.responseText.replace(/&lt;body.*&quot;ns-4&quot;&gt;/, '&lt;body class=&quot;ns-4&quot;&gt;');
  doc = gml_XMLParse(xml);
  if (!doc || !doc.getElementById('pagehistory')) {
    document.getElementById('bodyContent').innerHTML += '&lt;br /&gt;Failed to parse XML data returned by the server.';
    document.getElementById('bodyContent').innerHTML += '&lt;br /&gt;&lt;b&gt;Hint: try to disable both &quot;Enable section editing by right-clicking on section titles (JavaScript)&quot; and &quot;Edit pages on double click (JavaScript)&quot; in your editing preferences until a proper fix is found&lt;/b&gt;.';
    document.getElementById('bodyContent').innerHTML += '&lt;br /&gt;Dump of the unparseable page : &lt;br /&gt;' + xml.replace(/&amp;/g, '&amp;amp;').replace(/&lt;/g, '&amp;lt;').replace(/&gt;/g, '&amp;gt;');
    return;
  }
  l = doc.getElementById('pagehistory').getElementsByTagName('li');
  //l = doc.selectSingleNode('//*[@id=&quot;pagehistory&quot;]').getElementsByTagName('li');
  for (i = 0; i &lt; l.length; i++) {
    var name = l[i].getElementsByTagName('span')[0].getElementsByTagName('a')[0].innerHTML.replace(/_/g, ' ');
    if (i == 0 &amp;&amp; name != gml_vandal) {
      document.getElementById('bodyContent').innerHTML += '&lt;br /&gt;Error: Last editor is ' + name + ', not ' + gml_vandal + '. The vandal may have already been reverted.';
      return;
    } else if (i &gt; 0 &amp;&amp; name != gml_vandal) {
      oldid = l[i].getElementsByTagName('input')[0].value;
      gml_editor = name;
      break;
    }
  }
  if (gml_editor == '') {
    document.getElementById('bodyContent').innerHTML += '&lt;br /&gt;Error: ' + gml_vandal + ' is the only editor!';
    return;
  }

  gml_xmlhttp = HTTPClient();
  if (!gml_xmlhttp)
    return;
  document.getElementById('bodyContent').innerHTML += '&lt;br /&gt;&lt;span style=&quot;color:blue;&quot;&gt;Getting article edit form (GET' + gml_url + '&amp;action=edit&amp;oldid=' + oldid + ')...&lt;/span&gt;';
  gml_xmlhttp.open('GET', gml_url + '&amp;action=edit&amp;oldid=' + oldid, true);
  gml_xmlhttp.onreadystatechange = RevertStepThree;
  gml_xmlhttp.send(null);
}

function RevertStepThree() {
  if (gml_xmlhttp.readyState != 4)
    return
  var form, newform, l;
  // Insert the downloaded form in our current page, using
  // only hidden form inputs.
  doc = gml_XMLParse(gml_xmlhttp.responseText);
  form = doc.getElementById('editform');
  newform = document.createElement('form');
  l = form.getElementsByTagName('textarea');
  for (i = l.length; i--; ) {
    var t = document.createElement('input');
    t.type = 'hidden';
    t.name = l[i].name;
    t.value = l[i].value;
    newform.appendChild(t);
  }
  l = form.getElementsByTagName('input');
  for (i = l.length; i--; ) {
    if (l[i].name == 'wpSummary') {
      l[i].value = revertpage.replace(/\$1/g, gml_editor).replace(/\$2/g, gml_vandal);
    } else if (l[i].name == 'wpMinoredit') {
      l[i].value = '1';
    } else if (l[i].name == 'wpWatchthis') {
      if (!l[i].checked)
        continue; // Donâ€™t touch the &quot;watch&quot; status
      l[i].value = &quot;on&quot;;
    } else if (l[i].name == 'wpPreview') {
      continue;
    } else if (l[i].name == 'wpDiff') {
      continue;
    }
    l[i].type = 'hidden';
    newform.appendChild(l[i]);
  }
  newform.name = form.name;
  newform.method = form.method;
  newform.id = form.id;
  newform.action = form.action;
  document.getElementById('bodyContent').innerHTML += '&lt;br /&gt;&lt;strong&gt;Submitting form...&lt;/strong&gt;';
  document.getElementById('bodyContent').appendChild(newform);
  // Submit the form
  newform.submit();
  window.open('http://en.wikipedia.org/w/index.php?title=User talk:' + gml_vandal + '&amp;action=edit',
              'targetname',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
}

//Auto AFD Lister--------------
// This needs to change depending on skin used. 
function add_link(url, name)
{
  var na = document.createElement('a');
  na.setAttribute('href', url);
  na.appendChild(document.createTextNode(name));

  var li = document.createElement('li');
  li.appendChild(na);

  var tabs = document.getElementById('p-cactions').getElementsByTagName('ul')[0];
  tabs.appendChild(li);
}

function strip_namespace(target)
{
  var colon = target.indexOf(':');
  if (colon != -1)
    {
      var spaces = new Array('User', 'Wikipedia', 'Image', 'MediaWiki', 'Template', 'Help', 'Category');
      var ns = target.substring(0, colon);
      if (ns == '' || ns == 'Talk')
        return target.substring(colon + 1);
      else
        for (var i = 0; i &lt; spaces.length; ++i)
          {
            if (ns == spaces[i]
                || ns == spaces[i] + '_talk')
              return target.substring(colon + 1);
          }
    }

  return target;
}

function vfd()
{
  document.editform.wpTextbox1.value = '{{' + 'subst:afd}}\n' + document.editform.wpTextbox1.value;
  document.editform.wpSummary.value = 'afd';

  var target = document.editform.action;
  target = target.substring(target.indexOf('title=') + 6,
                            target.lastIndexOf('&amp;action=submit'));

  var months = new Array('January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December');
  var date = new Date();
  date = date.getUTCFullYear() + '_' + months[date.getUTCMonth()] + '_' + date.getUTCDate();

  var pagename = strip_namespace(target);

  window.open('/w/index.php?title=Wikipedia:Articles_for_deletion/' + pagename + '&amp;action=edit&amp;fakeaction=vfdsub&amp;faketarget=' + target,
              'Afd ' + unescape(target),
              'status,toolbar,location,menubar,directories,resizeable,scrollbars');
  window.open('/w/index.php?title=Wikipedia:Articles_for_deletion/Log/' + date + '&amp;action=edit&amp;fakeaction=vfdlist&amp;faketarget=' + pagename,
              'AfdLog ' + unescape(target),
              'status,toolbar,location,menubar,directories,resizeable,scrollbars');
}

function autovfd()
{
  if (document.title.indexOf('Editing ') == 0)
    {
      var action = '';
      var target = '';
      if (location.search)
        {
          var l = location.search.substring(1).split('&amp;');
          for (var i = 0; i &lt; l.length; ++i)
            {
              var eq = l[i].indexOf('=');
              var name = l[i].substring(0, eq);
              if (name == 'fakeaction')
                action = l[i].substring(eq + 1);
              else if (name == 'faketarget')
                target = unescape(l[i].substring(eq + 1)).replace(/_/g, ' ');
            }
        }

      if (action == 'vfdlist')
        {
          document.editform.wpTextbox1.value += '{{' + 'Wikipedia:Articles for deletion/' + target + '}}\n';
          document.editform.wpSummary.value = '[[Wikipedia:Articles for deletion/' + target + ']]';
        }
      else if (action == 'vfdsub')
        {
          if (document.editform.wpTextbox1.value.length &gt; 0)
            {
              target = document.editform.action;
              target = unescape(target.substring(target.indexOf('title=') + 6, target.lastIndexOf('&amp;action=submit'))).replace(/_/g, ' ');
              window.alert(&quot;There's an old afd at the default location already.\n\n&quot; +
                           'Please either move it out of the way (and update existing links to it), or file the afd by hand in another location (such as [[' + target + ' (2)]]).');
            }
          else
            document.editform.wpTextbox1.value += '===[[' + target + ']]===\n' +
              'Reason for nomination. ~~' + '~~\n*\n*\n*\n';
        }
      else
       ;
    }
}

if (window.addEventListener) 
  window.addEventListener('load', autovfd, false);
else if (window.attachEvent) 
  window.attachEvent('onload', autovfd);

//AFD Closer----------------
//this helps automate AfD closing by adding a 'close' tab to AfD debates
//written by [[User:Johnleemk]] based on [[Wikipedia:WikiProject User scripts/Scripts/test-n.js]] by [[User:Celestianpower]]

function afdaddlilink(url, name)
{
  var na = document.createElement('a');
  na.setAttribute('href', url);

  var txt = document.createTextNode(name);
  na.appendChild(txt);

  var li = document.createElement('li');
  li.appendChild(na);
  return li;
}

function result()
{
  var close = prompt(&quot;Result of debate?&quot;)
  var f = document.editform, t = f.wpTextbox1;
  t.value = &quot;{{subst:&quot; + &quot;at&quot; + &quot;}} '''&quot; + close + &quot;'''. &quot; + &quot;~&quot; + &quot;~&quot; + &quot;~&quot; + &quot;~&quot; + '\n' + '\n' + t.value;
  if (t.value.length &gt; 0)
    t.value += '\n';
  t.value += &quot;{{subst:&quot; + &quot;ab&quot; + &quot;}}&quot;;
  f.wpSummary.value = &quot;Closing debate; result was &quot; + close;
}

function relist()
{
  var f = document.editform, t = f.wpTextbox1;
  if (t.value.length &gt; 0)
    t.value += '\n';
  t.value += &quot;{{subst:&quot; + &quot;relist&quot; + &quot;|~&quot; + &quot;~&quot; + &quot;~&quot; + &quot;~}}&quot;;
  f.wpSummary.value = &quot;Relisting debate&quot;;
}

function keep()
{
  var date = prompt(&quot;Nomination was made when?&quot;)
  var votepage = prompt(&quot;Vote page is? (Enter 'd' for default.)&quot;)
  var f = document.editform, t = f.wpTextbox1;

    // If default votepage...
    if (votepage==&quot;d&quot;)
      {
        var temp = document.editform.action.split(&quot;/w/index.php?title=&quot;);
        var temp = temp[1].split(&quot;&amp;action=submit&quot;);
        var temp = temp[0].substring(5);
        var votepage = temp;
      }

  t.value = &quot;{{subst:&quot; + &quot;oldafdfull&quot; + &quot;|date=&quot; + date + &quot;|votepage=&quot; + votepage + &quot;}}&quot; + '\n' + '\n' + t.value;
  f.wpSummary.value = &quot;Article survived AfD&quot;;
}

function no_consensus()
{
  var date = prompt(&quot;Nomination was made when?&quot;)
  var votepage = prompt(&quot;Vote page is? (Enter 'd' for default.)&quot;)
  var f = document.editform, t = f.wpTextbox1;

    // If default votepage...
    if (votepage==&quot;d&quot;)
      {
        var temp = document.editform.action.split(&quot;/w/index.php?title=&quot;);
        var temp = temp[1].split(&quot;&amp;action=submit&quot;);
        var temp = temp[0].substring(5);
        var votepage = temp;
      }

  t.value = &quot;{{subst:&quot; + &quot;oldafdfull&quot; + &quot;|date=&quot; + date + &quot;|result='''no consensus'''|votepage=&quot; + votepage + &quot;}}&quot; + '\n' + '\n' + t.value;
  f.wpSummary.value = &quot;Article survived AfD with no consensus&quot;;
}

function redirect()
{
  var date = prompt(&quot;Nomination was made when?&quot;)
  var redirect = prompt(&quot;Redirect to?&quot;)
  var votepage = prompt(&quot;Vote page is? (Enter 'd' for default.)&quot;)
  var f = document.editform, t = f.wpTextbox1;

    // If default votepage...
    if (votepage==&quot;d&quot;)
      {
        var temp = document.editform.action.split(&quot;/w/index.php?title=&quot;);
        var temp = temp[1].split(&quot;&amp;action=submit&quot;);
        var temp = temp[0].substring(5);
        var votepage = temp;
      }

  t.value = &quot;{{subst:&quot; + &quot;oldafdfull&quot; + &quot;|date=&quot; + date + &quot;|result='''redirect to [[&quot; + redirect + &quot;]]'''|votepage=&quot; + votepage + &quot;}}&quot; + '\n' + '\n' + t.value;
  f.wpSummary.value = &quot;Article redirected to [[&quot; + redirect + &quot;]] as per AfD&quot;;
}

function merge()
{
  var date = prompt(&quot;Nomination was made when?&quot;)
  var redirect = prompt(&quot;Merge and redirect to?&quot;)
  var votepage = prompt(&quot;Vote page is? (Enter 'd' for default.)&quot;)
  var f = document.editform, t = f.wpTextbox1;

    // If default votepage...
    if (votepage==&quot;d&quot;)
      {
        var temp = document.editform.action.split(&quot;/w/index.php?title=&quot;);
        var temp = temp[1].split(&quot;&amp;action=submit&quot;);
        var temp = temp[0].substring(5);
        var votepage = temp;
      }

  t.value = &quot;{{subst:&quot; + &quot;oldafdfull&quot; + &quot;|date=&quot; + date + &quot;|result='''merge and redirect to [[&quot; + redirect + &quot;]]'''|votepage=&quot; + votepage + &quot;}}&quot; + '\n' + '\n' + t.value;
  f.wpSummary.value = &quot;Article merged and redirected to [[&quot; + redirect + &quot;]] as per AfD&quot;;
}

function other()
{
  var date = prompt(&quot;Nomination was made when?&quot;)
  var result = prompt(&quot;Result was?&quot;)
  var votepage = prompt(&quot;Vote page is? (Enter 'd' for default.)&quot;)
  var f = document.editform, t = f.wpTextbox1;

    // If default votepage...
    if (votepage==&quot;d&quot;)
      {
        var temp = document.editform.action.split(&quot;/w/index.php?title=&quot;);
        var temp = temp[1].split(&quot;&amp;action=submit&quot;);
        var temp = temp[0].substring(5);
        var votepage = temp;
      }

  t.value = &quot;{{subst:&quot; + &quot;oldafdfull&quot; + &quot;|date=&quot; + date + &quot;|result='''&quot; + result + &quot;'''|votepage=&quot; + votepage + &quot;}}&quot; + '\n' + '\n' + t.value;
  f.wpSummary.value = &quot;AfDed; result was &quot; + result;
}

function add_afd_tabs()
{
  var c1 = document.getElementById('column-one');
  var tabs = c1.getElementsByTagName('div')[0].getElementsByTagName('ul')[0];

  // Only add for pages with the right string somewhere in the title 
  if (document.title.indexOf(&quot;Editing Wikipedia:Articles for deletion/&quot;) != -1)
    {
      tabs.appendChild(afdaddlilink('javascript:result()',&quot;close&quot;));
      tabs.appendChild(afdaddlilink('javascript:relist()',&quot;relist&quot;));
    }
  if (document.title.indexOf(&quot;Editing Talk:&quot;) != -1)
    {
      tabs.appendChild(afdaddlilink('javascript:keep()',&quot;K&quot;));
      tabs.appendChild(afdaddlilink('javascript:no_consensus()',&quot;NC&quot;));
      tabs.appendChild(afdaddlilink('javascript:redirect()',&quot;R&quot;));
      tabs.appendChild(afdaddlilink('javascript:merge()',&quot;M&quot;));
      if(document.getElementById('ca-delete'))
      {
        document.getElementById('ca-delete').firstChild.innerHTML = '[d]';
      }  
      if(document.getElementById('ca-move'))
      {
      document.getElementById('ca-move').firstChild.innerHTML = '[m]';
      } 
      if(document.getElementById('ca-watch'))
      {
      document.getElementById('ca-watch').firstChild.innerHTML = '[w]';
       }  
      if(document.getElementById('ca-unwatch'))
      {
      document.getElementById('ca-unwatch').firstChild.innerHTML = '[uw]';
      }
    }
}

addOnloadHook(add_afd_tabs);

//end AfD closing script

// =-=-=- HELPER FUNCTIONS -=-=-=

function addlilink(tabs, url, name, id, title, key){
    var na = document.createElement('a');
    na.href = url;
    na.appendChild(document.createTextNode(name));
    var li = document.createElement('li');
    if(id) li.id = id;
    li.appendChild(na);
    tabs.appendChild(li);
    if(id)
    {
        if(key &amp;&amp; title)
        {
            ta[id] = [key, title];
        }
        else if(key)
        {
            ta[id] = [key, ''];
        }
        else if(title)
        {
            ta[id] = ['', title];
        }
    }
    // re-render the title and accesskeys from existing code in wikibits.js
    akeytt();
    return li;
}

function addToolboxLink(url, name, id){
    var tb = document.getElementById('p-tb').getElementsByTagName('ul')[0];
    addlilink(tb, url, name, id);
}

function addTab(url, name, id, title, key){
    var tabs = document.getElementById('p-cactions').getElementsByTagName('ul')[0];
    return addlilink(tabs, url, name, id, title, key);
}

function addLink(where, url, name, id, title, key, after){
    //* where is the id of the toolbar where the button should be added;
    //   i.e. one of &quot;p-cactions&quot;, &quot;p-personal&quot;, or &quot;p-navigation&quot;.
    //* url is the URL which will be called when the button is clicked.
    //   javascript: urls can be used to do more complex things.
    //* name is what will appear as the name of the button.
    //* id is the id of the button; it's best to define one.  
    //   Use a prefix to make sure its unique. Optional.
    //* title is the tooltip title that gives a longer description 
    //   of the button; if you define a accesskey, mention it here. Optional.
    //* key is the char you want for the accesskey. Optional.
    //* after is the id of the button you want to follow this one. Optional.
    var na = document.createElement('a');
    na.href = url;
    na.appendChild(document.createTextNode(name));
    var li = document.createElement('li');
    if(id) li.id = id;
    li.appendChild(na);
    var tabs = document.getElementById(where).getElementsByTagName('ul')[0];
    if(after) {
	tabs.insertBefore(li,document.getElementById(after));
    } else {
	tabs.appendChild(li);
    }
    if(id) {
	if(key &amp;&amp; title) { ta[id] = [key, title]; }
	else if(key) { ta[id] = [key, '']; }
	else if(title) { ta[id] = ['', title];} 
    }
    // re-render the title and accesskeys from existing code in wikibits.js
    akeytt();
    return li;
}
////////////////////////////////////////////////////////////////

// ======== USER TABS =======
 
 addOnloadHook(function() {
   if (document.title.search(&quot;/&quot;) != -1 || document.title.search(&quot;- History -&quot;) != -1) { //no subpages or history
      return;
   }
   if (document.title.indexOf(&quot;User:&quot;) == 0 || document.title.indexOf(&quot;User talk:&quot;) == 0) {
      username_a = document.URL.match(/:.*:(.*)/);
      username=username_a[1];
      addTab(&quot;http://en.wikipedia.org/w/index.php?title=Special%3ALog&amp;type=block&amp;user=&amp;page=User:&quot; + username, &quot;log&quot;, &quot;ca-blog&quot;, &quot;block log&quot;, &quot;&quot;);
      addTab(&quot;http://tools.wikimedia.de/~interiot/cgi-bin/count_edits?dbname=enwiki_p&amp;user=&quot; + username, &quot;info&quot;, &quot;ca-kate&quot;, &quot;user info&quot;, &quot;&quot;);
   }
 });
//=============== UTC Clock on top right corner of pages =========
  //  Add time to your monobook &quot;personal menu&quot; list at the very top of the page. By [[User:Mathwiz2020]]
  //  Indicate where you would like the time to appear:
  //    pt-userpage, pt-mytalk, pt-preferences, pt-watchlist, pt-mycontris, pt-logout
// leave blank to append after &quot;logout&quot; [[Category:VoA scripted admins]]
gsTimeInsertBefore = ''; 

function makeTime()
{
  var li = document.createElement( 'li' );
  li.id = 'pt-time';

  var mySpan = document.createElement( 'span' );
  mySpan.appendChild( document.createTextNode( '00:00:00' ) );

  li.appendChild( mySpan );

  if ( ! gsTimeInsertBefore ) { // append to end (right) of list
    document.getElementById( 'pt-logout' ).parentNode.appendChild( li );
  }
  else { 
    var before = document.getElementById( gsTimeInsertBefore );
    before.appendChild( li, before );
  }
  doTime = window.setTimeout(&quot;getTime()&quot;, 1000);
}

addOnloadHook( makeTime );

function getTime()
{
  var time = new Date();
  var hours = time.getUTCHours();
  if (hours &lt; 10) { hours = &quot;0&quot; + hours; }
  var minutes = time.getUTCMinutes();
  if (minutes &lt; 10) { minutes = &quot;0&quot; + minutes; }
  var seconds = time.getUTCSeconds();
  if (seconds &lt; 10) { seconds = &quot;0&quot; + seconds; }
  var currentTime = hours + &quot;:&quot; + minutes + &quot;:&quot; + seconds;
  document.getElementById('pt-time').childNodes[0].childNodes[0].replaceData(0, 8, currentTime);
  doTime = window.setTimeout(&quot;getTime()&quot;, 1000);
}

// ============= Purge ==============
function addPurge()
{
    ta['ca-purge'] = ['g', 'Purge the internal cache for this page'];
    if(!document.getElementById) return;
    var x = document.getElementById('ca-history');
    var tabs = document.getElementById('p-cactions').getElementsByTagName('ul')[0];
    if(!x) return;
    if(x.children) x = x.children[0];
    else x = x.childNodes[0];
    addlilink(tabs, x.href.replace(/=history/, &quot;=purge&quot;), 'purge', 'ca-purge');
}

// ============= test-n.js ==============
function tnaddlilink(url, name)
{
  var na = document.createElement('a');
  na.setAttribute('href', url);

  var txt = document.createTextNode(name);
  na.appendChild(txt);

  var li = document.createElement('li');
  li.appendChild(na);
  return li;
}

function testn(number)
{
  var f = document.editform, t = f.wpTextbox1;
  if (t.value.length &gt; 0)
    t.value += '\n';
  t.value +=&quot;====&quot; + &quot;Regarding edits made during [[{{subst:CURRENTMONTHNAME}} {{subst:CURRENTDAY}}]] [[{{subst:CURRENTYEAR}}]] ([[UTC]])&quot; + &quot;====&quot; + &quot; {{subst:&quot; + &quot;test&quot; + number + &quot;}} &quot; + &quot;''If this is an [[IP address]], and it is shared by multiple users, ignore this warning if you did not make any [[Wikipedia:vandalism|unconstructive]] edits.'' &quot; + &quot;~&quot; + &quot;~&quot; + &quot;~&quot; + &quot;~&quot;;
  f.wpSummary.value = &quot;User notice:&quot; + &quot; test&quot; + number;
}

function warningn()
{
  var f = document.editform, t = f.wpTextbox1;
  if (t.value.length &gt; 0)
    t.value += '\n';
  t.value +=&quot;====&quot; + &quot;Regarding edits made during [[{{subst:CURRENTMONTHNAME}} {{subst:CURRENTDAY}}]] [[{{subst:CURRENTYEAR}}]] ([[UTC]])&quot; + &quot;====&quot; + &quot; {{subst:&quot; + &quot;bv&quot; + &quot;}} &quot; + &quot;''If this is an [[IP address]], and it is shared by multiple users, ignore this warning if you did not make any [[Wikipedia:vandalism|malicious]] edits.'' &quot; + &quot;~&quot; + &quot;~&quot; + &quot;~&quot; + &quot;~&quot;;
  f.wpSummary.value = &quot;User notice:&quot; + &quot; bv&quot;;
}

function revertsn()
{
  var article = prompt(&quot;Enter history page URL&quot;)
  var f = document.editform, t = f.wpTextbox1;
  if (t.value.length &gt; 0)
    t.value += '\n';
  t.value +=&quot;====&quot; + &quot;Regarding reversions&quot; + &quot;[&quot; + article + &quot;] &quot; + &quot;made on [[{{subst:CURRENTMONTHNAME}} {{subst:CURRENTDAY}}]] [[{{subst:CURRENTYEAR}}]] ([[UTC]])&quot; + &quot;====&quot; + &quot; {{subst:&quot; + &quot;3rr&quot; + &quot;}} &quot; + &quot;''If this is an [[IP address]], and it is shared by multiple users, ignore this warning, but aviod making any [[Wikipedia:revert|reverts]] within 24 hours of this warning in order to avoid any confusion.'' &quot; + &quot;~&quot; + &quot;~&quot; + &quot;~&quot; + &quot;~&quot;;
  f.wpSummary.value = &quot;User notice:&quot; + &quot; 3rr&quot;;
}

function finalwn()
{
  var f = document.editform, t = f.wpTextbox1;
  if (t.value.length &gt; 0)
    t.value += '\n';
  t.value += &quot;:{{subst:&quot; + &quot;test4&quot; + &quot;}} ~&quot; + &quot;~&quot; + &quot;~&quot; + &quot;~&quot;;
  f.wpSummary.value = &quot;User notice:&quot; + &quot; final warning&quot;;
}

function blockn()
{
  var f = document.editform, t = f.wpTextbox1;
  if (t.value.length &gt; 0)
    t.value += '\n';
  t.value += &quot;:{{subst:&quot; + &quot;test5&quot; + &quot;}} ~&quot; + &quot;~&quot; + &quot;~&quot; + &quot;~&quot;;
  f.wpSummary.value = &quot;User notice:&quot; + &quot; temporary block&quot;;
}

function rrblockn()
{
  username_a = document.URL.match(/:.*:(.*)/);
  username=username_a[1];
  var article = prompt(&quot;Enter history page URL&quot;)
  var time = prompt(&quot;Enter the duration of the block (in hours)&quot;)
  var f = document.editform, t = f.wpTextbox1;
  if (t.value.length &gt; 0)
    t.value += '\n';
  t.value += &quot;:{{subst:&quot; + &quot;3rr3&quot; + &quot;}} The duration of the [http://en.wikipedia.org/w/index.php?title=Special%3ALog&amp;type=block&amp;user=&amp;page=User:&quot; + username + &quot; block] is &quot; + time + &quot; hours. [&quot; + article + &quot; Here] are the reverts in question. ~&quot; + &quot;~&quot; + &quot;~&quot; + &quot;~&quot;;
  f.wpSummary.value = &quot;User notice:&quot; + &quot; temporary 3RR block&quot;;
}

function testbl()
{
  var f = document.editform, t = f.wpTextbox1;
  if (t.value.length &gt; 0)
    t.value += '\n';
  t.value +=&quot;====&quot; + &quot;Regarding edits made during [[{{subst:CURRENTMONTHNAME}} {{subst:CURRENTDAY}}]] [[{{subst:CURRENTYEAR}}]] ([[UTC]])&quot; + &quot;====&quot; + &quot; {{subst:&quot; + &quot;test2a}} &quot; + &quot;''If this is an [[IP address]], and it is shared by multiple users, ignore this warning if you did not make any [[Wikipedia:vandalism|malicious]] edits.'' &quot; + &quot;~&quot; + &quot;~&quot; + &quot;~&quot; + &quot;~&quot;;
  f.wpSummary.value = &quot;User notice:&quot; + &quot; test2a&quot;;
}

function spam()
{
  var f = document.editform, t = f.wpTextbox1;
  if (t.value.length &gt; 0)
    t.value += '\n';
  t.value +=&quot;====&quot; + &quot;Regarding edits made during [[{{subst:CURRENTMONTHNAME}} {{subst:CURRENTDAY}}]] [[{{subst:CURRENTYEAR}}]] ([[UTC]])&quot; + &quot;====&quot; + &quot; {{subst:&quot; + &quot;spam2a}} &quot; + &quot;''If this is an [[IP address]], and it is shared by multiple users, ignore this warning if you were not the one who added [[Wikipedia:spam|spam]] links.'' &quot; + &quot;~&quot; + &quot;~&quot; + &quot;~&quot; + &quot;~&quot;;
  f.wpSummary.value = &quot;User notice:&quot; + &quot; spam2a&quot;;
}

function rfppp()
{
  var f = document.editform, t = f.wpTextbox1;
  if (t.value.length &gt; 0)
    t.value += '\n';
  t.value +=&quot;:'''Fully protected''' due to [[Wikipedia:Edit war|revert warring]]. &quot; + &quot;~&quot; + &quot;~&quot; + &quot;~&quot; + &quot;~&quot;;
  f.wpSummary.value = &quot;Response: page fully protected&quot;;
}

function rfpps()
{
  var f = document.editform, t = f.wpTextbox1;
  if (t.value.length &gt; 0)
    t.value += '\n';
  t.value +=&quot;:'''Semi-protected''' due to heavy [[vandalism]]. &quot; + &quot;~&quot; + &quot;~&quot; + &quot;~&quot; + &quot;~&quot;;
  f.wpSummary.value = &quot;Response: page semi-protected&quot;;
}

function rfppm()
{
  var f = document.editform, t = f.wpTextbox1;
  if (t.value.length &gt; 0)
    t.value += '\n';
  t.value +=&quot;:'''Move-protected''' due to excessive renaming. &quot; + &quot;~&quot; + &quot;~&quot; + &quot;~&quot; + &quot;~&quot;;
  f.wpSummary.value = &quot;Response: page move-protected&quot;;
}

function rfppun()
{
  var f = document.editform, t = f.wpTextbox1;
  if (t.value.length &gt; 0)
    t.value += '\n';
  t.value +=&quot;:'''Un-protected.''' &quot; + &quot;~&quot; + &quot;~&quot; + &quot;~&quot; + &quot;~&quot;;
  f.wpSummary.value = &quot;Response: page un-protected&quot;;
}

function rfppu()
{
  var pro = prompt(&quot;A user already protected or un-protected (enter *p* or *u*)?&quot;)
  if (pro == 'p') {
  value = 'protected';
                }
  else if (pro == 'u') {
  value = 'un-protected';
                }
  else {
  alert(&quot;Error: Invalid input. Make sure that you are not actually including the aterisk symbols.&quot;);
  return;
                }
  var user = prompt(&quot;What user?&quot;)
  var f = document.editform, t = f.wpTextbox1;
  if (t.value.length &gt; 0)
    t.value += '\n';
  t.value +=&quot;:Page already &quot; + value + &quot;[http://en.wikipedia.org/w/index.php?title=Special:Log/protect&amp;user=&quot; + user + &quot;] by [[user:&quot; + user + &quot;|&quot; + user + &quot;]]&quot; + &quot;. &quot; + &quot;~&quot; + &quot;~&quot; + &quot;~&quot; + &quot;~&quot;;
  f.wpSummary.value = &quot;Response: already &quot; + value + &quot; by another user&quot;;
}

function rfppru()
{
  var f = document.editform, t = f.wpTextbox1;
  if (t.value.length &gt; 0)
    t.value += '\n';
  t.value +=&quot;:The issues that started the [[Wikipedia:Edit war|revert war]] have not yet been resolved and the edits also appear to be in [[WP:AGF|good faith]]. It is also too soon to assume that the editors have just left for good, so the page is better left protected for now. &quot; + &quot;~&quot; + &quot;~&quot; + &quot;~&quot; + &quot;~&quot;;
  f.wpSummary.value = &quot;Response: un-protection request denied&quot;;
}

function rfppr()
{
  var f = document.editform, t = f.wpTextbox1;
  if (t.value.length &gt; 0)
    t.value += '\n';
  t.value +=&quot;:There is not enough recent activity to [[Wikipedia:Protection_policy#Uses|justify]] [[Wikipedia:Protection policy|protection]] at this time. For now, be sure to use descriptive [[edit summary|edit summaries]] and discuss edits on [[Wikipedia:Talk pages|talk]]. &quot; + &quot;~&quot; + &quot;~&quot; + &quot;~&quot; + &quot;~&quot;;
  f.wpSummary.value = &quot;Response: protection request denied&quot;;
}

function rfpprv()
{
  var f = document.editform, t = f.wpTextbox1;
  if (t.value.length &gt; 0)
    t.value += '\n';
  t.value +=&quot;:There is not enough recent activity to [[Wikipedia:Protection_policy#Uses|justify]] [[Wikipedia:Semi-protection_policy|protection]] at this time. Just [[watchlist]] and revert any vandalism. &quot; + &quot;~&quot; + &quot;~&quot; + &quot;~&quot; + &quot;~&quot;;
  f.wpSummary.value = &quot;Response: protection request denied&quot;;
}

function rrwarn()
{
  var f = document.editform, t = f.wpTextbox1;
  if (t.value.length &gt; 0)
    t.value += '\n';
  t.value +=&quot;*The user has now been warned per [[WP:3RR|3RR]]. &quot; + &quot;~&quot; + &quot;~&quot; + &quot;~&quot; + &quot;~&quot;;
  f.wpSummary.value = &quot;Response: user warned&quot;;
}

function rrblock()
{
  var number = prompt(&quot;User blocked for how many hours?&quot;)
  var f = document.editform, t = f.wpTextbox1;
  if (t.value.length &gt; 0)
    t.value += '\n';
  t.value +=&quot;*I have blocked the user for &quot; + number + &quot; hours per [[WP:3RR]]. &quot; + &quot;~&quot; + &quot;~&quot; + &quot;~&quot; + &quot;~&quot;;
  f.wpSummary.value = &quot;Response: user blocked&quot;;
}

function prod()
{
  document.editform.wpTextbox1.value = '{{prod' + '}}\n' + document.editform.wpTextbox1.value;
  document.editform.wpSummary.value = 'This page has been proposed for deletion and will be deleted in 5 days if no one objects.';
}

function protect()
{
//This is for if people skrew with the WP:PP page layout
  var movesec = 7;
  var artfull = 10;
  var artsemi = 11;
  var otherpro = 13;
  var userfull = 16;  
  var usersemi = 17;
  var regtalk = 18;  
  var anontalk = 19;
//End of WP:PP constants
  var z ='';
  var target = document.editform.action;
  target = target.substring(target.indexOf('title=') + 6, target.lastIndexOf('&amp;action=submit'));
  if (document.editform.wpTextbox1.value.split('{{sprotect}}')[1] != undefined)
  {
    var z = 'notag';
  }
  else if (document.editform.wpTextbox1.value.split('{{sprotected}}')[1] != undefined)
  {
    var z = 'notag';
  }
  else if (document.editform.wpTextbox1.value.split('{{protect}}')[1] != undefined)
  {
    var z = 'notag';
  }
  else if (document.editform.wpTextbox1.value.split('{{protected}}')[1] != undefined)
  {
    var z = 'notag';
  }
  else if (document.editform.wpTextbox1.value.split('{{tl|protected}}')[1] != undefined)
  {
    var z = 'notag';
  }
  else if (document.editform.wpTextbox1.value.split('{{tl|vprotected}}')[1] != undefined)
  {
    var z = 'notag';
  }
  else if (document.editform.wpTextbox1.value.split('{{moveprotect}}')[1] != undefined)
  {
    var z = 'notag';
  }
  else if (document.editform.wpTextbox1.value.split('{{moveprotected}}')[1] != undefined)
  {
   var z = 'notag';
  }
  else
  {
  document.editform.wpTextbox1.value = '{{protected' + '}}\n' + document.editform.wpTextbox1.value;
  document.editform.wpSummary.value = '+{{protected' + '}}';
window1 = window.open('http://en.wikipedia.org/w/index.php?title=Wikipedia:List_of_protected_pages&amp;action=edit&amp;section=' + artfull + '&amp;fakeaction=plist&amp;faketarget=' + target,
              'targetname',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
window2 = window.open('http://en.wikipedia.org/w/index.php?title=' + target + '&amp;action=protect',
              'targetname2',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
    return;
  }
if (z == 'notag')
  {
alert(&quot;Error: A protection tag is already on this page. If this tag is supposed to be part of the text, then add the desired protection tag manually.&quot;);
    return;
  }
}

function sprotect()
{
//This is for if people skrew with the WP:PP page layout
  var movesec = 7;
  var artfull = 10;
  var artsemi = 11;
  var otherpro = 13;
  var userfull = 16;  
  var usersemi = 17;
  var regtalk = 18;  
  var anontalk = 19;
//End of WP:PP constants
  var z ='';
  var target = document.editform.action;
  target = target.substring(target.indexOf('title=') + 6, target.lastIndexOf('&amp;action=submit'));
  if (document.editform.wpTextbox1.value.split('{{sprotect}}')[1] != undefined)
  {
    var z = 'notag';
  }
  else if (document.editform.wpTextbox1.value.split('{{sprotected}}')[1] != undefined)
  {
    var z = 'notag';
  }
  else if (document.editform.wpTextbox1.value.split('{{usertalk-sprotected}}')[1] != undefined)
  {
    var z = 'notag';
  }
  else if (document.editform.wpTextbox1.value.split('{{Usertalk-sprotected}}')[1] != undefined)
  {
    var z = 'notag';
  }
  else if (document.editform.wpTextbox1.value.split('{{protect}}')[1] != undefined)
  {
    var z = 'notag';
  }
  else if (document.editform.wpTextbox1.value.split('{{protected}}')[1] != undefined)
  {
    var z = 'notag';
  }
  else if (document.editform.wpTextbox1.value.split('{{moveprotect}}')[1] != undefined)
  {
    var z = 'notag';
  }
  else if (document.editform.wpTextbox1.value.split('{{moveprotected}}')[1] != undefined)
  {
    var z = 'notag';
  }
  else
  {
  document.editform.wpTextbox1.value = '{{sprotected' + '}}\n' + document.editform.wpTextbox1.value;
  document.editform.wpSummary.value = '+{{sprotected' + '}}';
window1 = window.open('http://en.wikipedia.org/w/index.php?title=Wikipedia:List_of_protected_pages&amp;action=edit&amp;section=' + artsemi + '&amp;fakeaction=plist&amp;faketarget=' + target,
              'targetname',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
window2 = window.open('http://en.wikipedia.org/w/index.php?title=' + target + '&amp;action=protect',
              'targetname2',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
    return;
  }
  if (z == 'notag')
  {
alert(&quot;Error: A protection tag is already on this page. If this tag is supposed to be part of the text, then add the desired protection tag manually.&quot;);
    return;
  }
}

function usprotect()
{
//This is for if people skrew with the WP:PP page layout
  var movesec = 7;
  var artfull = 10;
  var artsemi = 11;
  var otherpro = 13;
  var userfull = 16;  
  var usersemi = 17;
  var regtalk = 18;  
  var anontalk = 19;
//End of WP:PP constants
  var z ='';
  if (document.title.indexOf(&quot;Editing User talk&quot;) != -1)
    {
    value = 't'; 
    }
  if (document.title.indexOf(&quot;Editing User:&quot;) != -1)
    {
    value = 'u';
    }
  var reg = '';
  var target = document.editform.action;
  target = target.substring(target.indexOf('title=') + 6, target.lastIndexOf('&amp;action=submit'));
  if (document.editform.wpTextbox1.value.split('{{sprotect}}')[1] != undefined)
  {
    z = 'notag';
  }
  else if (document.editform.wpTextbox1.value.split('{{Sprotect}}')[1] != undefined)
  {
    z = 'notag';
  }
  else if (document.editform.wpTextbox1.value.split('{{sprotected}}')[1] != undefined)
  {
    z = 'notag';
  }
  else if (document.editform.wpTextbox1.value.split('{{Sprotected}}')[1] != undefined)
  {
    z = 'notag';
  }
  else if (document.editform.wpTextbox1.value.split('{{protect}}')[1] != undefined)
  {
    z = 'notag';
  }
  else if (document.editform.wpTextbox1.value.split('{{protected}}')[1] != undefined)
  {
    z = 'notag';
  }
  else if (document.editform.wpTextbox1.value.split('{{moveprotect}}')[1] != undefined)
  {
    z = 'notag';
  }
  else if (document.editform.wpTextbox1.value.split('{{moveprotected}}')[1] != undefined)
  {
    z = 'notag';
  }
  else if (document.editform.wpTextbox1.value.split('{{Usertalk-sprotect}}')[1] != undefined)
  {
    z = 'notag';
  }
  else if (document.editform.wpTextbox1.value.split('{{usertalk-sprotect}}')[1] != undefined)
  {
    z = 'notag';
  }
  else if (document.editform.wpTextbox1.value.split('{{vutprotected}}')[1] != undefined)
  {
    z = 'notag';
  }
  else if (document.editform.wpTextbox1.value.split('{{Vutprotected}}')[1] != undefined)
  {
    z = 'notag';
  }
  else if (document.editform.wpTextbox1.value.split('{{vprotect}}')[1] != undefined)
  {
   z = 'notag';
  }
  else if (document.editform.wpTextbox1.value.split('{{vprotected}}')[1] != undefined)
  {
    z = 'notag';
  }
  else if (document.editform.wpTextbox1.value.split('{{Vprotect}}')[1] != undefined)
  {
    z = 'notag';
  }
  else if (document.editform.wpTextbox1.value.split('{{Vprotected}}')[1] != undefined)
  {
    z = 'notag';
  }
  else if (document.editform.wpTextbox1.value.split('{{Sutprotected}}')[1] != undefined)
  {
    z = 'notag';
  }
  else if (document.editform.wpTextbox1.value.split('{{sutprotected}}')[1] != undefined)
  {
    z = 'notag';
  }
  if (z == 'notag')
    {
    alert(&quot;Error: A protection tag is already on this page. If this tag is supposed to be part of the text, then add the desired protection tag manually.&quot;);
    return;
    }
  else
  {
  if (value == 'u')
      {
      var act = 'u';
      type = 17;
      }
  else if (value == 't')
      {
      var act = 'ut';
      var reg = prompt('Is this an anon or a registered user (enter *a* or *r*)?');
         if (reg == 'a')
             {
            type = 19;
             }
         else if (reg == 'r')
             {
            type = 18;
             }
         else
             {
            alert(&quot;Error: Invalid input. Make sure you are not actually including the asterisk symbols.&quot;);
            return;
             }
      }
  else
      {
      alert(&quot;Error: Invalid input. Make sure you are not actually including the asterisk symbols.&quot;);
      return;
      }
  document.editform.wpTextbox1.value = '{{sprotected' + '}}\n' + document.editform.wpTextbox1.value;
  document.editform.wpSummary.value = '+{{sprotected' + '}}';
window1 = window.open('http://en.wikipedia.org/w/index.php?title=Wikipedia:List_of_protected_pages&amp;action=edit&amp;section=' + type + '&amp;fakeaction=' + act + 'plist&amp;faketarget=' + target,
              'targetname',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
window2 = window.open('http://en.wikipedia.org/w/index.php?title=' + target + '&amp;action=protect',
              'targetname2',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
         return;
  }
}

function oprotect()
{
//This is for if people skrew with the WP:PP page layout
  var movesec = 7;
  var artfull = 10;
  var artsemi = 11;
  var otherpro = 13;
  var userfull = 16;  
  var usersemi = 17;
  var regtalk = 18;  
  var anontalk = 19;
//End of WP:PP constants
  var z ='';
  var target = document.editform.action;
  target = target.substring(target.indexOf('title=') + 6, target.lastIndexOf('&amp;action=submit'));
  if (document.editform.wpTextbox1.value.split('{{sprotect}}')[1] != undefined)
  {
    z = 'notag';
  }
  else if (document.editform.wpTextbox1.value.split('{{sprotected}}')[1] != undefined)
  {
    z = 'notag';
  }
  else if (document.editform.wpTextbox1.value.split('{{protect}}')[1] != undefined)
  {
    z = 'notag';
  }
  else if (document.editform.wpTextbox1.value.split('{{moveprotect}}')[1] != undefined)
  {
    z = 'notag';
  }
  else if (document.editform.wpTextbox1.value.split('{{moveprotected}}')[1] != undefined)
  {
    z = 'notag';
  }
  if (z == 'notag')
  {
    alert(&quot;Error: A protection tag is already on this page. If this tag is supposed to be part of the text, then add the desired protection tag manually.&quot;);
    return;
  }
  else
  {
  document.editform.wpTextbox1.value = '{{protected' + '}}\n' + document.editform.wpTextbox1.value;
  document.editform.wpSummary.value = '+{{protected' + '}}';
window.open('http://en.wikipedia.org/w/index.php?title=Wikipedia:List_of_protected_pages&amp;action=edit&amp;section=' + otherpro + '&amp;fakeaction=oplist&amp;faketarget=' + target,
              'targetname',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
window.open('http://en.wikipedia.org/w/index.php?title=' + target + '&amp;action=protect',
              'targetname2',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
  }
}

function osprotect()
{
//This is for if people skrew with the WP:PP page layout
  var movesec = 7;
  var artfull = 10;
  var artsemi = 11;
  var otherpro = 13;
  var userfull = 16;  
  var usersemi = 17;
  var regtalk = 18;  
  var anontalk = 19;
//End of WP:PP constants
  var z ='';
  var target = document.editform.action;
  target = target.substring(target.indexOf('title=') + 6, target.lastIndexOf('&amp;action=submit'));
  if (document.editform.wpTextbox1.value.split('{{sprotect}}')[1] != undefined)
  {
    z = 'notag';
  }
  else if (document.editform.wpTextbox1.value.split('{{sprotected}}')[1] != undefined)
  {
    z = 'notag';
  }
  else if (document.editform.wpTextbox1.value.split('{{protect}}')[1] != undefined)
  {
    z = 'notag';
  }
  else if (document.editform.wpTextbox1.value.split('{{protected}}')[1] != undefined)
  {
    z = 'notag';
  }
  else if (document.editform.wpTextbox1.value.split('{{vprotect}}')[1] != undefined)
  {
    z = 'notag';
  }
  else if (document.editform.wpTextbox1.value.split('{{vprotected}}')[1] != undefined)
  {
    z = 'notag';
  }
  else if (document.editform.wpTextbox1.value.split('{{moveprotect}}')[1] != undefined)
  {
    z = 'notag';
  }
  else if (document.editform.wpTextbox1.value.split('{{moveprotected}}')[1] != undefined)
  {
    z = 'notag';
  }
 if (z == 'notag')
  {
  alert(&quot;Error: A protection tag is already on this page. If this tag is supposed to be part of the text, then add the desired protection tag manually.&quot;);
  }
  else
  {
  document.editform.wpTextbox1.value = '{{sprotected' + '}}\n' + document.editform.wpTextbox1.value;
  document.editform.wpSummary.value = '+{{sprotected' + '}}';
window.open('http://en.wikipedia.org/w/index.php?title=Wikipedia:List_of_protected_pages&amp;action=edit&amp;section=' + otherpro + '&amp;fakeaction=oplist&amp;faketarget=' + target,
              'targetname',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
window.open('http://en.wikipedia.org/w/index.php?title=' + target + '&amp;action=protect',
              'targetnameo',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
  }
}

function unprotect()
{
//This is for if people skrew with the WP:PP page layout
  var movesec = 7;
  var artfull = 10;
  var artsemi = 11;
  var otherpro = 13;
  var userfull = 16;  
  var usersemi = 17;
  var regtalk = 18;  
  var anontalk = 19;
//End of WP:PP constants
  var undefined;
  var original = document.editform.wpTextbox1.value;
  var target = document.editform.action;
  target = target.substring(target.indexOf('title=') + 6, target.lastIndexOf('&amp;action=submit'));
  if (document.editform.wpTextbox1.value.split('{{sprotect}}')[1] != undefined)
  {
    if (document.editform.wpTextbox1.value.split('{{sprotect}}')[0] == '')
     {
document.editform.wpSummary.value = 'Unprotected';
document.editform.wpTextbox1.value = document.editform.wpTextbox1.value.split('{{sprotect}}')[1]; 
window.open('http://en.wikipedia.org/w/index.php?title=Wikipedia:List_of_protected_pages&amp;action=edit&amp;section=' + artsemi + '&amp;fakeaction=pdelist&amp;faketarget=' + target,
              'targetname',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
var go = 'yes';
     }
    else
     {
document.editform.wpSummary.value = 'Unprotected';
var before = document.editform.wpTextbox1.value.split('{{sprotect}}')[0]; 
var after = document.editform.wpTextbox1.value.split(before + '{{sprotect}}')[1];
document.editform.wpTextbox1.value = before + after;
window.open('http://en.wikipedia.org/w/index.php?title=Wikipedia:List_of_protected_pages&amp;action=edit&amp;section=' + artsemi + '&amp;fakeaction=pdelist&amp;faketarget=' + target,
              'targetname',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
var go = 'yes';
     }
  }
  else if (document.editform.wpTextbox1.value.split('{{sprotected}}')[1] != undefined)
  {
    if (document.editform.wpTextbox1.value.split('{{sprotected}}')[0] == '')
     {
document.editform.wpSummary.value = 'Unprotected';
document.editform.wpTextbox1.value = document.editform.wpTextbox1.value.split('{{sprotected}}')[1];
window.open('http://en.wikipedia.org/w/index.php?title=Wikipedia:List_of_protected_pages&amp;action=edit&amp;section=' + artsemi + '&amp;fakeaction=pdelist&amp;faketarget=' + target,
              'targetname',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
var go = 'yes';
     }
    else
     {
document.editform.wpSummary.value = 'Unprotected';
var before = document.editform.wpTextbox1.value.split('{{sprotected}}')[0]; 
var after = document.editform.wpTextbox1.value.split(before + '{{sprotected}}')[1];
document.editform.wpTextbox1.value = before + after;
window.open('http://en.wikipedia.org/w/index.php?title=Wikipedia:List_of_protected_pages&amp;action=edit&amp;section=' + artsemi + '&amp;fakeaction=pdelist&amp;faketarget=' + target,
              'targetname',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
var go = 'yes';
     }
  }
  else if (document.editform.wpTextbox1.value.split('{{semiprotect}}')[1] != undefined)
  {
    if (document.editform.wpTextbox1.value.split('{{semiprotect}}')[0] == '')
     {
document.editform.wpSummary.value = 'Unprotected';
document.editform.wpTextbox1.value = document.editform.wpTextbox1.value.split('{{semiprotect}}')[1];
window.open('http://en.wikipedia.org/w/index.php?title=Wikipedia:List_of_protected_pages&amp;action=edit&amp;section=' + artsemi + '&amp;fakeaction=pdelist&amp;faketarget=' + target,
              'targetname',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
var go = 'yes';
     }
    else
     {
document.editform.wpSummary.value = 'Unprotected';
var before = document.editform.wpTextbox1.value.split('{{semiprotect}}')[0]; 
var after = document.editform.wpTextbox1.value.split(before + '{{semiprotect}}')[1];
document.editform.wpTextbox1.value = before + after;
window.open('http://en.wikipedia.org/w/index.php?title=Wikipedia:List_of_protected_pages&amp;action=edit&amp;section=' + artsemi + '&amp;fakeaction=pdelist&amp;faketarget=' + target,
              'targetname',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
var go = 'yes';
     }
  }
  else if (document.editform.wpTextbox1.value.split('{{semiprotected}}')[1] != undefined)
  {
    if (document.editform.wpTextbox1.value.split('{{semiprotected}}')[0] == '')
     {
document.editform.wpSummary.value = 'Unprotected';
document.editform.wpTextbox1.value = document.editform.wpTextbox1.value.split('{{semiprotected}}')[1];
window.open('http://en.wikipedia.org/w/index.php?title=Wikipedia:List_of_protected_pages&amp;action=edit&amp;section=' + artsemi + '&amp;fakeaction=pdelist&amp;faketarget=' + target,
              'targetname',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
var go = 'yes';
     }
    else
     {
document.editform.wpSummary.value = 'Unprotected';
var before = document.editform.wpTextbox1.value.split('{{semiprotected}}')[0]; 
var after = document.editform.wpTextbox1.value.split(before + '{{semiprotected}}')[1];
document.editform.wpTextbox1.value = before + after;
window.open('http://en.wikipedia.org/w/index.php?title=Wikipedia:List_of_protected_pages&amp;action=edit&amp;section=' + artsemi + '&amp;fakeaction=pdelist&amp;faketarget=' + target,
              'targetname',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
var go = 'yes';
     }
  }
else if (document.editform.wpTextbox1.value.split('{{vprotect}}')[1] != undefined)
  {
    if (document.editform.wpTextbox1.value.split('{{vprotect}}')[0] == '')
     {
document.editform.wpSummary.value = 'Unprotected';
document.editform.wpTextbox1.value = document.editform.wpTextbox1.value.split('{{vprotect}}')[1]; 
window.open('http://en.wikipedia.org/w/index.php?title=Wikipedia:List_of_protected_pages&amp;action=edit&amp;section=' + artfull + '&amp;fakeaction=pdelist&amp;faketarget=' + target,
              'targetname',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
var go = 'yes';
     }
    else
     {
document.editform.wpSummary.value = 'Unprotected';
var before = document.editform.wpTextbox1.value.split('{{vprotect}}')[0]; 
var after = document.editform.wpTextbox1.value.split(before + '{{vprotect}}')[1];
document.editform.wpTextbox1.value = before + after;
window.open('http://en.wikipedia.org/w/index.php?title=Wikipedia:List_of_protected_pages&amp;action=edit&amp;section=' + artfull + '&amp;fakeaction=pdelist&amp;faketarget=' + target,
              'targetname',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
var go = 'yes';
     }
  }
  else if (document.editform.wpTextbox1.value.split('{{vprotected}}')[1] != undefined)
  {
    if (document.editform.wpTextbox1.value.split('{{vprotected}}')[0] == '')
     {
document.editform.wpSummary.value = 'Unprotected';
document.editform.wpTextbox1.value = document.editform.wpTextbox1.value.split('{{vprotected}}')[1];
window.open('http://en.wikipedia.org/w/index.php?title=Wikipedia:List_of_protected_pages&amp;action=edit&amp;section=' + artfull + '&amp;fakeaction=pdelist&amp;faketarget=' + target,
              'targetname',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
var go = 'yes';
     }
    else
     {
document.editform.wpSummary.value = 'Unprotected';
var before = document.editform.wpTextbox1.value.split('{{vprotected}}')[0]; 
var after = document.editform.wpTextbox1.value.split(before + '{{vprotected}}')[1];
document.editform.wpTextbox1.value = before + after;
window.open('http://en.wikipedia.org/w/index.php?title=Wikipedia:List_of_protected_pages&amp;action=edit&amp;section=' + artfull + '&amp;fakeaction=pdelist&amp;faketarget=' + target,
              'targetname',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
     }
  }
  else if (document.editform.wpTextbox1.value.split('{{protect}}')[1] != undefined)
  {
    if (document.editform.wpTextbox1.value.split('{{protect}}')[0] == '')
     {
document.editform.wpSummary.value = 'Unprotected';
document.editform.wpTextbox1.value = document.editform.wpTextbox1.value.split('{{protect}}')[1]; 
window.open('http://en.wikipedia.org/w/index.php?title=Wikipedia:List_of_protected_pages&amp;action=edit&amp;section=' + artfull + '&amp;fakeaction=pdelist&amp;faketarget=' + target,
              'targetname',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
var go = 'yes';
     }
    else
     {
document.editform.wpSummary.value = 'Unprotected';
var before = document.editform.wpTextbox1.value.split('{{protect}}')[0]; 
var after = document.editform.wpTextbox1.value.split(before + '{{protect}}')[1];
document.editform.wpTextbox1.value = before + after;
window.open('http://en.wikipedia.org/w/index.php?title=Wikipedia:List_of_protected_pages&amp;action=edit&amp;section=' + artfull + '&amp;fakeaction=pdelist&amp;faketarget=' + target,
              'targetname',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
var go = 'yes';
     }
  }
  else if (document.editform.wpTextbox1.value.split('{{protected}}')[1] != undefined)
  {
    if (document.editform.wpTextbox1.value.split('{{protected}}')[0] == '')
     {
document.editform.wpSummary.value = 'Unprotected';
document.editform.wpTextbox1.value = document.editform.wpTextbox1.value.split('{{protected}}')[1]; 
window.open('http://en.wikipedia.org/w/index.php?title=Wikipedia:List_of_protected_pages&amp;action=edit&amp;section=' + artfull + '&amp;fakeaction=pdelist&amp;faketarget=' + target,
              'targetname',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
var go = 'yes';
     }
    else
     {
document.editform.wpSummary.value = 'Unprotected';
var before = document.editform.wpTextbox1.value.split('{{protected}}')[0]; 
var after = document.editform.wpTextbox1.value.split(before + '{{protected}}')[1];
document.editform.wpTextbox1.value = before + after;
window.open('http://en.wikipedia.org/w/index.php?title=Wikipedia:List_of_protected_pages&amp;action=edit&amp;section=' + artfull + '&amp;fakeaction=pdelist&amp;faketarget=' + target,
              'targetname',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
var go = 'yes';
     }
  }
  else if (document.editform.wpTextbox1.value.split('{{moveprotect}}')[1] != undefined)
  {
    if (document.editform.wpTextbox1.value.split('{{moveprotect}}')[0] == '')
     {
document.editform.wpSummary.value = 'Unprotected';
document.editform.wpTextbox1.value = document.editform.wpTextbox1.value.split('{{moveprotect}}')[1];
window.open('http://en.wikipedia.org/w/index.php?title=Wikipedia:List_of_protected_pages&amp;action=edit&amp;section=' + movesec + '&amp;fakeaction=pdelist&amp;faketarget=' + target,
              'targetname',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
var go = 'yes';
     } 
    else
     {
document.editform.wpSummary.value = 'Unprotected';
var before = document.editform.wpTextbox1.value.split('{{moveprotect}}')[0]; 
var after = document.editform.wpTextbox1.value.split(before + '{{moveprotect}}')[1];
document.editform.wpTextbox1.value = before + after;
window.open('http://en.wikipedia.org/w/index.php?title=Wikipedia:List_of_protected_pages&amp;action=edit&amp;section=' + movesec + '&amp;fakeaction=pdelist&amp;faketarget=' + target,
              'targetname',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
var go = 'yes';
     }
  }
  else if (document.editform.wpTextbox1.value.split('{{moveprotected}}')[1] != undefined)
  {
    if (document.editform.wpTextbox1.value.split('{{moveprotected}}')[0] == '')
     {
document.editform.wpSummary.value = 'Unprotected';
document.editform.wpTextbox1.value = document.editform.wpTextbox1.value.split('{{moveprotected}}')[1]; 
window.open('http://en.wikipedia.org/w/index.php?title=Wikipedia:List_of_protected_pages&amp;action=edit&amp;section=' + movesec + '&amp;fakeaction=pdelist&amp;faketarget=' + target,
              'targetname',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
var go = 'yes';
     } 
    else
     {
document.editform.wpSummary.value = 'Unprotected';
var before = document.editform.wpTextbox1.value.split('{{moveprotected}}')[0]; 
var after = document.editform.wpTextbox1.value.split(before + '{{moveprotected}}')[1];
document.editform.wpTextbox1.value = before + after;
window.open('http://en.wikipedia.org/w/index.php?title=Wikipedia:List_of_protected_pages&amp;action=edit&amp;section=' + movesec + '&amp;fakeaction=pdelist&amp;faketarget=' + target,
              'targetname',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
     }
  }
  else
  {
alert(&quot;Error: There is no recognized protection tag on this page.&quot;);
  }
if (go == 'yes')
    {
window.open('http://en.wikipedia.org/w/index.php?title=' + target + '&amp;action=protect',
              'targetnamepro',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
    }
}

function ounprotect()
{
//This is for if people skrew with the WP:PP page layout
  var movesec = 7;
  var artfull = 10;
  var artsemi = 11;
  var otherpro = 13;
  var userfull = 16;  
  var usersemi = 17;
  var regtalk = 18;  
  var anontalk = 19;
//End of WP:PP constants
  var undefined;
  var original = document.editform.wpTextbox1.value;
  var target = document.editform.action;
  target = target.substring(target.indexOf('title=') + 6, target.lastIndexOf('&amp;action=submit'));
  if (document.editform.wpTextbox1.value.split('{{sprotect}}')[1] != undefined)
  {
    if (document.editform.wpTextbox1.value.split('{{sprotect}}')[0] == '')
     {
document.editform.wpSummary.value = 'Unprotected';
document.editform.wpTextbox1.value = document.editform.wpTextbox1.value.split('{{sprotect}}')[1]; 
window.open('http://en.wikipedia.org/w/index.php?title=Wikipedia:List_of_protected_pages&amp;action=edit&amp;section=' + otherpro + '&amp;fakeaction=pdelist&amp;faketarget=' + target,
              'targetname',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
var go = 'yes';
     }
    else
     {
document.editform.wpSummary.value = 'Unprotected';
var before = document.editform.wpTextbox1.value.split('{{sprotect}}')[0]; 
var after = document.editform.wpTextbox1.value.split(before + '{{sprotect}}')[1];
document.editform.wpTextbox1.value = before + after;
window.open('http://en.wikipedia.org/w/index.php?title=Wikipedia:List_of_protected_pages&amp;action=edit&amp;section=' + otherpro + '&amp;fakeaction=pdelist&amp;faketarget=' + target,
              'targetname',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
var go = 'yes';
     }
  }
  else if (document.editform.wpTextbox1.value.split('{{sprotected}}')[1] != undefined)
  {
    if (document.editform.wpTextbox1.value.split('{{sprotected}}')[0] == '')
     {
document.editform.wpSummary.value = 'Unprotected';
document.editform.wpTextbox1.value = document.editform.wpTextbox1.value.split('{{sprotected}}')[1];
window.open('http://en.wikipedia.org/w/index.php?title=Wikipedia:List_of_protected_pages&amp;action=edit&amp;section=' + otherpro + '&amp;fakeaction=pdelist&amp;faketarget=' + target,
              'targetname',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
var go = 'yes';
     }
    else
     {
document.editform.wpSummary.value = 'Unprotected';
var before = document.editform.wpTextbox1.value.split('{{sprotected}}')[0]; 
var after = document.editform.wpTextbox1.value.split(before + '{{sprotected}}')[1];
document.editform.wpTextbox1.value = before + after;
window.open('http://en.wikipedia.org/w/index.php?title=Wikipedia:List_of_protected_pages&amp;action=edit&amp;section=' + otherpro + '&amp;fakeaction=pdelist&amp;faketarget=' + target,
              'targetname',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
var go = 'yes';
     }
  }
  else if (document.editform.wpTextbox1.value.split('{{protect}}')[1] != undefined)
  {
    if (document.editform.wpTextbox1.value.split('{{protect}}')[0] == '')
     {
document.editform.wpSummary.value = 'Unprotected';
document.editform.wpTextbox1.value = document.editform.wpTextbox1.value.split('{{protect}}')[1]; 
window.open('http://en.wikipedia.org/w/index.php?title=Wikipedia:List_of_protected_pages&amp;action=edit&amp;section=' + otherpro + '&amp;fakeaction=pdelist&amp;faketarget=' + target,
              'targetname',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
var go = 'yes';
     }
    else
     {
document.editform.wpSummary.value = 'Unprotected';
var before = document.editform.wpTextbox1.value.split('{{protect}}')[0]; 
var after = document.editform.wpTextbox1.value.split(before + '{{protect}}')[1];
document.editform.wpTextbox1.value = before + after;
window.open('http://en.wikipedia.org/w/index.php?title=Wikipedia:List_of_protected_pages&amp;action=edit&amp;section=' + otherpro + '&amp;fakeaction=pdelist&amp;faketarget=' + target,
              'targetname',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
var go = 'yes';
     }
  }
  else if (document.editform.wpTextbox1.value.split('{{protected}}')[1] != undefined)
  {
    if (document.editform.wpTextbox1.value.split('{{protected}}')[0] == '')
     {
document.editform.wpSummary.value = 'Unprotected';
document.editform.wpTextbox1.value = document.editform.wpTextbox1.value.split('{{protected}}')[1]; 
window.open('http://en.wikipedia.org/w/index.php?title=Wikipedia:List_of_protected_pages&amp;action=edit&amp;section=' + otherpro + '&amp;fakeaction=pdelist&amp;faketarget=' + target,
              'targetname',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
var go = 'yes';
     }
    else
     {
document.editform.wpSummary.value = 'Unprotected';
var before = document.editform.wpTextbox1.value.split('{{protected}}')[0]; 
var after = document.editform.wpTextbox1.value.split(before + '{{protected}}')[1];
document.editform.wpTextbox1.value = before + after;
window.open('http://en.wikipedia.org/w/index.php?title=Wikipedia:List_of_protected_pages&amp;action=edit&amp;section=' + otherpro + '&amp;fakeaction=pdelist&amp;faketarget=' + target,
              'targetname',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
var go = 'yes';
     }
  }
  else if (document.editform.wpTextbox1.value.split('{{moveprotect}}')[1] != undefined)
  {
    if (document.editform.wpTextbox1.value.split('{{moveprotect}}')[0] == '')
     {
document.editform.wpSummary.value = 'Unprotected';
document.editform.wpTextbox1.value = document.editform.wpTextbox1.value.split('{{moveprotect}}')[1];
var go = 'yes';
window.open('http://en.wikipedia.org/w/index.php?title=Wikipedia:List_of_protected_pages&amp;action=edit&amp;section=' + movesec + '&amp;fakeaction=pdelist&amp;faketarget=' + target,
              'targetnamem',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
     } 
    else
     {
document.editform.wpSummary.value = 'Unprotected';
var before = document.editform.wpTextbox1.value.split('{{moveprotect}}')[0]; 
var after = document.editform.wpTextbox1.value.split(before + '{{moveprotect}}')[1];
document.editform.wpTextbox1.value = before + after;
window.open('http://en.wikipedia.org/w/index.php?title=Wikipedia:List_of_protected_pages&amp;action=edit&amp;section=' + movesec + '&amp;fakeaction=pdelist&amp;faketarget=' + target,
              'targetnamem',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
     }
  }
  else if (document.editform.wpTextbox1.value.split('{{moveprotected}}')[1] != undefined)
  {
    if (document.editform.wpTextbox1.value.split('{{moveprotected}}')[0] == '')
     {
document.editform.wpSummary.value = 'Unprotected';
document.editform.wpTextbox1.value = document.editform.wpTextbox1.value.split('{{moveprotected}}')[1]; 
window.open('http://en.wikipedia.org/w/index.php?title=Wikipedia:List_of_protected_pages&amp;action=edit&amp;section=' + movesec + '&amp;fakeaction=pdelist&amp;faketarget=' + target,
              'targetnamem',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
var go = 'yes';
     } 
    else
     {
document.editform.wpSummary.value = 'Unprotected';
var before = document.editform.wpTextbox1.value.split('{{moveprotected}}')[0]; 
var after = document.editform.wpTextbox1.value.split(before + '{{moveprotected}}')[1];
document.editform.wpTextbox1.value = before + after;
window.open('http://en.wikipedia.org/w/index.php?title=Wikipedia:List_of_protected_pages&amp;action=edit&amp;section=' + movesec + '&amp;fakeaction=pdelist&amp;faketarget=' + target,
              'targetnamem',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
var go = 'yes';
    }
  }
  else
  {
alert(&quot;Error: There is no recognized protection tag on this page.&quot;);
  }
  if (go == 'no')
  {
alert(&quot;Error: The protection tag is preceded by text (in which case you have to remove it manually).&quot;);
  }
  if (go == 'yes')
  {
window.open('http://en.wikipedia.org/w/index.php?title=' + target + '&amp;action=protect',
              'targetnamep',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
  }
}

//USERPAGE UNPROTECT
function uunprotect()
{
//This is for if people skrew with the WP:PP page layout
  var movesec = 7;
  var artfull = 10;
  var artsemi = 11;
  var otherpro = 13;
  var userfull = 16;  
  var usersemi = 17;
  var regtalk = 18;  
  var anontalk = 19;
//End of WP:PP constants
  var undefined;
  if (document.title.indexOf(&quot;Editing User talk:&quot;) != -1)
    {
    value = 't'; 
    }
  if (document.title.indexOf(&quot;Editing User:&quot;) != -1)
    {
    value = 'u';
    }
  var original = document.editform.wpTextbox1.value;
  var target = document.editform.action;
  target = target.substring(target.indexOf('title=') + 6, target.lastIndexOf('&amp;action=submit'));
  if (value == 'u')
      {
      type = 17;
      }
  else if (value == 't')
      {
      var reg = prompt('Is this an anon or a registered user (enter *a* or *r*)?');
         if (reg == 'a')
             {
            type = 19;
             }
         else if (reg == 'r')
             {
            type = 18;
             }
         else
             {
            alert(&quot;Error: Invalid input. Make sure you are not actually including the asterisk symbols.&quot;);
            return;
             }
      }
  else
      {
      alert(&quot;Error: Invalid input. Make sure you are not actually including the asterisk symbols.&quot;);
      return;
      }
//Tag search
  if (document.editform.wpTextbox1.value.split('{{sprotect}}')[1] != undefined)
  {
    if (document.editform.wpTextbox1.value.split('{{sprotect}}')[0] == '')
     {
     if (value == 'u')
      {
document.editform.wpSummary.value = 'Unprotected';
document.editform.wpTextbox1.value = document.editform.wpTextbox1.value.split('{{sprotect}}')[1]; 
window.open('http://en.wikipedia.org/w/index.php?title=Wikipedia:List_of_protected_pages&amp;action=edit&amp;section=' + usersemi + '&amp;fakeaction=pdelist&amp;faketarget=' + target,
              'targetname',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
      }
     else if (value == 't')
      {
        if (reg == 'a')
          {
document.editform.wpSummary.value = 'Unprotected';
document.editform.wpTextbox1.value = document.editform.wpTextbox1.value.split('{{sprotect}}')[1]; 
window.open('http://en.wikipedia.org/w/index.php?title=Wikipedia:List_of_protected_pages&amp;action=edit&amp;section=' + anontalk + '&amp;fakeaction=pdelist&amp;faketarget=' + target,
              'targetname',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
          }
        else if (reg == 'r')
          {
document.editform.wpSummary.value = 'Unprotected';
document.editform.wpTextbox1.value = document.editform.wpTextbox1.value.split('{{sprotect}}')[1]; 
window.open('http://en.wikipedia.org/w/index.php?title=Wikipedia:List_of_protected_pages&amp;action=edit&amp;section=' + regtalk + '&amp;fakeaction=pdelist&amp;faketarget=' + target,
              'targetname',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
          }
      }
   }
}
  else if (document.editform.wpTextbox1.value.split('{{vprotect}}')[1] != undefined)
  {
    if (document.editform.wpTextbox1.value.split('{{vprotect}}')[0] == '')
     {
     if (value == 'u')
      {
document.editform.wpSummary.value = 'Unprotected';
document.editform.wpTextbox1.value = document.editform.wpTextbox1.value.split('{{vprotect}}')[1]; 
window.open('http://en.wikipedia.org/w/index.php?title=Wikipedia:List_of_protected_pages&amp;action=edit&amp;section=' + userfull + '&amp;fakeaction=pdelist&amp;faketarget=' + target,
              'targetname',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
      }
     else if (value == 't')
      {
        if (reg == 'a')
          {
document.editform.wpSummary.value = 'Unprotected';
document.editform.wpTextbox1.value = document.editform.wpTextbox1.value.split('{{vprotect}}')[1]; 
window.open('http://en.wikipedia.org/w/index.php?title=Wikipedia:List_of_protected_pages&amp;action=edit&amp;section=' + anontalk + '&amp;fakeaction=pdelist&amp;faketarget=' + target,
              'targetname',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
          }
        else if (reg == 'r')
          {
document.editform.wpSummary.value = 'Unprotected';
document.editform.wpTextbox1.value = document.editform.wpTextbox1.value.split('{{vprotect}}')[1]; 
window.open('http://en.wikipedia.org/w/index.php?title=Wikipedia:List_of_protected_pages&amp;action=edit&amp;section=' + regtalk + '&amp;fakeaction=pdelist&amp;faketarget=' + target,
              'targetname',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
          }
      }
   }
}
  else if (document.editform.wpTextbox1.value.split('{{vutprotected}}')[1] != undefined)
  {
    if (document.editform.wpTextbox1.value.split('{{vutprotected}}')[0] == '')
     {
     if (value == 'u')
      {
document.editform.wpSummary.value = 'Unprotected';
document.editform.wpTextbox1.value = document.editform.wpTextbox1.value.split('{{vutprotected}}')[1]; 
window.open('http://en.wikipedia.org/w/index.php?title=Wikipedia:List_of_protected_pages&amp;action=edit&amp;section=' + userfull + '&amp;fakeaction=pdelist&amp;faketarget=' + target,
              'targetname',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
      }
     else if (value == 't')
      {
        if (reg == 'a')
          {
document.editform.wpSummary.value = 'Unprotected';
document.editform.wpTextbox1.value = document.editform.wpTextbox1.value.split('{{vutprotected}}')[1]; 
window.open('http://en.wikipedia.org/w/index.php?title=Wikipedia:List_of_protected_pages&amp;action=edit&amp;section=' + anontalk + '&amp;fakeaction=pdelist&amp;faketarget=' + target,
              'targetname',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
          }
        else if (reg == 'r')
          {
document.editform.wpSummary.value = 'Unprotected';
document.editform.wpTextbox1.value = document.editform.wpTextbox1.value.split('{{vutprotected}}')[1]; 
window.open('http://en.wikipedia.org/w/index.php?title=Wikipedia:List_of_protected_pages&amp;action=edit&amp;section=' + regtalk + '&amp;fakeaction=pdelist&amp;faketarget=' + target,
              'targetname',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
          }
      }
   }
}
else if (document.editform.wpTextbox1.value.split('{{vprotected}}')[1] != undefined)
  {
    if (document.editform.wpTextbox1.value.split('{{vprotected}}')[0] == '')
     {
     if (value == 'u')
      {
document.editform.wpSummary.value = 'Unprotected';
document.editform.wpTextbox1.value = document.editform.wpTextbox1.value.split('{{vprotected}}')[1]; 
window.open('http://en.wikipedia.org/w/index.php?title=Wikipedia:List_of_protected_pages&amp;action=edit&amp;section=' + userfull + '&amp;fakeaction=pdelist&amp;faketarget=' + target,
              'targetname',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
      }
     else if (value == 't')
      {
        if (reg == 'a')
          {
document.editform.wpSummary.value = 'Unprotected';
document.editform.wpTextbox1.value = document.editform.wpTextbox1.value.split('{{vprotected}}')[1]; 
window.open('http://en.wikipedia.org/w/index.php?title=Wikipedia:List_of_protected_pages&amp;action=edit&amp;section=' + anontalk + '&amp;fakeaction=pdelist&amp;faketarget=' + target,
              'targetname',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
          }
        else if (reg == 'r')
          {
document.editform.wpSummary.value = 'Unprotected';
document.editform.wpTextbox1.value = document.editform.wpTextbox1.value.split('{{vprotected}}')[1]; 
window.open('http://en.wikipedia.org/w/index.php?title=Wikipedia:List_of_protected_pages&amp;action=edit&amp;section=' + regtalk + '&amp;fakeaction=pdelist&amp;faketarget=' + target,
              'targetname',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
          }
      }
   }
}
  else if (document.editform.wpTextbox1.value.split('{{sprotected}}')[1] != undefined)
  {
    if (document.editform.wpTextbox1.value.split('{{sprotected}}')[0] == '')
     {
     if (value == 'u')
      {
document.editform.wpSummary.value = 'Unprotected';
document.editform.wpTextbox1.value = document.editform.wpTextbox1.value.split('{{sprotected}}')[1]; 
window.open('http://en.wikipedia.org/w/index.php?title=Wikipedia:List_of_protected_pages&amp;action=edit&amp;section=' + usersemi + '&amp;fakeaction=pdelist&amp;faketarget=' + target,
              'targetname',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
      }
     else if (value == 't')
      {
        if (reg == 'a')
          {
document.editform.wpSummary.value = 'Unprotected';
document.editform.wpTextbox1.value = document.editform.wpTextbox1.value.split('{{sprotected}}')[1]; 
window.open('http://en.wikipedia.org/w/index.php?title=Wikipedia:List_of_protected_pages&amp;action=edit&amp;section=' + anontalk + '&amp;fakeaction=pdelist&amp;faketarget=' + target,
              'targetname',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
          }
        else if (reg == 'r')
          {
document.editform.wpSummary.value = 'Unprotected';
document.editform.wpTextbox1.value = document.editform.wpTextbox1.value.split('{{sprotected}}')[1]; 
window.open('http://en.wikipedia.org/w/index.php?title=Wikipedia:List_of_protected_pages&amp;action=edit&amp;section=' + regtalk + '&amp;fakeaction=pdelist&amp;faketarget=' + target,
              'targetname',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
          }
      }
   }
}
 else if (document.editform.wpTextbox1.value.split('{{Usertalk-sprotect}}')[1] != undefined)
  {
    if (document.editform.wpTextbox1.value.split('{{Usertalk-sprotect}}')[0] == '')
     {
     if (value == 'u')
      {
document.editform.wpSummary.value = 'Unprotected';
document.editform.wpTextbox1.value = document.editform.wpTextbox1.value.split('{{Usertalk-sprotect}}')[1]; 
window.open('http://en.wikipedia.org/w/index.php?title=Wikipedia:List_of_protected_pages&amp;action=edit&amp;section=' + usersemi + '&amp;fakeaction=pdelist&amp;faketarget=' + target,
              'targetname',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
      }
     else if (value == 't')
      {
        if (reg == 'a')
          {
document.editform.wpSummary.value = 'Unprotected';
document.editform.wpTextbox1.value = document.editform.wpTextbox1.value.split('{{Usertalk-sprotect}}')[1]; 
window.open('http://en.wikipedia.org/w/index.php?title=Wikipedia:List_of_protected_pages&amp;action=edit&amp;section=' + anontalk + '&amp;fakeaction=pdelist&amp;faketarget=' + target,
              'targetname',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
          }
        else if (reg == 'r')
          {
document.editform.wpSummary.value = 'Unprotected';
document.editform.wpTextbox1.value = document.editform.wpTextbox1.value.split('{{Usertalk-sprotect}}')[1]; 
window.open('http://en.wikipedia.org/w/index.php?title=Wikipedia:List_of_protected_pages&amp;action=edit&amp;section=' + regtalk + '&amp;fakeaction=pdelist&amp;faketarget=' + target,
              'targetname',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
          }
      }
   }
}
 else if (document.editform.wpTextbox1.value.split('{{usertalk-sprotect}}')[1] != undefined)
  {
    if (document.editform.wpTextbox1.value.split('{{usertalk-sprotect}}')[0] == '')
     {
     if (value == 'u')
      {
document.editform.wpSummary.value = 'Unprotected';
document.editform.wpTextbox1.value = document.editform.wpTextbox1.value.split('{{usertalk-sprotect}}')[1]; 
window.open('http://en.wikipedia.org/w/index.php?title=Wikipedia:List_of_protected_pages&amp;action=edit&amp;section=' + usersemi + '&amp;fakeaction=pdelist&amp;faketarget=' + target,
              'targetname',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
      }
     else if (value == 't')
      {
        if (reg == 'a')
          {
document.editform.wpSummary.value = 'Unprotected';
document.editform.wpTextbox1.value = document.editform.wpTextbox1.value.split('{{usertalk-sprotect}}')[1]; 
window.open('http://en.wikipedia.org/w/index.php?title=Wikipedia:List_of_protected_pages&amp;action=edit&amp;section=' + anontalk + '&amp;fakeaction=pdelist&amp;faketarget=' + target,
              'targetname',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
          }
        else if (reg == 'r')
          {
document.editform.wpSummary.value = 'Unprotected';
document.editform.wpTextbox1.value = document.editform.wpTextbox1.value.split('{{usertalk-sprotect}}')[1]; 
window.open('http://en.wikipedia.org/w/index.php?title=Wikipedia:List_of_protected_pages&amp;action=edit&amp;section=' + regtalk + '&amp;fakeaction=pdelist&amp;faketarget=' + target,
              'targetname',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
          }
      }
   }
}
  else if (document.editform.wpTextbox1.value.split('{{protect}}')[1] != undefined)
  {
    if (document.editform.wpTextbox1.value.split('{{protect}}')[0] == '')
     {
     if (value == 'u')
      {
document.editform.wpSummary.value = 'Unprotected';
document.editform.wpTextbox1.value = document.editform.wpTextbox1.value.split('{{protect}}')[1]; 
window.open('http://en.wikipedia.org/w/index.php?title=Wikipedia:List_of_protected_pages&amp;action=edit&amp;section=' + userfull + '&amp;fakeaction=pdelist&amp;faketarget=' + target,
              'targetname',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
      }
     else if (value == 't')
      {
        if (reg == 'a')
          {
document.editform.wpSummary.value = 'Unprotected';
document.editform.wpTextbox1.value = document.editform.wpTextbox1.value.split('{{protect}}')[1]; 
window.open('http://en.wikipedia.org/w/index.php?title=Wikipedia:List_of_protected_pages&amp;action=edit&amp;section=' + anontalk + '&amp;fakeaction=pdelist&amp;faketarget=' + target,
              'targetname',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
          }
        else if (reg == 'r')
          {
document.editform.wpSummary.value = 'Unprotected';
document.editform.wpTextbox1.value = document.editform.wpTextbox1.value.split('{{protect}}')[1]; 
window.open('http://en.wikipedia.org/w/index.php?title=Wikipedia:List_of_protected_pages&amp;action=edit&amp;section=' + regtalk + '&amp;fakeaction=pdelist&amp;faketarget=' + target,
              'targetname',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
          }
      }
   }
}
  else if (document.editform.wpTextbox1.value.split('{{protected}}')[1] != undefined)
  {
    if (document.editform.wpTextbox1.value.split('{{protected}}')[0] == '')
     {
     if (value == 'u')
      {
document.editform.wpSummary.value = 'Unprotected';
document.editform.wpTextbox1.value = document.editform.wpTextbox1.value.split('{{protected}}')[1]; 
window.open('http://en.wikipedia.org/w/index.php?title=Wikipedia:List_of_protected_pages&amp;action=edit&amp;section=' + userfull + '&amp;fakeaction=pdelist&amp;faketarget=' + target,
              'targetname',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
      }
     else if (value == 't')
      {
        if (reg == 'a')
          {
document.editform.wpSummary.value = 'Unprotected';
document.editform.wpTextbox1.value = document.editform.wpTextbox1.value.split('{{protected}}')[1]; 
window.open('http://en.wikipedia.org/w/index.php?title=Wikipedia:List_of_protected_pages&amp;action=edit&amp;section=' + anontalk + '&amp;fakeaction=pdelist&amp;faketarget=' + target,
              'targetname',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
          }
        else if (reg == 'r')
          {
document.editform.wpSummary.value = 'Unprotected';
document.editform.wpTextbox1.value = document.editform.wpTextbox1.value.split('{{protected}}')[1]; 
window.open('http://en.wikipedia.org/w/index.php?title=Wikipedia:List_of_protected_pages&amp;action=edit&amp;section=' + regtalk + '&amp;fakeaction=pdelist&amp;faketarget=' + target,
              'targetname',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
          }
      }
   }
}
  else if (document.editform.wpTextbox1.value.split('{{moveprotect}}')[1] != undefined)
  {
    if (document.editform.wpTextbox1.value.split('{{moveprotect}}')[0] == '')
     {
document.editform.wpSummary.value = 'Unprotected';
document.editform.wpTextbox1.value = document.editform.wpTextbox1.value.split('{{moveprotect}}')[1];
     } 
  }
  else if (document.editform.wpTextbox1.value.split('{{moveprotected}}')[1] != undefined)
  {
    if (document.editform.wpTextbox1.value.split('{{moveprotected}}')[0] == '')
     {
document.editform.wpSummary.value = 'Unprotected';
document.editform.wpTextbox1.value = document.editform.wpTextbox1.value.split('{{moveprotected}}')[1]; 
     } 
  }
//No tag found...what now?
 else
  {
  var message = &quot;Note: Either there is no recognized protection tag on this page or it is preceded by text. Press OK to continue.&quot;;
  var return_value = confirm(message);
//If they click OK
  if (return_value == true)
    {
    if (value == 't')
      {
     if (reg == 'a')
       {
window.open('http://en.wikipedia.org/w/index.php?title=Wikipedia:List_of_protected_pages&amp;action=edit&amp;section=' + anontalk + '&amp;fakeaction=pdelist&amp;faketarget=' + target,
              'targetname',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');   
       }
     else if (reg == 'r')
       {
window.open('http://en.wikipedia.org/w/index.php?title=Wikipedia:List_of_protected_pages&amp;action=edit&amp;section=' + regtalk + '&amp;fakeaction=pdelist&amp;faketarget=' + target,
              'targetname',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');  
       }
     else
       {
     alert(&quot;An unknown error has occured. Please contact User:Voice of All for help.&quot;);
       }
     }
    if (value == 'u')
     { 
var level = prompt(&quot;Page no longer semi or fully protected (enter *s* or *f*)?&quot;);
     if (level == 's')
        {
window.open('http://en.wikipedia.org/w/index.php?title=Wikipedia:List_of_protected_pages&amp;action=edit&amp;section=' + usersemi + '&amp;fakeaction=pdelist&amp;faketarget=' + target,
              'targetname',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');  
        }
     else if (level == 'f')
        {
window.open('http://en.wikipedia.org/w/index.php?title=Wikipedia:List_of_protected_pages&amp;action=edit&amp;section=' + userfull + '&amp;fakeaction=pdelist&amp;faketarget=' + target,
              'targetname',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');   
        }
     else
        {
       alert(&quot;Invalid input.&quot;); 
       return;
        }
      }
   else if (value != 'u' &amp;&amp; value != 't')
       {
      alert(&quot;An unknown page recognition error has occured. Please contact User:Voice of All for help.&quot;); 
       }
     }
   else 
     { 
   document.editform.wpSummary.value = &quot;&quot;;
   return;
     } 
   }
window.open('http://en.wikipedia.org/w/index.php?title=' + target + '&amp;action=protect',
              'targetnameu',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes');
         return;
 } 

addOnloadHook(autoplist);

function autoplist()
{
  if (document.title.indexOf('Editing ') == 0)
    {
      var action = '';
      var target = '';
      if (location.search)
        {
          var l = location.search.substring(1).split('&amp;');
          for (var i = 0; i &lt; l.length; ++i)
            {
              var eq = l[i].indexOf('=');
              var name = l[i].substring(0, eq);
              if (name == 'fakeaction')
                action = l[i].substring(eq + 1);
              else if (name == 'faketarget')
                target = unescape(l[i].substring(eq + 1)).replace(/_/g, ' ');
            }
        }
      if (action == 'plist')
        {
         var pagename = strip_namespace(target);
         var original = document.editform.wpTextbox1.value;
         document.editform.wpTextbox1.value = pagename;
         var username = document.editform.wpTextbox1.value.split(&quot;User:&quot;)[1];
         var usertalk = document.editform.wpTextbox1.value.split(&quot;User talk:&quot;)[1];
         var themovename = document.editform.wpTextbox1.value.split(&quot;Wikipedia:&quot;)[1];
         var themove = &quot;*{{Non-article|Wikipedia|&quot; + themovename + &quot;}}&quot;;
         var thepage = &quot;*{{article|&quot; + target + &quot;}}&quot;;
         var thepage2 = &quot;* {{article|&quot; + target + &quot;}}&quot;;
         var lapage = &quot;*{{la|&quot; + target + &quot;}}&quot;;
         var theuser = &quot;*[[&quot; + target + &quot;]]&quot;;
         var vandaltalk = &quot;*{{vandal|&quot; + usertalk + &quot;}}&quot;;
         document.editform.wpTextbox1.value = original;
            if (document.editform.wpTextbox1.value.split(theuser)[1] != undefined) 
            {
            var errorl = 'yes';
            }
            else if (document.editform.wpTextbox1.value.split(vandaltalk)[1] != undefined) 
            {
            var errorl = 'yes';
            }
            else if (document.editform.wpTextbox1.value.split(themove)[1] != undefined) 
            {
            var errorl = 'yes';
            }
            else if (document.editform.wpTextbox1.value.split(thepage)[1] != undefined) 
            {
            var errorl = 'yes';
            }
            else if (document.editform.wpTextbox1.value.split(thepage2)[1] != undefined) 
            {
            var errorl = 'yes';
            }
            else if (document.editform.wpTextbox1.value.split(lapage)[1] != undefined) 
            {
            var errorl = 'yes';
            }
         if (errorl == 'yes')
            {  
            alert(&quot;Error: The page is already listed.&quot;);
            return;
            }  
         else
            {        
  var reason = prompt(&quot;Enter an explanation for protection:&quot;)
  var f = document.editform, t = f.wpTextbox1;
  if (t.value.length &gt; 0)
    t.value += '\n';
  t.value +=&quot;*{{article|&quot; + pagename + &quot;}}. &quot; + reason + &quot;. &quot; + &quot;~&quot; + &quot;~&quot; + &quot;~&quot; + &quot;~&quot;;
  f.wpSummary.value = &quot;[[&quot; + pagename + &quot;]] protected; adding to list.&quot;;
            }
        }
    }
}

addOnloadHook(autouplist);

function autouplist()
{
  if (document.title.indexOf('Editing ') == 0)
    {
      var action = '';
      var target = '';
      if (location.search)
        {
          var l = location.search.substring(1).split('&amp;');
          for (var i = 0; i &lt; l.length; ++i)
            {
              var eq = l[i].indexOf('=');
              var name = l[i].substring(0, eq);
              if (name == 'fakeaction')
                action = l[i].substring(eq + 1);
              else if (name == 'faketarget')
                target = unescape(l[i].substring(eq + 1)).replace(/_/g, ' ');
            }
        }
      if (action == 'uplist')
        {
  var username = target.split(&quot;User:&quot;)[1];
         var pagename = strip_namespace(target);
         var original = document.editform.wpTextbox1.value;
         document.editform.wpTextbox1.value = pagename;
         var username = document.editform.wpTextbox1.value.split(&quot;User:&quot;)[1];
         var usertalk = document.editform.wpTextbox1.value.split(&quot;User talk:&quot;)[1];
         var themovename = document.editform.wpTextbox1.value.split(&quot;Wikipedia:&quot;)[1];
         var themove = &quot;*{{Non-article|Wikipedia|&quot; + themovename + &quot;}}&quot;;
         var thepage = &quot;*{{article|&quot; + target + &quot;}}&quot;;
         var thepage2 = &quot;* {{article|&quot; + target + &quot;}}&quot;;
         var lapage = &quot;*{{la|&quot; + target + &quot;}}&quot;;
         var theuser = &quot;*[[&quot; + target + &quot;]]&quot;;
         var vandaltalk = &quot;*{{vandal|&quot; + usertalk + &quot;}}&quot;;
         document.editform.wpTextbox1.value = original;
            if (document.editform.wpTextbox1.value.split(theuser)[1] != undefined) 
            {
            var errorl = 'yes';
            }
            else if (document.editform.wpTextbox1.value.split(vandaltalk)[1] != undefined) 
            {
            var errorl = 'yes';
            }
            else if (document.editform.wpTextbox1.value.split(themove)[1] != undefined) 
            {
            var errorl = 'yes';
            }
            else if (document.editform.wpTextbox1.value.split(thepage)[1] != undefined) 
            {
            var errorl = 'yes';
            }
            else if (document.editform.wpTextbox1.value.split(thepage2)[1] != undefined) 
            {
            var errorl = 'yes';
            }
            else if (document.editform.wpTextbox1.value.split(lapage)[1] != undefined) 
            {
            var errorl = 'yes';
            }
         if (errorl == 'yes')
            {  
            alert(&quot;Error: The page is already listed.&quot;);
            return;
            } 
         else
            { 
  var reason = prompt(&quot;Enter an explanation for protection:&quot;)
  var f = document.editform, t = f.wpTextbox1;
  if (t.value.length &gt; 0)
    t.value += '\n';
  t.value +=&quot;*[[User:&quot; + pagename + &quot;]] --&quot; + reason + &quot;. &quot; + &quot;~&quot; + &quot;~&quot; + &quot;~&quot; + &quot;~&quot;;
  f.wpSummary.value = &quot;[[&quot; + pagename + &quot;]]&quot; + &quot; protected; adding to list.&quot;;
            } 
        }
    }
}

addOnloadHook(autoutplist);

function autoutplist()
{
  if (document.title.indexOf('Editing ') == 0)
    {
      var action = '';
      var target = '';
      if (location.search)
        {
          var l = location.search.substring(1).split('&amp;');
          for (var i = 0; i &lt; l.length; ++i)
            {
              var eq = l[i].indexOf('=');
              var name = l[i].substring(0, eq);
              if (name == 'fakeaction')
                action = l[i].substring(eq + 1);
              else if (name == 'faketarget')
                target = unescape(l[i].substring(eq + 1)).replace(/_/g, ' ');
            }
        }
      if (action == 'utplist')
        {
  var username = target.split(&quot;User talk:&quot;)[1];
         var pagename = strip_namespace(target);
         var original = document.editform.wpTextbox1.value;
         document.editform.wpTextbox1.value = pagename;
         var username = document.editform.wpTextbox1.value.split(&quot;User:&quot;)[1];
         var usertalk = document.editform.wpTextbox1.value.split(&quot;User talk:&quot;)[1];
         var themovename = document.editform.wpTextbox1.value.split(&quot;Wikipedia:&quot;)[1];
         var themove = &quot;*{{Non-article|Wikipedia|&quot; + themovename + &quot;}}&quot;;
         var thepage = &quot;*{{article|&quot; + target + &quot;}}&quot;;
         var thepage2 = &quot;* {{article|&quot; + target + &quot;}}&quot;;
         var lapage = &quot;*{{la|&quot; + target + &quot;}}&quot;;
         var theuser = &quot;*[[&quot; + target + &quot;]]&quot;;
         var vandaltalk = &quot;*{{vandal|&quot; + usertalk + &quot;}}&quot;;
         document.editform.wpTextbox1.value = original;
            if (document.editform.wpTextbox1.value.split(theuser)[1] != undefined) 
            {
            var errorl = 'yes';
            }
            else if (document.editform.wpTextbox1.value.split(vandaltalk)[1] != undefined) 
            {
            var errorl = 'yes';
            }
            else if (document.editform.wpTextbox1.value.split(themove)[1] != undefined) 
            {
            var errorl = 'yes';
            }
            else if (document.editform.wpTextbox1.value.split(thepage)[1] != undefined) 
            {
            var errorl = 'yes';
            }
            else if (document.editform.wpTextbox1.value.split(thepage2)[1] != undefined) 
            {
            var errorl = 'yes';
            }
            else if (document.editform.wpTextbox1.value.split(lapage)[1] != undefined) 
            {
            var errorl = 'yes';
            }
         if (errorl == 'yes')
            {  
            alert(&quot;Error: The page is already listed.&quot;);
            return;
            } 
         else
            {
  var reason = prompt(&quot;Enter an explanation for protection:&quot;)
  var f = document.editform, t = f.wpTextbox1;
  if (t.value.length &gt; 0)
    t.value += '\n';
  t.value +=&quot;*{{vandal|&quot; + pagename + &quot;}} --&quot; + reason + &quot;. &quot; + &quot;~&quot; + &quot;~&quot; + &quot;~&quot; + &quot;~&quot;;
  f.wpSummary.value = &quot;[[&quot; + pagename + &quot;]]&quot; + &quot; protected; adding to list.&quot;;
            }
        }
    }
}

addOnloadHook(autooplist);

function autooplist()
{
  if (document.title.indexOf('Editing ') == 0)
    {
      var action = '';
      var target = '';
      if (location.search)
        {
          var l = location.search.substring(1).split('&amp;');
          for (var i = 0; i &lt; l.length; ++i)
            {
              var eq = l[i].indexOf('=');
              var name = l[i].substring(0, eq);
              if (name == 'fakeaction')
                action = l[i].substring(eq + 1);
              else if (name == 'faketarget')
                target = unescape(l[i].substring(eq + 1)).replace(/_/g, ' ');
            }
        }
      if (action == 'oplist')
        {
  var pagename = strip_namespace(target);
         var original = document.editform.wpTextbox1.value;
         document.editform.wpTextbox1.value = pagename;
         var username = document.editform.wpTextbox1.value.split(&quot;User:&quot;)[1];
         var usertalk = document.editform.wpTextbox1.value.split(&quot;User talk:&quot;)[1];
         var themovename = document.editform.wpTextbox1.value.split(&quot;Wikipedia:&quot;)[1];
         var themove = &quot;*{{Non-article|Wikipedia|&quot; + themovename + &quot;}}&quot;;
         var thepage = &quot;*{{article|&quot; + target + &quot;}}&quot;;
         var thepage2 = &quot;* {{article|&quot; + target + &quot;}}&quot;;
         var lapage = &quot;*{{la|&quot; + target + &quot;}}&quot;;
         var theuser = &quot;*[[&quot; + target + &quot;]]&quot;;
         var vandaltalk = &quot;*{{vandal|&quot; + usertalk + &quot;}}&quot;;
         document.editform.wpTextbox1.value = original;
            if (document.editform.wpTextbox1.value.split(theuser)[1] != undefined) 
            {
            var errorl = 'yes';
            }
            else if (document.editform.wpTextbox1.value.split(vandaltalk)[1] != undefined) 
            {
            var errorl = 'yes';
            }
            else if (document.editform.wpTextbox1.value.split(themove)[1] != undefined) 
            {
            var errorl = 'yes';
            }
            else if (document.editform.wpTextbox1.value.split(thepage)[1] != undefined) 
            {
            var errorl = 'yes';
            }
            else if (document.editform.wpTextbox1.value.split(thepage2)[1] != undefined) 
            {
            var errorl = 'yes';
            }
            else if (document.editform.wpTextbox1.value.split(lapage)[1] != undefined) 
            {
            var errorl = 'yes';
            }
         if (errorl == 'yes')
            {  
            alert(&quot;Error: The page is already listed.&quot;);
            return;
            } 
         else
            {
  var reason = prompt(&quot;Enter an explanation for protection&quot;)
  var f = document.editform, t = f.wpTextbox1;
  if (t.value.length &gt; 0)
    t.value += '\n';
  t.value +=&quot;*{{Non-article|Wikipedia|&quot; + pagename + &quot;}}. &quot; + reason + &quot;. &quot; + &quot;~&quot; + &quot;~&quot; + &quot;~&quot; + &quot;~&quot;;
  f.wpSummary.value = &quot;[[&quot; + target + &quot;]]&quot; + &quot; protected; adding to list.&quot;;
            }
        }
    }
}

addOnloadHook(autopdelist);

function autopdelist()
{
  if (document.title.indexOf('Editing ') == 0)
    {
      var action = '';
      var target = '';
      if (location.search)
        {
          var l = location.search.substring(1).split('&amp;');
          for (var i = 0; i &lt; l.length; ++i)
            {
              var eq = l[i].indexOf('=');
              var name = l[i].substring(0, eq);
              if (name == 'fakeaction')
                action = l[i].substring(eq + 1);
              else if (name == 'faketarget')
                target = unescape(l[i].substring(eq + 1)).replace(/_/g, ' ');
            }
         }
      if (action == 'pdelist')
        {
         var undefined;
         var splitpoint = '';
         var nada = '';
         var pagename = strip_namespace(target);
         var original = document.editform.wpTextbox1.value;
         document.editform.wpTextbox1.value = pagename;
         var username = document.editform.wpTextbox1.value.split(&quot;User:&quot;)[1];
         var usertalk = document.editform.wpTextbox1.value.split(&quot;User talk:&quot;)[1];
         var themovename = document.editform.wpTextbox1.value.split(&quot;Wikipedia:&quot;)[1];
         var themove = &quot;*{{Non-article|Wikipedia|&quot; + themovename + &quot;}}&quot;;
         var thepage = &quot;*{{article|&quot; + target + &quot;}}&quot;;
         var thepage2 = &quot;* {{article|&quot; + target + &quot;}}&quot;;
         var lapage = &quot;*{{la|&quot; + target + &quot;}}&quot;;
         var theuser = &quot;*[[&quot; + target + &quot;]]&quot;;
         var vandaltalk = &quot;*{{vandal|&quot; + usertalk + &quot;}}&quot;;
         document.editform.wpTextbox1.value = original;
      if (document.editform.wpTextbox1.value.split(thepage)[1] != undefined)
        {
         if (document.editform.wpTextbox1.value.split(thepage)[0] != undefined)
           {
         var firsthalf = document.editform.wpTextbox1.value.split(thepage)[0];
         document.editform.wpTextbox1.value = document.editform.wpTextbox1.value.split(thepage)[1]; 
         splitpoint = document.editform.wpTextbox1.value.split(&quot;*{{&quot;)[0];
         document.editform.wpTextbox1.value = original;
              if (splitpoint.length &lt;= 3) 
                    {
         secondhalf = original.split(thepage)[1];
         document.editform.wpTextbox1.value = firsthalf + secondhalf;
         document.editform.wpSummary.value = &quot;[[&quot; + target + &quot;]] unprotected; delisting.&quot;;
         alert(&quot;The page has been located and de-listed. The de-listed page had no protection summary or explanation.&quot;);
                    }
              else 
                    {
                 if (splitpoint.split(&quot;* &quot; + &quot;{{&quot;)[1] != undefined) 
                       {
           splitpointb = splitpoint.split(&quot;* &quot; + &quot;{{&quot;)[0];
           secondhalf = document.editform.wpTextbox1.value.split(thepage + splitpointb)[1];
           document.editform.wpTextbox1.value = firsthalf + secondhalf;
           document.editform.wpSummary.value = &quot;[[&quot; + target + &quot;]] unprotected; delisting.&quot;;
           alert('The page has been located and de-listed. The protection explanation:' + '\n' + '------------' + '\n' + splitpointb + '\n' + '------------' + '\n' + '...was also removed. Please read this summary; avoid clicking &quot;save page&quot; if necessary.');
         return;
                       }
                 else 
                       {
           secondhalf = document.editform.wpTextbox1.value.split(thepage + splitpoint)[1];
           document.editform.wpTextbox1.value = firsthalf + secondhalf;
           document.editform.wpSummary.value = &quot;[[&quot; + target + &quot;]] unprotected; delisting.&quot;;
           alert('The page has been located and de-listed. The protection explanation:' + '\n' + '------------' + '\n' + splitpoint + '\n' + '------------' + '\n' + '...was also removed. Please read this summary; avoid clicking &quot;save page&quot; if necessary.');
         return;
                       }
           }
        }
     } 
      else if (document.editform.wpTextbox1.value.split(thepage2)[1] != undefined)
        {
         if (document.editform.wpTextbox1.value.split(thepage2)[0] != undefined)
           {
         var firsthalf = document.editform.wpTextbox1.value.split(thepage2)[0];
         document.editform.wpTextbox1.value = document.editform.wpTextbox1.value.split(thepage2)[1]; 
         splitpoint = document.editform.wpTextbox1.value.split(&quot;*{{&quot;)[0];
         document.editform.wpTextbox1.value = original;
              if (splitpoint.length &lt;= 3) 
                    {
         secondhalf = original.split(thepage2)[1];
         document.editform.wpTextbox1.value = firsthalf + secondhalf;
         document.editform.wpSummary.value = &quot;[[&quot; + target + &quot;]] unprotected; delisting.&quot;;
         alert(&quot;The page has been located and de-listed. The de-listed page had no protection summary or explanation.&quot;);
         return;
                    }
              else 
                    {
                 if (splitpoint.split(&quot;* &quot; + &quot;{{&quot;)[1] != undefined) 
                       {
           splitpointb = splitpoint.split(&quot;* &quot; + &quot;{{&quot;)[0];
           secondhalf = document.editform.wpTextbox1.value.split(thepage2 + splitpointb)[1];
           document.editform.wpTextbox1.value = firsthalf + secondhalf;
           document.editform.wpSummary.value = &quot;[[&quot; + target + &quot;]] unprotected; delisting.&quot;;
           alert('The page has been located and de-listed. The protection explanation:' + '\n' + '------------' + '\n' + splitpointb + '\n' + '------------' + '\n' + '...was also removed. Please read this summary; avoid clicking &quot;save page&quot; if necessary.');
         return;
                       }
                 else 
                       {
           secondhalf = document.editform.wpTextbox1.value.split(thepage2 + splitpoint)[1];
           document.editform.wpTextbox1.value = firsthalf + secondhalf;
           document.editform.wpSummary.value = &quot;[[&quot; + target + &quot;]] unprotected; delisting.&quot;;
           alert('The page has been located and de-listed. The protection explanation:' + '\n' + '------------' + '\n' + splitpoint + '\n' + '------------' + '\n' + '...was also removed. Please read this summary; avoid clicking &quot;save page&quot; if necessary.');
         return;
                       }
           }
        }
     }
      else if (document.editform.wpTextbox1.value.split(themove)[1] != undefined)
        {
         if (document.editform.wpTextbox1.value.split(themove)[0] != undefined)
           {
         var firsthalf = document.editform.wpTextbox1.value.split(themove)[0];
         document.editform.wpTextbox1.value = document.editform.wpTextbox1.value.split(themove)[1]; 
         splitpoint = document.editform.wpTextbox1.value.split(&quot;*{{&quot;)[0];
         document.editform.wpTextbox1.value = original;
              if (splitpoint.length &lt;= 3) 
                    {
         secondhalf = original.split(themove)[1];
         document.editform.wpTextbox1.value = firsthalf + secondhalf;
         document.editform.wpSummary.value = &quot;[[&quot; + target + &quot;]] unprotected; delisting.&quot;;
         alert(&quot;The page has been located and de-listed. The de-listed page had no protection summary or explanation.&quot;);
                    }
              else 
                    {
                 if (splitpoint.split(&quot;*&quot; + &quot;[[&quot;)[1] != undefined) 
                       {
           splitpointb = splitpoint.split(&quot;*&quot; + &quot;[[&quot;)[0];
           secondhalf = document.editform.wpTextbox1.value.split(themove + splitpointb)[1];
           document.editform.wpTextbox1.value = firsthalf + secondhalf;
           document.editform.wpSummary.value = &quot;[[&quot; + target + &quot;]] unprotected; delisting.&quot;;
           alert('The page has been located and de-listed. The protection explanation:' + '\n' + '------------' + '\n' + splitpointb + '\n' + '------------' + '\n' + '...was also removed. Please read this summary; avoid clicking &quot;save page&quot; if necessary.');
         return;
                       }
                 else 
                       {
           secondhalf = document.editform.wpTextbox1.value.split(themove + splitpoint)[1];
           document.editform.wpTextbox1.value = firsthalf + secondhalf;
           document.editform.wpSummary.value = &quot;[[&quot; + target + &quot;]] unprotected; delisting.&quot;;
           alert('The page has been located and de-listed. The protection explanation:' + '\n' + '------------' + '\n' + splitpoint + '\n' + '------------' + '\n' + '...was also removed. Please read this summary; avoid clicking &quot;save page&quot; if necessary.');
         return;
                       }
           }
        }
     } 
     else if (document.editform.wpTextbox1.value.split(lapage)[1] != undefined)
        {
         if (document.editform.wpTextbox1.value.split(lapage)[0] != undefined)
           {
         var firsthalf = document.editform.wpTextbox1.value.split(lapage)[0];
         document.editform.wpTextbox1.value = document.editform.wpTextbox1.value.split(lapage)[1]; 
         splitpoint = document.editform.wpTextbox1.value.split(&quot;*{{&quot;)[0];
         document.editform.wpTextbox1.value = original;
              if (splitpoint.length &lt;= 3) 
                    {
         secondhalf = original.split(lapage)[1];
         document.editform.wpTextbox1.value = firsthalf + secondhalf;
         document.editform.wpSummary.value = &quot;[[&quot; + target + &quot;]] unprotected; delisting.&quot;;
         alert(&quot;The page has been located and de-listed. The de-listed page had no protection summary or explanation.&quot;);
 	            }
              else 
                    {
                 if (splitpoint.split(&quot;*&quot; + &quot;[[&quot;)[1] != undefined) 
                       {
           splitpointb = splitpoint.split(&quot;*&quot; + &quot;[[&quot;)[0];
           secondhalf = document.editform.wpTextbox1.value.split(lapage + splitpointb)[1];
           document.editform.wpTextbox1.value = firsthalf + secondhalf;
           document.editform.wpSummary.value = &quot;[[&quot; + target + &quot;]] unprotected; delisting.&quot;;
           alert('The page has been located and de-listed. The protection explanation:' + '\n' + '------------' + '\n' + splitpointb + '\n' + '------------' + '\n' + '...was also removed. Please read this summary; avoid clicking &quot;save page&quot; if necessary.');
         return;
                       }
                 else 
                       {
           secondhalf = document.editform.wpTextbox1.value.split(lapage + splitpoint)[1];
           document.editform.wpTextbox1.value = firsthalf + secondhalf;
           document.editform.wpSummary.value = &quot;[[&quot; + target + &quot;]] unprotected; delisting.&quot;;
           alert('The page has been located and de-listed. The protection explanation:' + '\n' + '------------' + '\n' + splitpoint + '\n' + '------------' + '\n' + '...was also removed. Please read this summary; avoid clicking &quot;save page&quot; if necessary.');
         return;
                       }
           }
        }
     } 
else if (document.editform.wpTextbox1.value.split(vandaltalk)[1] != undefined)
         {
         if (document.editform.wpTextbox1.value.split(vandaltalk)[0] != undefined)
            {
         var firsthalf = document.editform.wpTextbox1.value.split(vandaltalk)[0];
         document.editform.wpTextbox1.value = document.editform.wpTextbox1.value.split(vandaltalk)[1]; 
         splitpoint = document.editform.wpTextbox1.value.split(&quot;*&quot; + &quot;{{&quot;)[0];
         document.editform.wpTextbox1.value = original.split(splitpoint)[1];
         var secondhalf = original.split(vandaltalk + splitpoint)[1];
         document.editform.wpTextbox1.value = original;
              if (splitpoint.length &lt;= 3) 
                    {
         secondhalf = document.editform.wpTextbox1.value.split(vandaltalk)[1];
         document.editform.wpTextbox1.value = firsthalf + secondhalf;
         document.editform.wpSummary.value = &quot;[[&quot; + target + &quot;]] unprotected; delisting.&quot;;
         alert(&quot;The page has been located and de-listed. The de-listed page had no protection summary or explanation.&quot;);
         return;
                    }
              else 
                    {
         document.editform.wpTextbox1.value = firsthalf + secondhalf;
         document.editform.wpSummary.value = &quot;[[&quot; + target + &quot;]] unprotected; delisting.&quot;;
         alert('The page has been located and de-listed. The protection explanation:' + '\n' + '------------' + '\n' + splitpoint + '\n' + '------------' + '\n' + '...was also removed. Please read this summary; avoid clicking &quot;save page&quot; if necessary.');
         return;
                    }
              }
         }
else if (document.editform.wpTextbox1.value.split(theuser)[1] != undefined)
         {
         if (document.editform.wpTextbox1.value.split(theuser)[0] != undefined)
            {
         var firsthalf = document.editform.wpTextbox1.value.split(theuser)[0];
         document.editform.wpTextbox1.value = document.editform.wpTextbox1.value.split(theuser)[1]; 
         splitpoint = document.editform.wpTextbox1.value.split(&quot;*&quot; + &quot;[[User:&quot;)[0];
         document.editform.wpTextbox1.value = original.split(splitpoint)[1];
         var secondhalf = original.split(theuser + splitpoint)[1];
         document.editform.wpTextbox1.value = original;
              if (splitpoint.length &lt;= 3) 
                    {
         secondhalf = document.editform.wpTextbox1.value.split(theuser + splitpoint)[1];
         document.editform.wpTextbox1.value = firsthalf + secondhalf;
         document.editform.wpSummary.value = &quot;[[&quot; + target + &quot;]] unprotected; delisting.&quot;;
         alert(&quot;The user's page has been located and de-listed. The de-listed page had no protection summary or explanation.&quot;); 
         return;
                    }
              else 
                    {
         document.editform.wpTextbox1.value = firsthalf + secondhalf;
         document.editform.wpSummary.value = &quot;[[&quot; + target + &quot;]] unprotected; delisting.&quot;;
         alert('The page has been located and de-listed. The protection explanation:' + '\n' + '------------' + '\n' + splitpoint + '\n' + '------------' + '\n' + '...was also removed. Please read this summary; avoid clicking &quot;save page&quot; if necessary.');
         return;
                    }
              }
         }
     else
         {
          alert(&quot;Note: The page you unprotected was not found on the list and may never have been listed. However, check to make sure that this is not a glitch, such as the listed article being a redirect to the actual page or beind the newest entry, or inconsistant asterik usage. Move-protected articles tend to be listed inconsistantly. Also, some entries for non-articles are listed with templates that this tool does not look for.&quot;);
          alert(&quot;Debuging Information: &quot; + &quot;vandaltalk=&quot; + vandaltalk + &quot;|username=&quot; + username + &quot;|username2=&quot; + usertalk + &quot; |target=&quot; + target + &quot;|thepage=&quot; + thepage + &quot;|themove=&quot; + themove + &quot; |splitpoint=&quot; + splitpoint); 
         document.editform.wpSummary.value = &quot;[[&quot; + target + &quot;]] unprotected; delisting.&quot;;
          return;
          document.editform.wpTextbox1.value = original;
         }
      }
   }
}

function add_testn_tabs()
{
  var c1 = document.getElementById('column-one');
  var tabs = c1.getElementsByTagName('div')[0].getElementsByTagName('ul')[0];

if  (document.title.indexOf(&quot;&quot;) != -1)
{
if (document.title.indexOf(&quot;Editing &quot;) != -1)
{
  if (document.title.indexOf(&quot;Editing User talk:&quot;) != -1)
    {
      tabs.appendChild(tnaddlilink('javascript:revertsn()',&quot;rr&quot;));
      tabs.appendChild(tnaddlilink('javascript:warningn()',&quot;v&quot;));
      tabs.appendChild(tnaddlilink('javascript:testbl()',&quot;b&quot;));
      tabs.appendChild(tnaddlilink('javascript:spam()',&quot;s&quot;));
      tabs.appendChild(tnaddlilink('javascript:finalwn()',&quot;fw&quot;));
      tabs.appendChild(tnaddlilink('javascript:rrblockn()',&quot;rrb&quot;));
      tabs.appendChild(tnaddlilink('javascript:blockn()',&quot;vb&quot;));
      tabs.appendChild(tnaddlilink('javascript:usprotect()',&quot;(sp)&quot;));
      tabs.appendChild(tnaddlilink('javascript:uunprotect()',&quot;(up)&quot;));
      if(document.getElementById('ca-delete'))
      {
        document.getElementById('ca-delete').firstChild.innerHTML = '[d]';
      }  
      if(document.getElementById('ca-move'))
      {
      document.getElementById('ca-move').firstChild.innerHTML = '[m]';
      }  
      if(document.getElementById('ca-watch'))
      {
      document.getElementById('ca-watch').firstChild.innerHTML = '[w]';
       }  
      if(document.getElementById('ca-unwatch'))
      {
      document.getElementById('ca-unwatch').firstChild.innerHTML = '[uw]';
      }
      if(document.getElementById('ca-edit'))
      {
        document.getElementById('ca-edit').firstChild.innerHTML = 'Edit';
      }
      if(document.getElementById('ca-talk'))
      {
        document.getElementById('ca-talk').firstChild.innerHTML = 'Talk';
      }
      if(document.getElementById('ca-protect'))
      {
        document.getElementById('ca-protect').firstChild.innerHTML = 'P (off)';
      }
      if(document.getElementById('ca-unprotect'))
      {
        document.getElementById('ca-unprotect').firstChild.innerHTML = 'P (on)';
      }
    }
  else if (document.title.indexOf(&quot;Editing User:&quot;) != -1)
    {  
      tabs.appendChild(tnaddlilink('javascript:usprotect()',&quot;(sp)&quot;));
      tabs.appendChild(tnaddlilink('javascript:uunprotect()',&quot;(up)&quot;));
      if(document.getElementById('ca-protect'))
      {
        document.getElementById('ca-protect').firstChild.innerHTML = 'Protection (off)';
      }
      if(document.getElementById('ca-unprotect'))
      {
        document.getElementById('ca-unprotect').firstChild.innerHTML = 'Protection (on)';
      }
    }
  else if (document.title.indexOf(&quot;Editing Wikipedia:Requests for page protection (section)&quot;) != -1)
    {
    tabs.appendChild(tnaddlilink('javascript:rfpps()',&quot;a|s&quot;));
    tabs.appendChild(tnaddlilink('javascript:rfppp()',&quot;a|p&quot;));
    tabs.appendChild(tnaddlilink('javascript:rfppm()',&quot;a|m&quot;));
    tabs.appendChild(tnaddlilink('javascript:rfpprv()',&quot;r|s&quot;));
    tabs.appendChild(tnaddlilink('javascript:rfppr()',&quot;r|p&quot;));
    tabs.appendChild(tnaddlilink('javascript:rfppun()',&quot;a|u&quot;));
    tabs.appendChild(tnaddlilink('javascript:rfppru()',&quot;r|u&quot;));
    tabs.appendChild(tnaddlilink('javascript:rfppu()',&quot;au&quot;));
    if(document.getElementById('ca-protect'))
      {
        document.getElementById('ca-protect').firstChild.innerHTML = 'P (off)';
      }
      if(document.getElementById('ca-unprotect'))
      {
        document.getElementById('ca-unprotect').firstChild.innerHTML = 'P (on)';
      }
      if(document.getElementById('ca-delete'))
      {
        document.getElementById('ca-delete').firstChild.innerHTML = '[d]';
      }  
      if(document.getElementById('ca-move'))
      {
      document.getElementById('ca-move').firstChild.innerHTML = '[m]';
      } 
      if(document.getElementById('ca-watch'))
      {
      document.getElementById('ca-watch').firstChild.innerHTML = '[w]';
       }  
      if(document.getElementById('ca-unwatch'))
      {
      document.getElementById('ca-unwatch').firstChild.innerHTML = '[uw]';
      }
      if(document.getElementById('ca-edit'))
      {
        document.getElementById('ca-edit').firstChild.innerHTML = 'Edit';
      }
      if(document.getElementById('ca-talk'))
      {
        document.getElementById('ca-talk').firstChild.innerHTML = 'Talk';
      }
    }
  else if (document.title.indexOf(&quot;Editing Wikipedia:Administrators' noticeboard/3RR (section)&quot;) != -1)
    {
    tabs.appendChild(tnaddlilink('javascript:rrwarn()',&quot;r|wn&quot;));
    tabs.appendChild(tnaddlilink('javascript:rrblock()',&quot;r|bl&quot;));
    if(document.getElementById('ca-protect'))
      {
        document.getElementById('ca-protect').firstChild.innerHTML = 'P (off)';
      }
    if(document.getElementById('ca-unprotect'))
      {
        document.getElementById('ca-unprotect').firstChild.innerHTML = 'P (on)';
      }
    }
 else if(document.title.indexOf(&quot;Wikipedia:&quot;) != -1)
 {
      tabs.appendChild(tnaddlilink('javascript:oprotect()',&quot;(fp)&quot;));
      tabs.appendChild(tnaddlilink('javascript:osprotect()',&quot;(sp)&quot;));
      tabs.appendChild(tnaddlilink('javascript:ounprotect()',&quot;(up)&quot;));
      if(document.getElementById('ca-talk'))
      {
        document.getElementById('ca-talk').firstChild.innerHTML = 'Talk';
      }
      if(document.getElementById('ca-protect'))
      {
        document.getElementById('ca-protect').firstChild.innerHTML = 'P (off)';
      }
      if(document.getElementById('ca-unprotect'))
      {
        document.getElementById('ca-unprotect').firstChild.innerHTML = 'P (on)';
      }
      if(document.getElementById('ca-edit'))
      {
        document.getElementById('ca-edit').firstChild.innerHTML = 'Edit';
      }
   }
//This line removes a minor glitch [[Category:VoA scripted admins]]
 else if(document.title.indexOf(&quot;Editing Help:Contents/Editing Wikipedia&quot;) != -1)
   {
      autocopyvio();
      tabs.appendChild(tnaddlilink('javascript:protect()',&quot;(fp)&quot;));
      tabs.appendChild(tnaddlilink('javascript:sprotect()',&quot;(sp)&quot;));
      tabs.appendChild(tnaddlilink('javascript:prod()',&quot;pfd&quot;));
      add_link('javascript:vfd()', 'Afd');
      if(document.getElementById('ca-talk'))
      {
        document.getElementById('ca-talk').firstChild.innerHTML = 'Talk';
      }
      if(document.getElementById('ca-protect'))
      {
        document.getElementById('ca-protect').firstChild.innerHTML = 'P (off)';
      }
      if(document.getElementById('ca-unprotect'))
      {
        document.getElementById('ca-unprotect').firstChild.innerHTML = 'P (on)';
      }
      if(document.getElementById('ca-edit'))
      {
        document.getElementById('ca-edit').firstChild.innerHTML = 'Edit';
      }
   }
 else if(document.title.indexOf(&quot;Help:Contents/Editing Wikipedia&quot;) != -1)
 {
 lastdiff()
      if(document.getElementById('ca-protect'))
      {
        document.getElementById('ca-protect').firstChild.innerHTML = 'Protection (off)';
      }
      if(document.getElementById('ca-unprotect'))
      {
        document.getElementById('ca-unprotect').firstChild.innerHTML = 'Protection (on)';
      }
   }
 else if(document.title.indexOf(&quot;Editing Talk&quot;) != -1)
 {
      tabs.appendChild(tnaddlilink('javascript:oprotect()',&quot;(fp)&quot;));
      tabs.appendChild(tnaddlilink('javascript:osprotect()',&quot;(sp)&quot;));
      tabs.appendChild(tnaddlilink('javascript:ounprotect()',&quot;(up)&quot;));
      if(document.getElementById('ca-talk'))
      {
        document.getElementById('ca-talk').firstChild.innerHTML = 'Talk';
      }
      if(document.getElementById('ca-protect'))
      {
        document.getElementById('ca-protect').firstChild.innerHTML = 'P (off)';
      }
      if(document.getElementById('ca-unprotect'))
      {
        document.getElementById('ca-unprotect').firstChild.innerHTML = 'P (on)';
      }
      if(document.getElementById('ca-edit'))
      {
        document.getElementById('ca-edit').firstChild.innerHTML = 'Edit';
      }
   }
 else if(document.title.indexOf(&quot;Editing Wikipedia talk&quot;) != -1)
 {
      tabs.appendChild(tnaddlilink('javascript:oprotect()',&quot;(fp)&quot;));
      tabs.appendChild(tnaddlilink('javascript:osprotect()',&quot;(sp)&quot;));
      tabs.appendChild(tnaddlilink('javascript:ounprotect()',&quot;(up)&quot;));
      if(document.getElementById('ca-talk'))
      {
        document.getElementById('ca-talk').firstChild.innerHTML = 'Talk';
      }
      if(document.getElementById('ca-protect'))
      {
        document.getElementById('ca-protect').firstChild.innerHTML = 'P (off)';
      }
      if(document.getElementById('ca-unprotect'))
      {
        document.getElementById('ca-unprotect').firstChild.innerHTML = 'P (on)';
      }
      if(document.getElementById('ca-edit'))
      {
        document.getElementById('ca-edit').firstChild.innerHTML = 'Edit';
      }
   }
  else
   {
      autocopyvio();   
      tabs.appendChild(tnaddlilink('javascript:protect()',&quot;(fp)&quot;));
      tabs.appendChild(tnaddlilink('javascript:sprotect()',&quot;(sp)&quot;));
      tabs.appendChild(tnaddlilink('javascript:unprotect()',&quot;(up)&quot;));
      tabs.appendChild(tnaddlilink('javascript:prod()',&quot;pfd&quot;)); 
      add_link('javascript:vfd()', 'Afd');
      if(document.getElementById('ca-talk'))
      {
        document.getElementById('ca-talk').firstChild.innerHTML = 'Talk';
      }
      if(document.getElementById('ca-protect'))
      {
        document.getElementById('ca-protect').firstChild.innerHTML = 'P (off)';
      }
      if(document.getElementById('ca-unprotect'))
      {
        document.getElementById('ca-unprotect').firstChild.innerHTML = 'P (on)';
      }
      if(document.getElementById('ca-edit'))
      {
        document.getElementById('ca-edit').firstChild.innerHTML = 'Edit';
      }
   }
}
 else if (document.title.indexOf(&quot;User:&quot;) != -1)
 {
 lastdiff()
 if(document.getElementById('ca-talk'))
      {
     document.getElementById('ca-talk').firstChild.innerHTML = 'Talk';
      }
      if(document.getElementById('ca-protect'))
      {
        document.getElementById('ca-protect').firstChild.innerHTML = 'Protection (off)';
      }
      if(document.getElementById('ca-unprotect'))
      {
        document.getElementById('ca-unprotect').firstChild.innerHTML = 'Protection (on)';
      }
 }
 else if (document.title.indexOf(&quot;User talk:&quot;) != -1)
 {
 if(document.getElementById('ca-history'))
      {
      lastdiff();
      }
 if(document.getElementById('ca-talk'))
      {
     document.getElementById('ca-talk').firstChild.innerHTML = 'Talk';
      }
 if(document.getElementById('ca-protect'))
      {
        document.getElementById('ca-protect').firstChild.innerHTML = 'Protection (off)';
      }
 if(document.getElementById('ca-unprotect'))
      {
        document.getElementById('ca-unprotect').firstChild.innerHTML = 'Protection (on)';
      }
 }
 else
 {
 if(document.getElementById('ca-history'))
      {
      lastdiff();
      }
 if(document.getElementById('ca-protect'))
      {
        document.getElementById('ca-protect').firstChild.innerHTML = 'Protection (off)';
      }
 if(document.getElementById('ca-unprotect'))
      {
        document.getElementById('ca-unprotect').firstChild.innerHTML = 'Protection (on)';
      }
   }
}
}

function copyvio()
{
  document.editform.wpTextbox1.value = '{' + '{' + 'copyvio|url=}}';
  document.editform.wpSummary.value = 'copyvio';

  var target = document.editform.action;
  target = target.substring(target.indexOf('title=') + 6,
                            target.lastIndexOf('&amp;action=submit'));

  var months = new Array('January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December');
  var date = new Date();
//  date = months[date.getUTCMonth()] + '_' + date.getUTCDate();
  var datestring = date.getUTCFullYear() + '_' + months[date.getUTCMonth()] + '_' + date.getUTCDate();

  var pagename = strip_namespace(target);

  window.open('/w/index.php?title=Wikipedia:Copyright_problems/' + datestring + '&amp;action=edit&amp;fakeaction=copyviolist&amp;faketarget=' + pagename,
              'status,toolbar,location,menubar,directories,resizeable,scrollbars');
}

function autocopyvio()
{
  if (document.title.indexOf('Editing ') == 0)
    {
      var action = '';
      var target = '';
      if (location.search)
        {
          var l = location.search.substring(1).split('&amp;');
          for (var i = 0; i &lt; l.length; ++i)
            {
              var eq = l[i].indexOf('=');
              var name = l[i].substring(0, eq);
              if (name == 'fakeaction')
                action = l[i].substring(eq + 1);
              else if (name == 'faketarget')
                target = unescape(l[i].substring(eq + 1)).replace(/_/g, ' ');
                
            }
        }

      if (action == 'copyviolist')
        {
//          var index = document.editform.wpTextbox1.value.lastIndexOf(&quot;\n==Footer==&quot;);
/*            if (index == -1) 
          {
            window.alert(&quot;Couldn't find footer\n\n&quot;);
          } 
          else
          { */
//            var firsthalf = document.editform.wpTextbox1.value.substr(0,index);
//            var secondhalf = document.editform.wpTextbox1.value.substr(index);
            document.editform.wpTextbox1.value += '*[[' + target + ']] &lt;span class=&quot;plainlinks&quot;&gt;([http://en.wikipedia.org/{{localurl:' + target + '|action=history}} history] &amp;middot; [http://en.wikipedia.org/{{localurl:' + target + '|diff=0}} last edit])&lt;/span&gt;' + ' from [' + '] ~' + '~~' + '~';
            document.editform.wpSummary.value = 'Copyvio ' + '[[' + target + ']]';
          }
//        }
      else
        add_link2('javascript:copyvio()', '(cvio)');
    }
}

//Purge
function addpurgel()
{
if (document.title.indexOf(&quot;Editing &quot;) != -1)
{
return;
}
else
{
  if (document.title.indexOf(&quot;Wikipedia:&quot;) != -1)
   {
addPurge();
   }
  if (document.title.indexOf(&quot;User:&quot;) != -1)
   {
addPurge();
   }
  if (document.title.indexOf(&quot;Category:&quot;) != -1)
   {
addPurge();
   }
}
}

//========= LAST DIFF TAB =========
function lastdiff() 
    {
    z=document.getElementById(&quot;content&quot;).childNodes;
    for (var n=0;n&lt;z.length;n++) { 
      if (z[n].className==&quot;firstHeading&quot;) {
        var pname=z[n].textContent;
      }
    }
    var l=addTab(&quot;http://en.wikipedia.org/w/index.php?title=&quot; + pname + &quot;&amp;diff=cur&amp;oldid=prev&quot;, 'last', '');
    l.lastChild.title=&quot;Show most recent diff&quot;;
}

// This will add an [edit top] link at the top of all pages except preview pages
function addtoplink()
{
var undefined;
var edittop = '&lt;span style=&quot;color:black;&quot;&gt;[&lt;/span&gt;edit top&lt;span style=&quot;color:black;&quot;&gt;]&lt;/span&gt;';
  // if this is preview page or generated page, stop
  if(document.getElementById(&quot;wikiPreview&quot;) || window.location.href.indexOf(&quot;w/index.php?title=Special:&quot;) != -1) return;
  if(document.title.indexOf(&quot;Main Page&quot;) != -1) return;

  // get the page title
  var pageTitle = document.title.split(&quot; - &quot;)[0].replace(&quot; &quot;, &quot;_&quot;); 

  // create div and set innerHTML to link
  var divContainer = document.createElement(&quot;div&quot;);
  divContainer.innerHTML = '&lt;div class=&quot;editsection&quot; style=&quot;float:right;margin-left:5px;margin-right:25px;margin-top:3px;&quot;&gt;&lt;a href=&quot;/w/index.php?title='+pageTitle+'&amp;action=edit&amp;section=0&quot; title=&quot;'+document.title.split(&quot; - &quot;)[0]+'&quot;&gt;' + edittop + '&lt;/a&gt;&lt;/div&gt;';

  // insert divContainer into the DOM before the h1
if (document.getElementById(&quot;content&quot;) !=undefined) {
  document.getElementById(&quot;content&quot;).insertBefore(divContainer, document.getElementsByTagName(&quot;h1&quot;)[0]);}
}

//Lupin's tools
// &lt;nowiki&gt;Filter changes live [[Category:VoA scripted admins]]
// [[User:Lupin/recent2.js]] - please include this line
document.write('&lt;script type=&quot;text/javascript&quot; src=&quot;' 
             + 'http://en.wikipedia.org/w/index.php?title=User:Lupin/recent2.js' 
             + '&amp;action=raw&amp;ctype=text/javascript&amp;dontcountme=s&quot;&gt;&lt;/script&gt;');

// [[User:Lupin/popupsdev.js]] - please include this line 

document.write('&lt;script type=&quot;text/javascript&quot; src=&quot;' 
             + 'http://en.wikipedia.org/w/index.php?title=User:Lupin/popupsdev.js' 
             + '&amp;action=raw&amp;ctype=text/javascript&amp;dontcountme=s&quot;&gt;&lt;/script&gt;');

popupShortcutKeys=true; // optional: enable keyboard shortcuts
popupAdminLinks=true;   // optional: enable admin links [[Category:VoA scripted admins]]
popupSubpopups=false;



//&lt;/nowiki&gt;[[Category:Wikipedians who use VoA script ]]&lt;/pre&gt;
</pre><div class="printfooter">
Retrieved from "<a href="http://en.wikipedia.org../../../a/c/t/User%7EActown_monobook.js_0ea4.html">http://en.wikipedia.org../../../a/c/t/User%7EActown_monobook.js_0ea4.html</a>"</div>
	    	    <!-- end content -->
	    <div class="visualClear"></div>
	  </div>
	</div>
      </div>
      <div id="column-one">
	<div id="p-cactions" class="portlet">
	  <h5>Views</h5>
	  <ul>
	    <li id="ca-nstab-user"
	       class="selected"	       ><a href="../../../a/c/t/User%7EActown_monobook.js_0ea4.html">User page</a></li><li id="ca-talk"
	       class="new"	       ><a href="../../../a/c/t/User_talk%7EActown_monobook.js_ae55.html">Discussion</a></li><li id="ca-current"
	       	       ><a href="http://en.wikipedia.org/wiki/User:Actown/monobook.js">Current revision</a></li>	  </ul>
	</div>
	<div class="portlet" id="p-logo">
	  <a style="background-image: url(../../../images/wiki-en.png);"
	    href="../../../index.html"
	    title="Main Page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
		<div class='portlet' id='p-navigation'>
	  <h5>Navigation</h5>
	  <div class='pBody'>
	    <ul>
	    	      <li id="n-Main-page"><a href="../../../index.html">Main page</a></li>
	     	      <li id="n-Contents"><a href="../../../c/o/n/Wikipedia%7EContents_3181.html">Contents</a></li>
	     	      <li id="n-Featured-content"><a href="../../../f/e/a/Wikipedia%7EFeatured_content_24ba.html">Featured content</a></li>
	     	      <li id="n-currentevents"><a href="../../../c/u/r/Portal%7ECurrent_events_bb60.html">Current events</a></li>
	     	    </ul>
	  </div>
	</div>
		<div class='portlet' id='p-interaction'>
	  <h5>interaction</h5>
	  <div class='pBody'>
	    <ul>
	    	      <li id="n-About-Wikipedia"><a href="../../../a/b/o/Wikipedia%7EAbout_8d82.html">About Wikipedia</a></li>
	     	      <li id="n-portal"><a href="../../../c/o/m/Wikipedia%7ECommunity_Portal_6a3c.html">Community portal</a></li>
	     	      <li id="n-contact"><a href="../../../c/o/n/Wikipedia%7EContact_us_afd6.html">Contact us</a></li>
	     	      <li id="n-sitesupport"><a href="http://wikimediafoundation.org/wiki/Fundraising">Make a donation</a></li>
	     	      <li id="n-help"><a href="../../../c/o/n/Help%7EContents_22de.html">Help</a></li>
	     	    </ul>
	  </div>
	</div>
		<div id="p-search" class="portlet">
	  <h5><label for="searchInput">Search</label></h5>
	  <div id="searchBody" class="pBody">
	    <form action="javascript:goToStatic(3)" id="searchform"><div>
	      <input id="searchInput" name="search" type="text"
	        accesskey="f" value="" />
	      <input type='submit' name="go" class="searchButton" id="searchGoButton"
	        value="Go" />
	    </div></form>
	  </div>
	</div>
	      </div><!-- end of the left (by default at least) column -->
      <div class="visualClear"></div>
      <div id="footer">
    <div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="../../../skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" /></a></div>	<div id="f-copyrightico"><a href="http://wikimediafoundation.org/"><img src="../../../images/wikimedia-button.png" border="0" alt="Wikimedia Foundation"/></a></div>	<ul id="f-list">
	  	  	  <li id="f-credits">This page was last modified 06:37, 17 September 2006 by Wikipedia user <a href="../../../w/i/n/User%7EWinhunter_d2c4.html" title="User:Winhunter">Winhunter</a>. Based on work by Wikipedia user(s) <a href="../../../a/c/t/User%7EActown_8ff5.html" title="User:Actown">Actown</a> and <a href="../../../v/o/i/User%7EVoice_of_All_a6ef.html" title="User:Voice of All">Voice of All</a>.</li>	  <li id="f-copyright">All text is available under the terms of the <a class='internal' href="../../../t/e/x/Wikipedia%7EText_of_the_GNU_Free_Documentation_License_702a.html" title="Wikipedia:Text of the GNU Free Documentation License">GNU Free Documentation License</a>. (See <b><a class='internal' href="../../../c/o/p/Wikipedia%7ECopyrights_92c4.html" title="Wikipedia:Copyrights">Copyrights</a></b> for details.) <br /> Wikipedia&reg; is a registered trademark of the <a href="http://www.wikimediafoundation.org">Wikimedia Foundation, Inc</a>., a US-registered <a class='internal' href="../../../5/0/1/501%28c%29.html#501.28c.29.283.29" title="501(c)(3)">501(c)(3)</a> <a href="http://wikimediafoundation.org/wiki/Deductibility_of_donations">tax-deductible</a> <a class='internal' href="../../../n/o/n/Non-profit_organization.html" title="Non-profit organization">nonprofit</a> <a href="../../../c/h/a/Charitable_organization.html" title="Charitable organization">charity</a>.<br /></li>	  <li id="f-about"><a href="../../../a/b/o/Wikipedia%7EAbout_8d82.html" title="Wikipedia:About">About Wikipedia</a></li>	  <li id="f-disclaimer"><a href="../../../g/e/n/Wikipedia%7EGeneral_disclaimer_3e44.html" title="Wikipedia:General disclaimer">Disclaimers</a></li>	  	</ul>
      </div>
    </div>
  </body>
</html>
