<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    		<meta name="keywords" content="Wikipedia:Bots/Requests for approval/AzaBot,WP:ACID,AzaBot,AzaToth,Ram-Man,AzaToth,Bots" />
		<link rel="shortcut icon" href="/favicon.ico" />
		<link rel="search" type="application/opensearchdescription+xml" href="/w/opensearch_desc.php" title="Wikipedia (English)" />
		<link rel="copyright" href="../../../COPYING.html" />
    <title>Wikipedia:Bots/Requests for approval/AzaBot - Wikipedia, the free encyclopedia</title>
    <style type="text/css">/*<![CDATA[*/ @import "../../../skins/htmldump/main.css"; /*]]>*/</style>
    <link rel="stylesheet" type="text/css" media="print" href="../../../skins/common/commonPrint.css" />
    <!--[if lt IE 5.5000]><style type="text/css">@import "../../../skins/monobook/IE50Fixes.css";</style><![endif]-->
    <!--[if IE 5.5000]><style type="text/css">@import "../../../skins/monobook/IE55Fixes.css";</style><![endif]-->
    <!--[if IE 6]><style type="text/css">@import "../../../skins/monobook/IE60Fixes.css";</style><![endif]-->
    <!--[if IE]><script type="text/javascript" src="../../../skins/common/IEFixes.js"></script>
    <meta http-equiv="imagetoolbar" content="no" /><![endif]-->
    <script type="text/javascript" src="../../../skins/common/wikibits.js"></script>
    <script type="text/javascript" src="../../../skins/htmldump/md5.js"></script>
    <script type="text/javascript" src="../../../skins/htmldump/utf8.js"></script>
    <script type="text/javascript" src="../../../skins/htmldump/lookup.js"></script>
    <script type="text/javascript" src="../../../raw/gen.js"></script>        <style type="text/css">/*<![CDATA[*/
@import "../../../raw/MediaWiki%7ECommon.css";
@import "../../../raw/MediaWiki%7EMonobook.css";
@import "../../../raw/gen.css";
/*]]>*/</style>          </head>
  <body
    class="ns-4">
    <div id="globalWrapper">
      <div id="column-content">
	<div id="content">
	  <a name="top" id="contentTop"></a>
	        <h1 class="firstHeading">Wikipedia:Bots/Requests for approval/AzaBot</h1>
	  <div id="bodyContent">
	    <h3 id="siteSub">From Wikipedia, the free encyclopedia</h3>
	    <div id="contentSub"><span class="subpages">&lt; <a href="../../../b/o/t/Wikipedia%7EBots_fd71.html" title="Wikipedia:Bots">Wikipedia:Bots</a> | <a href="../../../b/o/t/Wikipedia%7EBots_Requests_for_approval_de2f.html" title="Wikipedia:Bots/Requests for approval">Requests for approval</a></span></div>
	    	    <div class="usermessage">You have <a href="../../../1/2/7/User_talk%7E127.0.0.1.html" title="User talk:127.0.0.1">new messages</a> (<a href="../../../1/2/7/User_talk%7E127.0.0.1.html" title="User talk:127.0.0.1">last change</a>).</div>	    <!-- start content -->
	    <p><br /></p>
<div class="boilerplate metadata" style="background-color: #dedaca; margin: 2em 0 0 0; padding: 0 10px 0 10px; border: 1px solid #AAAAAA;">
<dl>
<dd><i>The following discussion is an archived debate. <span style="color:red"><b>Please do not modify it.</b></span> Subsequent comments should be made in a new section.</i> The result of the discussion was <a href="../../../s/y/m/Image%7ESymbol_keep_vote.svg_19de.html" class="image" title=""><img src="../../../upload/shared/thumb/d/d0/Symbol_keep_vote.svg/20px-Symbol_keep_vote.svg.png" alt="" width="20" height="21" longdesc="../../../s/y/m/Image%7ESymbol_keep_vote.svg_19de.html" /></a><a href="../../../s/y/m/Image%7ESymbol_support_vote.svg_9978.html" class="image" title=""><img src="../../../upload/shared/thumb/9/94/Symbol_support_vote.svg/20px-Symbol_support_vote.svg.png" alt="" width="20" height="21" longdesc="../../../s/y/m/Image%7ESymbol_support_vote.svg_9978.html" /></a> <b>Speedily Approved</b>.</dd>
</dl>
<a name="AzaBot" id="AzaBot"></a>
<h2><span class="editsection">[<a href="../../../b/o/t/Wikipedia%7EBots_Requests_for_approval_AzaBot_6d6c.html" title="Edit section: AzaBot">edit</a>]</span> <span class="mw-headline"><a href="../../../a/z/a/User%7EAzaBot_6fb7.html" title="User:AzaBot">AzaBot</a></span></h2>
<p><span class="plainlinks"><small><strong class="selflink">tasks</strong> • <a href="../../../c/o/n/Special%7EContributions_AzaBot_2fae.html" title="Special:Contributions/AzaBot">contribs</a> • <a href="http://tools.wikimedia.de/~interiot/cgi-bin/Tool1/wannabe_kate?username=AzaBot&amp;site=en.wikipedia.org" class="external text" title="http://tools.wikimedia.de/~interiot/cgi-bin/Tool1/wannabe_kate?username=AzaBot&amp;site=en.wikipedia.org" rel="nofollow"><span style="color:#002bb8">count</span></a> • <a href="http://en.wikipedia.org/wiki/Special:Log?user=AzaBot" class="external text" title="http://en.wikipedia.org/wiki/Special:Log?user=AzaBot" rel="nofollow"><span style="color:#002bb8">logs</span></a> • <a href="http://en.wikipedia.org/wiki/Special:Log/move?user=AzaBot" class="external text" title="http://en.wikipedia.org/wiki/Special:Log/move?user=AzaBot" rel="nofollow"><span style="color:#002bb8">page moves</span></a> • <a href="../../../b/l/o/Special%7EBlockip_AzaBot_ad32.html" title="Special:Blockip/AzaBot">block user</a> • <a href="http://en.wikipedia.org/wiki/Special:Log/block?page=User:AzaBot" class="external text" title="http://en.wikipedia.org/wiki/Special:Log/block?page=User:AzaBot" rel="nofollow"><span style="color:#002bb8">block log</span></a> • <a href="http://en.wikipedia.org/w/index.php?title=Special%3ALog&amp;type=makebot&amp;user=&amp;page=User:AzaBot" class="external text" title="http://en.wikipedia.org/w/index.php?title=Special%3ALog&amp;type=makebot&amp;user=&amp;page=User:AzaBot" rel="nofollow">flag log</a> • <a href="../../../m/a/k/Special%7EMakebot_AzaBot_9449.html" title="Special:Makebot/AzaBot">flag bot</a></small></span></p>
<p><b>Operator:</b> <a href="../../../a/z/a/User%7EAzaToth_9bb9.html" title="User:AzaToth">AzaToth</a></p>
<p><b>Automatic or Manually Assisted:</b> manually</p>
<p><b>Programming Language(s):</b> python (pywikipedia) / perl</p>
<p><b>Function Summary:</b> Spamming</p>
<p><b>Edit period(s)</b> <i>(e.g. Continuous, daily, one time run)</i><b>:</b> once a week</p>
<p><b>Edit rate requested:</b> it's around 40-50 to spam, so the time isn't that relevant</p>
<p><b>Already has a bot flag</b> <i>(Y/N)</i><b>:</b> N</p>
<p><b>Function Details:</b> As I already had a bot, and it was aprooved by the old system, I forgot to go through the official channels, I'll do it now. The purpose is basically once a week, when rolling the <a href="../../../a/c/i/WP%7EACID_feef.html" title="WP:ACID">WP:ACID</a>, I need to notify the voters that the article has been chosen, and that's usually around 50 people, resulting in too much work to do it manually, I then created a script in python to do the work for me (in pywikipedia framework), consisting of following code:</p>
<pre>
#!/usr/bin/python
# -*- coding: utf-8  -*-

msg = '{{subst:AIDvoter}} ~~~~'

import spam_users
import wikipedia
import os,sys

site = wikipedia.getSite()

for s in spam_users.users:
        page = wikipedia.Page(site,s)

        if page.isRedirectPage():
                page = page.getRedirectTarget();
                if page.title() in users: # dual entry
                        continue; 

        elif page.isCategory() or page.isImage():
                continue

        oldtext = ''
        if page.exists():
                oldtext = page.get()
        newtext = oldtext +  "\n" + msg
        wikipedia.showDiff(oldtext, newtext)
        wikipedia.setAction('You helped choose this week\'s [[WP:ACID]] winner')
        page.put(newtext)
</pre>
<p>the script will read an array from the file spam_users that are created by following perl script:</p>
<pre>
#!/usr/bin/perl -w

use strict;
use Array::Uniq;
use File::Slurp;

my $var = read_file('spam_data');
write_file('spam_users.py',"users = [\n\t".join(",\n\t",uniq sort map{$_=~s/\'/\\\'/g;$_='\'User talk:'.ucfirst((split /:\s*/,$_,2)[1]).'\''}grep(!/\//,($var=~/\[\[(User:.*?)(?:\||\]\])/g)))."\n]\n");

print"Remember to check spam_users.py for correctness before running ./spam.py\n";
</pre>
<p>who will read from a "spam_data" file which contains the wikitext list from the nomination page.</p>
<p>Sorry for the "running a rouge bot", but things can slip the mind :) <sub>→<a href="../../../a/z/a/User%7EAzaToth_9bb9.html" title="User:AzaToth"><span style="color:#773">Aza</span></a><a href="../../../a/z/a/User_talk%7EAzaToth_5ca3.html" title="User talk:AzaToth"><span style="color:#359">Toth</span></a></sub> 04:00, 20 December 2006 (UTC)</p>
<a name="Discussion" id="Discussion"></a>
<h3><span class="editsection">[<a href="../../../b/o/t/Wikipedia%7EBots_Requests_for_approval_AzaBot_6d6c.html" title="Edit section: Discussion">edit</a>]</span> <span class="mw-headline">Discussion</span></h3>
<p><a href="../../../s/y/m/Image%7ESymbol_keep_vote.svg_19de.html" class="image" title=""><img src="../../../upload/shared/thumb/d/d0/Symbol_keep_vote.svg/20px-Symbol_keep_vote.svg.png" alt="" width="20" height="21" longdesc="../../../s/y/m/Image%7ESymbol_keep_vote.svg_19de.html" /></a><a href="../../../s/y/m/Image%7ESymbol_support_vote.svg_9978.html" class="image" title=""><img src="../../../upload/shared/thumb/9/94/Symbol_support_vote.svg/20px-Symbol_support_vote.svg.png" alt="" width="20" height="21" longdesc="../../../s/y/m/Image%7ESymbol_support_vote.svg_9978.html" /></a> <b>Speedily Approved</b>. This is a proven bot from a proven user. There is no reason not to give this official approval. If you could, please make the bot compliant with <a href="../../../b/o/t/Template%7EBots_9bfe.html" title="Template:Bots">Template:bots</a> so that users can easily opt-out if they choose to do so. It seems apparent that those voting users have implicitly opted-in in this case, but you should respect their wishes if they use this new system now or in the future. Also, since other users use phython frequently, any published code that does the opt-in/opt-out check would be appreciated. -- <a href="../../../r/a/m/User%7ERam-Man_eba5.html" title="User:Ram-Man">RM</a> 13:15, 20 December 2006 (UTC)</p>
<dl>
<dd>Ok, I have made an patch for pywikipedia tp handle that, located at <a href="http://www.pastey.net/3817" class="external free" title="http://www.pastey.net/3817" rel="nofollow">http://www.pastey.net/3817</a> <sub>→<a href="../../../a/z/a/User%7EAzaToth_9bb9.html" title="User:AzaToth"><span style="color:#773">Aza</span></a><a href="../../../a/z/a/User_talk%7EAzaToth_5ca3.html" title="User talk:AzaToth"><span style="color:#359">Toth</span></a></sub> 15:47, 20 December 2006 (UTC)</dd>
</dl>
<dl>
<dd><i>The above discussion is preserved as an archive of the debate. <span style="color:red"><b>Please do not modify it.</b></span> Subsequent comments should be made in a new section.</i></dd>
</dl>
</div>

<!-- 
Pre-expand include size: 1158 bytes
Post-expand include size: 1051 bytes
Template argument size: 61 bytes
Maximum: 2048000 bytes
-->
<div class="printfooter">
Retrieved from "<a href="http://en.wikipedia.org../../../b/o/t/Wikipedia%7EBots_Requests_for_approval_AzaBot_6d6c.html">http://en.wikipedia.org../../../b/o/t/Wikipedia%7EBots_Requests_for_approval_AzaBot_6d6c.html</a>"</div>
	    <div id="catlinks"><p class='catlinks'><a href="../../../c/a/t/Special%7ECategories_101d.html" title="Special:Categories">Category</a>: <span dir='ltr'><a href="../../../w/i/k/Category%7EWikipedia_approved_bot_requests_9d71.html" title="Category:Wikipedia approved bot requests">Wikipedia approved bot requests</a></span></p></div>	    <!-- end content -->
	    <div class="visualClear"></div>
	  </div>
	</div>
      </div>
      <div id="column-one">
	<div id="p-cactions" class="portlet">
	  <h5>Views</h5>
	  <ul>
	    <li id="ca-nstab-project"
	       class="selected"	       ><a href="../../../b/o/t/Wikipedia%7EBots_Requests_for_approval_AzaBot_6d6c.html">Project page</a></li><li id="ca-talk"
	       class="new"	       ><a href="../../../b/o/t/Wikipedia_talk%7EBots_Requests_for_approval_AzaBot_b376.html">Discussion</a></li><li id="ca-current"
	       	       ><a href="http://en.wikipedia.org/wiki/Wikipedia:Bots/Requests_for_approval/AzaBot">Current revision</a></li>	  </ul>
	</div>
	<div class="portlet" id="p-logo">
	  <a style="background-image: url(../../../images/wiki-en.png);"
	    href="../../../index.html"
	    title="Main Page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
		<div class='portlet' id='p-navigation'>
	  <h5>Navigation</h5>
	  <div class='pBody'>
	    <ul>
	    	      <li id="n-Main-page"><a href="../../../index.html">Main page</a></li>
	     	      <li id="n-Contents"><a href="../../../c/o/n/Wikipedia%7EContents_3181.html">Contents</a></li>
	     	      <li id="n-Featured-content"><a href="../../../f/e/a/Wikipedia%7EFeatured_content_24ba.html">Featured content</a></li>
	     	      <li id="n-currentevents"><a href="../../../c/u/r/Portal%7ECurrent_events_bb60.html">Current events</a></li>
	     	    </ul>
	  </div>
	</div>
		<div class='portlet' id='p-interaction'>
	  <h5>interaction</h5>
	  <div class='pBody'>
	    <ul>
	    	      <li id="n-About-Wikipedia"><a href="../../../a/b/o/Wikipedia%7EAbout_8d82.html">About Wikipedia</a></li>
	     	      <li id="n-portal"><a href="../../../c/o/m/Wikipedia%7ECommunity_Portal_6a3c.html">Community portal</a></li>
	     	      <li id="n-contact"><a href="../../../c/o/n/Wikipedia%7EContact_us_afd6.html">Contact us</a></li>
	     	      <li id="n-sitesupport"><a href="http://wikimediafoundation.org/wiki/Fundraising">Make a donation</a></li>
	     	      <li id="n-help"><a href="../../../c/o/n/Help%7EContents_22de.html">Help</a></li>
	     	    </ul>
	  </div>
	</div>
		<div id="p-search" class="portlet">
	  <h5><label for="searchInput">Search</label></h5>
	  <div id="searchBody" class="pBody">
	    <form action="javascript:goToStatic(3)" id="searchform"><div>
	      <input id="searchInput" name="search" type="text"
	        accesskey="f" value="" />
	      <input type='submit' name="go" class="searchButton" id="searchGoButton"
	        value="Go" />
	    </div></form>
	  </div>
	</div>
	      </div><!-- end of the left (by default at least) column -->
      <div class="visualClear"></div>
      <div id="footer">
    <div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="../../../skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" /></a></div>	<div id="f-copyrightico"><a href="http://wikimediafoundation.org/"><img src="../../../images/wikimedia-button.png" border="0" alt="Wikimedia Foundation"/></a></div>	<ul id="f-list">
	  	  	  <li id="f-credits">This page was last modified 21:59, 2 January 2007 by Wikipedia user <a href="../../../m/e/t/User%7EMets501_2e06.html" title="User:Mets501">Mets501</a>. Based on work by Wikipedia user(s) <a href="../../../a/z/a/User%7EAzaToth_9bb9.html" title="User:AzaToth">AzaToth</a> and <a href="../../../r/m/_/User%7ERM_194e.html" title="User:RM">RM</a>.</li>	  <li id="f-copyright">All text is available under the terms of the <a class='internal' href="../../../t/e/x/Wikipedia%7EText_of_the_GNU_Free_Documentation_License_702a.html" title="Wikipedia:Text of the GNU Free Documentation License">GNU Free Documentation License</a>. (See <b><a class='internal' href="../../../c/o/p/Wikipedia%7ECopyrights_92c4.html" title="Wikipedia:Copyrights">Copyrights</a></b> for details.) <br /> Wikipedia&reg; is a registered trademark of the <a href="http://www.wikimediafoundation.org">Wikimedia Foundation, Inc</a>., a US-registered <a class='internal' href="../../../5/0/1/501%28c%29.html#501.28c.29.283.29" title="501(c)(3)">501(c)(3)</a> <a href="http://wikimediafoundation.org/wiki/Deductibility_of_donations">tax-deductible</a> <a class='internal' href="../../../n/o/n/Non-profit_organization.html" title="Non-profit organization">nonprofit</a> <a href="../../../c/h/a/Charitable_organization.html" title="Charitable organization">charity</a>.<br /></li>	  <li id="f-about"><a href="../../../a/b/o/Wikipedia%7EAbout_8d82.html" title="Wikipedia:About">About Wikipedia</a></li>	  <li id="f-disclaimer"><a href="../../../g/e/n/Wikipedia%7EGeneral_disclaimer_3e44.html" title="Wikipedia:General disclaimer">Disclaimers</a></li>	  	</ul>
      </div>
    </div>
  </body>
</html>
