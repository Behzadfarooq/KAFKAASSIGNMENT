<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    		<meta name="keywords" content="Wikipedia:Bots/Requests for approval/The Anomebot2,Aparan,Augusta, Western Australia,Berry, New South Wales,Goris,NIMA GNS,Yerevan,Eugene van der Pijll,Tawker,The Anome,The Anomebot" />
		<link rel="shortcut icon" href="/favicon.ico" />
		<link rel="search" type="application/opensearchdescription+xml" href="/w/opensearch_desc.php" title="Wikipedia (English)" />
		<link rel="copyright" href="../../../COPYING.html" />
    <title>Wikipedia:Bots/Requests for approval/The Anomebot2 - Wikipedia, the free encyclopedia</title>
    <style type="text/css">/*<![CDATA[*/ @import "../../../skins/htmldump/main.css"; /*]]>*/</style>
    <link rel="stylesheet" type="text/css" media="print" href="../../../skins/common/commonPrint.css" />
    <!--[if lt IE 5.5000]><style type="text/css">@import "../../../skins/monobook/IE50Fixes.css";</style><![endif]-->
    <!--[if IE 5.5000]><style type="text/css">@import "../../../skins/monobook/IE55Fixes.css";</style><![endif]-->
    <!--[if IE 6]><style type="text/css">@import "../../../skins/monobook/IE60Fixes.css";</style><![endif]-->
    <!--[if IE]><script type="text/javascript" src="../../../skins/common/IEFixes.js"></script>
    <meta http-equiv="imagetoolbar" content="no" /><![endif]-->
    <script type="text/javascript" src="../../../skins/common/wikibits.js"></script>
    <script type="text/javascript" src="../../../skins/htmldump/md5.js"></script>
    <script type="text/javascript" src="../../../skins/htmldump/utf8.js"></script>
    <script type="text/javascript" src="../../../skins/htmldump/lookup.js"></script>
    <script type="text/javascript" src="../../../raw/gen.js"></script>        <style type="text/css">/*<![CDATA[*/
@import "../../../raw/MediaWiki%7ECommon.css";
@import "../../../raw/MediaWiki%7EMonobook.css";
@import "../../../raw/gen.css";
/*]]>*/</style>          </head>
  <body
    class="ns-4">
    <div id="globalWrapper">
      <div id="column-content">
	<div id="content">
	  <a name="top" id="contentTop"></a>
	        <h1 class="firstHeading">Wikipedia:Bots/Requests for approval/The Anomebot2</h1>
	  <div id="bodyContent">
	    <h3 id="siteSub">From Wikipedia, the free encyclopedia</h3>
	    <div id="contentSub"><span class="subpages">&lt; <a href="../../../b/o/t/Wikipedia%7EBots_fd71.html" title="Wikipedia:Bots">Wikipedia:Bots</a> | <a href="../../../b/o/t/Wikipedia%7EBots_Requests_for_approval_de2f.html" title="Wikipedia:Bots/Requests for approval">Requests for approval</a></span></div>
	    	    <div class="usermessage">You have <a href="../../../1/2/7/User_talk%7E127.0.0.1.html" title="User talk:127.0.0.1">new messages</a> (<a href="../../../1/2/7/User_talk%7E127.0.0.1.html" title="User talk:127.0.0.1">last change</a>).</div>	    <!-- start content -->
	    <div class="boilerplate metadata" style="background-color: #dedaca; margin: 2em 0 0 0; padding: 0 10px 0 10px; border: 1px solid #AAAAAA;">
<dl>
<dd><i>The following discussion is an archived debate. <span style="color:red"><b>Please do not modify it.</b></span> Subsequent comments should be made in a new section.</i></dd>
</dl>
<a name="User:The_Anomebot2" id="User:The_Anomebot2"></a>
<h2><span class="editsection">[<a href="../../../b/o/t/Wikipedia%7EBots_Requests_for_approval_The_Anomebot2_ff61.html" title="Edit section: User:The Anomebot2">edit</a>]</span> <span class="mw-headline"><a href="../../../t/h/e/User%7EThe_Anomebot2_d038.html" title="User:The Anomebot2">User:The Anomebot2</a></span></h2>
<p>A long time ago, I ran <a href="../../../t/h/e/User%7EThe_Anomebot_5ea9.html" title="User:The Anomebot">User:The Anomebot</a>, implemented in Python, which was one of the first Wikipedia bots. I now want to register a new bot account for running a simple bot, based on the Wikipediafs Debian package and a simple Python editing script, that will add geotags to allready-existing geographical articles without geotags. As part of this work, I have compiled a list of just under 10,000 new geotags, which has already undergone spot checks for validity. The bot will check for existing tags during its run, and will not attempt to replace any existing tags.</p>
<p>The following data is the result of taking Wikipedia's category links and the public domain <a href="../../../n/i/m/NIMA_GNS_bd59.html" title="NIMA GNS">NIMA GNS</a> data, and rubbing vigorously. With quite cautious checks applied to both datasets, this gives an unambigious location for 12660 out of a possible 28628 (44%) articles about non-US cities, towns and villages.</p>
<p>The results are sorted by country, then place, and binned into four files. They have also been compared to the data in Koordinaten_en_CSV.txt, and labelled by whether they are new coordinates (NEW), or duplicate coordinates already in articles (dup), and, if so, whether they are exact duplicates, or if not, roughly how many km out they are. (The distance calculation uses several approximations, so treat it only as an order-of-magnitude figure).</p>
<ul>
<li>User:The Anome/Geodata 1: countries A-F</li>
<li>User:The Anome/Geodata 2: countries G-I</li>
<li>User:The Anome/Geodata 3: countries J-M</li>
<li>User:The Anome/Geodata 4: countries N-Z</li>
</ul>
<p>Where this data differs from the existing Wikipedia data, the new data has been found to be correct in almost every case: where the data was in error because of bugs in the list compilation, I fixed the bugs, and regenerated the output data to remove any similar errors.</p>
<p>The bot is intended to run at a limited edit rate, and is intended to self-check its edits independently of Wikipediafs, and to stop if its edits are not saved, or differ in any way from the intended content: it should thus automatically stop if blocked, or if the Wikipediafs or the Wikipedia servers are malfunctioning. -- <a href="../../../t/h/e/User%7EThe_Anome_61a9.html" title="User:The Anome">The Anome</a> 02:16, 11 August 2006 (UTC)</p>
<dl>
<dd>One week trial period approved, please limit speed to no more than 2 edit/min; and limit the test run to 100 pages or less. — <a href="../../../x/a/o/User%7EXaosflux_5b5b.html" title="User:Xaosflux"><b><font color="#FF9933" face="monotype"><big>xaosflux</big></font></b></a> <sup><a href="../../../x/a/o/User_talk%7EXaosflux_b62d.html" title="User talk:Xaosflux"><font color="#00FF00">Talk</font></a></sup> 16:05, 12 August 2006 (UTC)</dd>
</dl>
<dl>
<dd>Thank you. I've now completed testing this bot: I've checked a number of possible error scenarios, including restarts and auto-shutoff, and it seems to be working OK. -- please see <a href="http://en.wikipedia.org/wiki/Special:Contributions/The_Anomebot2" class="external autonumber" title="http://en.wikipedia.org/wiki/Special:Contributions/The_Anomebot2" rel="nofollow">[1]</a> for the results. -- <a href="../../../t/h/e/User%7EThe_Anome_61a9.html" title="User:The Anome">The Anome</a> 11:35, 13 August 2006 (UTC)</dd>
<dd>Following <a href="../../../e/u/g/User%7EEugene_van_der_Pijll_eaa2.html" title="User:Eugene van der Pijll">Eugène van der Pijll</a>'s feedback, I've now made several more improvements, with a number of other filters being used to suppress edits in cases where geotags are already present either directly or through transclusion, and better placement of the tag within the article. I think I'm ready to run. I'd like to perform another limited test run of 100, just to make sure everything works OK, if you can approve that. If manual review of those 100 edits shows no problems, I think I'll be ready to run on the full dataset, subject to approval. -- <a href="../../../t/h/e/User%7EThe_Anome_61a9.html" title="User:The Anome">The Anome</a> 15:29, 13 August 2006 (UTC)</dd>
<dd>Additional 100 article run is OK, please post results here. — <a href="../../../x/a/o/User%7EXaosflux_5b5b.html" title="User:Xaosflux"><b><font color="#FF9933" face="monotype"><big>xaosflux</big></font></b></a> <sup><a href="../../../x/a/o/User_talk%7EXaosflux_b62d.html" title="User talk:Xaosflux"><font color="#00FF00">Talk</font></a></sup> 15:59, 13 August 2006 (UTC)</dd>
</dl>
<p>I've now done another few small test runs, the most recent of which started at 23:44 with <a href="../../../a/p/a/Aparan.html" title="Aparan">Aparan</a>, and ended at 00:36 with <a href="../../../b/e/r/Berry%2C_New_South_Wales_7f54.html" title="Berry, New South Wales">Berry, New South Wales</a> (with a slight tweak to the edit comment string in the middle for a couple of entries). The bot seems to be working OK in this run:</p>
<ul>
<li>Articles with categories, interwikis and Unicode characters are handled OK, and the tag is added in the correct place: see <a href="../../../g/o/r/Goris.html" title="Goris">Goris</a> (as a side effect, the category and interwiki links are also sorted into the standard order after all other page content, and are sorted in alphabetical order)</li>
<li>Articles marked with a variety of pre-existing geodata template styles seem to be caught now: see <a href="../../../a/u/g/Augusta%2C_Western_Australia_e74a.html" title="Augusta, Western Australia">Augusta, Western Australia</a>, and <a href="../../../y/e/r/Yerevan.html" title="Yerevan">Yerevan</a> for examples.</li>
<li>Restart is working OK</li>
<li>Blocking the bot shuts it down as soon as it detects the write error</li>
<li>New feature: as requested by Eugene, the geodata tags now have region and feature codes, for example {{coor title dm|34|47|S|150|42|E|region:AU_type:city}}</li>
</ul>
<p>Please let me know what you think, and whether you would like me to do any more testing. -- <a href="../../../t/h/e/User%7EThe_Anome_61a9.html" title="User:The Anome">The Anome</a> 23:46, 13 August 2006 (UTC)</p>
<p>Update: I've regenerated the input dataset using the latest dump data, and performed a few more bot edits to validate the new list, staying within my existing test allowance. I now have geodata available for more than 15,000 towns, cities and villages alone. I can easily do the same for other classes of geographic features later, using the same bot, and the same data-generation code, just by changing the GNS and category filtering parameters. Please let me know if/when I can proceed with adding the city data. -- <a href="../../../t/h/e/User%7EThe_Anome_61a9.html" title="User:The Anome">The Anome</a> 13:14, 18 August 2006 (UTC)</p>
<p>Looks very solid to me -- <b>permissions is granted</b> - do you want a botflag? -- <a href="../../../t/a/w/User%7ETawker_141a.html" title="User:Tawker">Tawker</a> 15:30, 18 August 2006 (UTC)</p>
<dl>
<dd>Thanks! No, I'm fine without a botflag for now, as I'm only making one edit every 30 seconds. There's lots more geodata goodness coming: I've been working on on modularizing the data preparation, in readiness for being able to process mountains, hills, railway stations, mine workings, woodlands, etc, etc. at a later date. -- <a href="../../../t/h/e/User%7EThe_Anome_61a9.html" title="User:The Anome">The Anome</a> 15:27, 19 August 2006 (UTC)</dd>
<dd><i>The above discussion is preserved as an archive of the debate. <span style="color:red"><b>Please do not modify it.</b></span> Subsequent comments should be made in a new section.</i></dd>
</dl>
</div>
<p><br /></p>
<hr />
<div class="boilerplate metadata" style="background-color: #dedaca; margin: 2em 0 0 0; padding: 0 10px 0 10px; border: 1px solid #AAAAAA;">
<dl>
<dd><i>The following discussion is an archived debate. <span style="color:red"><b>Please do not modify it.</b></span> Subsequent comments should be made in a new section.</i></dd>
</dl>
</div>

<div class="printfooter">
Retrieved from "<a href="http://en.wikipedia.org../../../b/o/t/Wikipedia%7EBots_Requests_for_approval_The_Anomebot2_ff61.html">http://en.wikipedia.org../../../b/o/t/Wikipedia%7EBots_Requests_for_approval_The_Anomebot2_ff61.html</a>"</div>
	    	    <!-- end content -->
	    <div class="visualClear"></div>
	  </div>
	</div>
      </div>
      <div id="column-one">
	<div id="p-cactions" class="portlet">
	  <h5>Views</h5>
	  <ul>
	    <li id="ca-nstab-project"
	       class="selected"	       ><a href="../../../b/o/t/Wikipedia%7EBots_Requests_for_approval_The_Anomebot2_ff61.html">Project page</a></li><li id="ca-talk"
	       class="new"	       ><a href="../../../b/o/t/Wikipedia_talk%7EBots_Requests_for_approval_The_Anomebot2_89f2.html">Discussion</a></li><li id="ca-current"
	       	       ><a href="http://en.wikipedia.org/wiki/Wikipedia:Bots/Requests_for_approval/The_Anomebot2">Current revision</a></li>	  </ul>
	</div>
	<div class="portlet" id="p-logo">
	  <a style="background-image: url(../../../images/wiki-en.png);"
	    href="../../../index.html"
	    title="Main Page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
		<div class='portlet' id='p-navigation'>
	  <h5>Navigation</h5>
	  <div class='pBody'>
	    <ul>
	    	      <li id="n-Main-page"><a href="../../../index.html">Main page</a></li>
	     	      <li id="n-Contents"><a href="../../../c/o/n/Wikipedia%7EContents_3181.html">Contents</a></li>
	     	      <li id="n-Featured-content"><a href="../../../f/e/a/Wikipedia%7EFeatured_content_24ba.html">Featured content</a></li>
	     	      <li id="n-currentevents"><a href="../../../c/u/r/Portal%7ECurrent_events_bb60.html">Current events</a></li>
	     	    </ul>
	  </div>
	</div>
		<div class='portlet' id='p-interaction'>
	  <h5>interaction</h5>
	  <div class='pBody'>
	    <ul>
	    	      <li id="n-About-Wikipedia"><a href="../../../a/b/o/Wikipedia%7EAbout_8d82.html">About Wikipedia</a></li>
	     	      <li id="n-portal"><a href="../../../c/o/m/Wikipedia%7ECommunity_Portal_6a3c.html">Community portal</a></li>
	     	      <li id="n-contact"><a href="../../../c/o/n/Wikipedia%7EContact_us_afd6.html">Contact us</a></li>
	     	      <li id="n-sitesupport"><a href="http://wikimediafoundation.org/wiki/Fundraising">Make a donation</a></li>
	     	      <li id="n-help"><a href="../../../c/o/n/Help%7EContents_22de.html">Help</a></li>
	     	    </ul>
	  </div>
	</div>
		<div id="p-search" class="portlet">
	  <h5><label for="searchInput">Search</label></h5>
	  <div id="searchBody" class="pBody">
	    <form action="javascript:goToStatic(3)" id="searchform"><div>
	      <input id="searchInput" name="search" type="text"
	        accesskey="f" value="" />
	      <input type='submit' name="go" class="searchButton" id="searchGoButton"
	        value="Go" />
	    </div></form>
	  </div>
	</div>
	      </div><!-- end of the left (by default at least) column -->
      <div class="visualClear"></div>
      <div id="footer">
    <div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="../../../skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" /></a></div>	<div id="f-copyrightico"><a href="http://wikimediafoundation.org/"><img src="../../../images/wikimedia-button.png" border="0" alt="Wikimedia Foundation"/></a></div>	<ul id="f-list">
	  	  	  <li id="f-credits">This page was last modified 14:02, 28 August 2006 by Wikipedia user <a href="../../../f/r/e/User%7EFreakofnurture_92d3.html" title="User:Freakofnurture">Freakofnurture</a>. Based on work by Wikipedia user(s) <a href="../../../x/a/o/User%7EXaosflux_5b5b.html" title="User:Xaosflux">Xaosflux</a>.</li>	  <li id="f-copyright">All text is available under the terms of the <a class='internal' href="../../../t/e/x/Wikipedia%7EText_of_the_GNU_Free_Documentation_License_702a.html" title="Wikipedia:Text of the GNU Free Documentation License">GNU Free Documentation License</a>. (See <b><a class='internal' href="../../../c/o/p/Wikipedia%7ECopyrights_92c4.html" title="Wikipedia:Copyrights">Copyrights</a></b> for details.) <br /> Wikipedia&reg; is a registered trademark of the <a href="http://www.wikimediafoundation.org">Wikimedia Foundation, Inc</a>., a US-registered <a class='internal' href="../../../5/0/1/501%28c%29.html#501.28c.29.283.29" title="501(c)(3)">501(c)(3)</a> <a href="http://wikimediafoundation.org/wiki/Deductibility_of_donations">tax-deductible</a> <a class='internal' href="../../../n/o/n/Non-profit_organization.html" title="Non-profit organization">nonprofit</a> <a href="../../../c/h/a/Charitable_organization.html" title="Charitable organization">charity</a>.<br /></li>	  <li id="f-about"><a href="../../../a/b/o/Wikipedia%7EAbout_8d82.html" title="Wikipedia:About">About Wikipedia</a></li>	  <li id="f-disclaimer"><a href="../../../g/e/n/Wikipedia%7EGeneral_disclaimer_3e44.html" title="Wikipedia:General disclaimer">Disclaimers</a></li>	  	</ul>
      </div>
    </div>
  </body>
</html>
