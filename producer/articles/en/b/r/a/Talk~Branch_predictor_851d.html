<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    		<meta name="keywords" content="Talk:Branch predictor,CTho,Iain.mcclatchie,Paddu,Dkanter,Ryan Stone" />
		<link rel="shortcut icon" href="/favicon.ico" />
		<link rel="search" type="application/opensearchdescription+xml" href="/w/opensearch_desc.php" title="Wikipedia (English)" />
		<link rel="copyright" href="../../../COPYING.html" />
    <title>Talk:Branch predictor - Wikipedia, the free encyclopedia</title>
    <style type="text/css">/*<![CDATA[*/ @import "../../../skins/htmldump/main.css"; /*]]>*/</style>
    <link rel="stylesheet" type="text/css" media="print" href="../../../skins/common/commonPrint.css" />
    <!--[if lt IE 5.5000]><style type="text/css">@import "../../../skins/monobook/IE50Fixes.css";</style><![endif]-->
    <!--[if IE 5.5000]><style type="text/css">@import "../../../skins/monobook/IE55Fixes.css";</style><![endif]-->
    <!--[if IE 6]><style type="text/css">@import "../../../skins/monobook/IE60Fixes.css";</style><![endif]-->
    <!--[if IE]><script type="text/javascript" src="../../../skins/common/IEFixes.js"></script>
    <meta http-equiv="imagetoolbar" content="no" /><![endif]-->
    <script type="text/javascript" src="../../../skins/common/wikibits.js"></script>
    <script type="text/javascript" src="../../../skins/htmldump/md5.js"></script>
    <script type="text/javascript" src="../../../skins/htmldump/utf8.js"></script>
    <script type="text/javascript" src="../../../skins/htmldump/lookup.js"></script>
    <script type="text/javascript" src="../../../raw/gen.js"></script>        <style type="text/css">/*<![CDATA[*/
@import "../../../raw/MediaWiki%7ECommon.css";
@import "../../../raw/MediaWiki%7EMonobook.css";
@import "../../../raw/gen.css";
/*]]>*/</style>          </head>
  <body
    class="ns-1">
    <div id="globalWrapper">
      <div id="column-content">
	<div id="content">
	  <a name="top" id="contentTop"></a>
	        <h1 class="firstHeading">Talk:Branch predictor</h1>
	  <div id="bodyContent">
	    <h3 id="siteSub">From Wikipedia, the free encyclopedia</h3>
	    <div id="contentSub"></div>
	    	    <div class="usermessage">You have <a href="../../../1/2/7/User_talk%7E127.0.0.1.html" title="User talk:127.0.0.1">new messages</a> (<a href="../../../1/2/7/User_talk%7E127.0.0.1.html" title="User talk:127.0.0.1">last change</a>).</div>	    <!-- start content -->
	    <p>It's not true that all pipelined processors have to do branch prediction -- the processor could just wait on the results of the conditional statement before resuming execution. I know of at least one modern microcontroller that does this. The second paragraph should be changed to say that branch prediction is just the best way to handle conditionals --Ryan Stone 18:08, 17 Nov 2004 (UTC)</p>
<p>Which microcontroller? <a href="../../../i/a/i/User%7EIain.mcclatchie_df3b.html" title="User:Iain.mcclatchie">Iain McClatchie</a> 18:43, 17 Nov 2004 (UTC)</p>
<table id="toc" class="toc" summary="Contents">
<tr>
<td>
<div id="toctitle">
<h2>Contents</h2>
</div>
<ul>
<li class="toclevel-1"><a href="#all_kinds_of_branches.2C_or_just_conditional_branches_.3F"><span class="tocnumber">1</span> <span class="toctext">all kinds of branches, or just conditional branches&#160;?</span></a></li>
<li class="toclevel-1"><a href="#some_comments"><span class="tocnumber">2</span> <span class="toctext">some comments</span></a></li>
<li class="toclevel-1"><a href="#question"><span class="tocnumber">3</span> <span class="toctext">question</span></a></li>
<li class="toclevel-1"><a href="#Comments_in_relation_to_modern_high_performance_MPUs"><span class="tocnumber">4</span> <span class="toctext">Comments in relation to modern high performance MPUs</span></a></li>
</ul>
</td>
</tr>
</table>
<p><script type="text/javascript">
//<![CDATA[
 if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } 
//]]>
</script><a name="all_kinds_of_branches.2C_or_just_conditional_branches_.3F" id="all_kinds_of_branches.2C_or_just_conditional_branches_.3F"></a></p>
<h3><span class="editsection">[<a href="../../../b/r/a/Talk%7EBranch_predictor_851d.html" title="Edit section: all kinds of branches, or just conditional branches&#160;?">edit</a>]</span> <span class="mw-headline">all kinds of branches, or just conditional branches&#160;?</span></h3>
<p>My understanding is that MIPS has a branch delay slot for *every* branch, even unconditional branches.</p>
<dl>
<dd>Yes, that's true. That's because irrespective of whether the branch is conditional or not, fetching the instruction at the target address takes some time. Another way the problem could be solved is to watch out for unconditional jump instructions right at the IF (instrn. fetch) stage instead of waiting for the ID (decode) stage &amp; start fetching at the target address, but this increases the time taken by the IF stage &amp; thus increases the time taken per instruction.</dd>
</dl>
<p>Are these "93.5%" numbers *just* for conditional branches, or do they also include unconditional branches&#160;?</p>
<dl>
<dd>For unconditional branches, there's no use of predicting whether the branch is taken or not. They're always taken! Hence as far as the branch prediction logic goes, these should be treated as normal instructions.</dd>
</dl>
<dl>
<dd>A minor point about "unconditional branch" in MIPS. The `B &lt;target&gt;' "pseudo"-instruction is actually converted by the assembler to `BEQ $0, $0, &lt;target&gt;'. Since register 0 is equal to register 0, the branch is "unconditional". A MIPS processor could just na√Øvely treat it as a conditional branch and do branch prediction, or it could decode the instruction specially &amp; avoid branch prediction. Note that the "unconditional jump" instruction `J &lt;target&gt;' is a real unconditional instruction and not assembler-synthesised. BTW the difference between B and J is that for B (used for nearby branches) the target is specified as a relative offset from the current PC whereas for J (used for "long" jumps) the absolute address of the target is specified. -- <a href="../../../p/a/d/User%7EPaddu_be1f.html" title="User:Paddu">Paddu</a> 07:42, 20 Feb 2005 (UTC)</dd>
</dl>
<dl>
<dd>For unconditional branches, at least on x86 systems, the target still must be predicted. Things like a "switch" statement in a high level language always branch, but it is not clear to where.:</dd>
</dl>
<dl>
<dd>
<dl>
<dd>In what way does the third paragraph of the article not address this point? <a href="../../../i/a/i/User%7EIain.mcclatchie_df3b.html" title="User:Iain.mcclatchie">Iain McClatchie</a> 03:48, 15 October 2005 (UTC)</dd>
</dl>
</dd>
</dl>
<dl>
<dd>
<dl>
<dd>
<dl>
<dd>The article addresses it fine, but the "these should be treated as normal instructions" comment above is wrong. Branch prediction doesn't have to be done after the instruction is decoded, it can be done on the address alone, in which case you must predict the taken despite the fact it is unconditional.</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
<p><a name="some_comments" id="some_comments"></a></p>
<h2><span class="editsection">[<a href="../../../b/r/a/Talk%7EBranch_predictor_851d.html" title="Edit section: some comments">edit</a>]</span> <span class="mw-headline">some comments</span></h2>
<p>I think it isn't made clear early enough in the section that the counters are indexed by the PC.</p>
<p>It might be good to move the local/global/combined predictor sections into a subsection of their own for 2-level predictors.</p>
<p>Good references on 2-level branch predictors: A Comparison of Dynamic Branch Predictors that use Two Levels of Branch History, by Yeh and Patt, 1993 (I've found it online as p257-yeh.pdf) Alternative Implementations of Two-Level Adaptive Branch Prediction, by Yeh and Patt, 1992 (p451-yeh.pdf)</p>
<p>A good (the original?) reference on global-history predictors: Improving the Accuracy of Dynamic Branch Prediction Using Branch Correlation, by Pan, So, and Rahmeh, 1992 (p76-pan.pdf)</p>
<p>A (the?) reference on gskew: Trading Conflict and Capacity Aliasing in Conditional Branch Predictors, by Michaud, Seznec and Uhlig, 1992 (p292-michaud.pdf)</p>
<p>I think a little too much importance is given to the comparison of the "speed" of the various predictor types (the article already mentions the need for overriding predictors, which arise because all interesting predictors are too slow).</p>
<p>It might be worth explaining more why branch prediction is so important. --<a href="../../../c/t/h/User%7ECTho_8891.html" title="User:CTho">CTho</a> 02:20, 23 December 2005 (UTC)</p>
<p><br />
Do we need to mention a little bit about perceptron predictors?</p>
<p><a name="question" id="question"></a></p>
<h2><span class="editsection">[<a href="../../../b/r/a/Talk%7EBranch_predictor_851d.html" title="Edit section: question">edit</a>]</span> <span class="mw-headline">question</span></h2>
<p>the article is not clear. "They allow processors to fetch and execute instructions without waiting for a branch to be resolved." Does the processor then discard the executed instructions if the branch is not taken? is this because logic is a lot slower than execution?</p>
<p><br /></p>
<p><a name="Comments_in_relation_to_modern_high_performance_MPUs" id="Comments_in_relation_to_modern_high_performance_MPUs"></a></p>
<h2><span class="editsection">[<a href="../../../b/r/a/Talk%7EBranch_predictor_851d.html" title="Edit section: Comments in relation to modern high performance MPUs">edit</a>]</span> <span class="mw-headline">Comments in relation to modern high performance MPUs</span></h2>
<p>Great article, it's quite comprehensive. One area that receives less attention than it should is specialized branch predictors. For instance, many of the advances in Intel's newer microarchitectures are adding more and more prediction mechanisms targeted at particular situations:</p>
<p>Indirect branch predictor - also to be added in AMD's new Barcelona core, mechanism to predict the target address of indirect branches. i.e. it picks from the BHT the most likely target address for a given branch Loop detector - mechanism to predict when a loop will be exited</p>
<p>Dkanter 19:38, 13 December 2006 (UTC)</p>

<div class="printfooter">
Retrieved from "<a href="http://en.wikipedia.org../../../b/r/a/Talk%7EBranch_predictor_851d.html">http://en.wikipedia.org../../../b/r/a/Talk%7EBranch_predictor_851d.html</a>"</div>
	    	    <!-- end content -->
	    <div class="visualClear"></div>
	  </div>
	</div>
      </div>
      <div id="column-one">
	<div id="p-cactions" class="portlet">
	  <h5>Views</h5>
	  <ul>
	    <li id="ca-nstab-main"
	       	       ><a href="../../../b/r/a/Branch_predictor.html">Article</a></li><li id="ca-talk"
	       class="selected"	       ><a href="../../../b/r/a/Talk%7EBranch_predictor_851d.html">Discussion</a></li><li id="ca-current"
	       	       ><a href="http://en.wikipedia.org/wiki/Talk:Branch_predictor">Current revision</a></li>	  </ul>
	</div>
	<div class="portlet" id="p-logo">
	  <a style="background-image: url(../../../images/wiki-en.png);"
	    href="../../../index.html"
	    title="Main Page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
		<div class='portlet' id='p-navigation'>
	  <h5>Navigation</h5>
	  <div class='pBody'>
	    <ul>
	    	      <li id="n-Main-page"><a href="../../../index.html">Main page</a></li>
	     	      <li id="n-Contents"><a href="../../../c/o/n/Wikipedia%7EContents_3181.html">Contents</a></li>
	     	      <li id="n-Featured-content"><a href="../../../f/e/a/Wikipedia%7EFeatured_content_24ba.html">Featured content</a></li>
	     	      <li id="n-currentevents"><a href="../../../c/u/r/Portal%7ECurrent_events_bb60.html">Current events</a></li>
	     	    </ul>
	  </div>
	</div>
		<div class='portlet' id='p-interaction'>
	  <h5>interaction</h5>
	  <div class='pBody'>
	    <ul>
	    	      <li id="n-About-Wikipedia"><a href="../../../a/b/o/Wikipedia%7EAbout_8d82.html">About Wikipedia</a></li>
	     	      <li id="n-portal"><a href="../../../c/o/m/Wikipedia%7ECommunity_Portal_6a3c.html">Community portal</a></li>
	     	      <li id="n-contact"><a href="../../../c/o/n/Wikipedia%7EContact_us_afd6.html">Contact us</a></li>
	     	      <li id="n-sitesupport"><a href="http://wikimediafoundation.org/wiki/Fundraising">Make a donation</a></li>
	     	      <li id="n-help"><a href="../../../c/o/n/Help%7EContents_22de.html">Help</a></li>
	     	    </ul>
	  </div>
	</div>
		<div id="p-search" class="portlet">
	  <h5><label for="searchInput">Search</label></h5>
	  <div id="searchBody" class="pBody">
	    <form action="javascript:goToStatic(3)" id="searchform"><div>
	      <input id="searchInput" name="search" type="text"
	        accesskey="f" value="" />
	      <input type='submit' name="go" class="searchButton" id="searchGoButton"
	        value="Go" />
	    </div></form>
	  </div>
	</div>
	      </div><!-- end of the left (by default at least) column -->
      <div class="visualClear"></div>
      <div id="footer">
    <div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="../../../skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" /></a></div>	<div id="f-copyrightico"><a href="http://wikimediafoundation.org/"><img src="../../../images/wikimedia-button.png" border="0" alt="Wikimedia Foundation"/></a></div>	<ul id="f-list">
	  	  	  <li id="f-credits">This page was last modified 19:38, 13 December 2006 by Wikipedia user Dkanter. Based on work by Wikipedia user(s) <a href="../../../c/t/h/User%7ECTho_8891.html" title="User:CTho">CTho</a>, <a href="../../../i/a/i/User%7EIain.mcclatchie_df3b.html" title="User:Iain.mcclatchie">Iain.mcclatchie</a>, <a href="../../../p/a/d/User%7EPaddu_be1f.html" title="User:Paddu">Paddu</a>, <a href="../../../d/a/v/User%7EDavidCary_1a42.html" title="User:DavidCary">DavidCary</a> and Ryan Stone and Anonymous user(s) of Wikipedia.</li>	  <li id="f-copyright">All text is available under the terms of the <a class='internal' href="../../../t/e/x/Wikipedia%7EText_of_the_GNU_Free_Documentation_License_702a.html" title="Wikipedia:Text of the GNU Free Documentation License">GNU Free Documentation License</a>. (See <b><a class='internal' href="../../../c/o/p/Wikipedia%7ECopyrights_92c4.html" title="Wikipedia:Copyrights">Copyrights</a></b> for details.) <br /> Wikipedia&reg; is a registered trademark of the <a href="http://www.wikimediafoundation.org">Wikimedia Foundation, Inc</a>., a US-registered <a class='internal' href="../../../5/0/1/501%28c%29.html#501.28c.29.283.29" title="501(c)(3)">501(c)(3)</a> <a href="http://wikimediafoundation.org/wiki/Deductibility_of_donations">tax-deductible</a> <a class='internal' href="../../../n/o/n/Non-profit_organization.html" title="Non-profit organization">nonprofit</a> <a href="../../../c/h/a/Charitable_organization.html" title="Charitable organization">charity</a>.<br /></li>	  <li id="f-about"><a href="../../../a/b/o/Wikipedia%7EAbout_8d82.html" title="Wikipedia:About">About Wikipedia</a></li>	  <li id="f-disclaimer"><a href="../../../g/e/n/Wikipedia%7EGeneral_disclaimer_3e44.html" title="Wikipedia:General disclaimer">Disclaimers</a></li>	  	</ul>
      </div>
    </div>
  </body>
</html>
