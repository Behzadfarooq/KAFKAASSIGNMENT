<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    		<meta name="keywords" content="Branch table,Addition,Array,Assembly language,Branch (computer science),CPU,Compiler,Computer architecture,Computer programming,Country code,Embedded system" />
		<link rel="shortcut icon" href="/favicon.ico" />
		<link rel="search" type="application/opensearchdescription+xml" href="/w/opensearch_desc.php" title="Wikipedia (English)" />
		<link rel="copyright" href="../../../COPYING.html" />
    <title>Branch table - Wikipedia, the free encyclopedia</title>
    <style type="text/css">/*<![CDATA[*/ @import "../../../skins/htmldump/main.css"; /*]]>*/</style>
    <link rel="stylesheet" type="text/css" media="print" href="../../../skins/common/commonPrint.css" />
    <!--[if lt IE 5.5000]><style type="text/css">@import "../../../skins/monobook/IE50Fixes.css";</style><![endif]-->
    <!--[if IE 5.5000]><style type="text/css">@import "../../../skins/monobook/IE55Fixes.css";</style><![endif]-->
    <!--[if IE 6]><style type="text/css">@import "../../../skins/monobook/IE60Fixes.css";</style><![endif]-->
    <!--[if IE]><script type="text/javascript" src="../../../skins/common/IEFixes.js"></script>
    <meta http-equiv="imagetoolbar" content="no" /><![endif]-->
    <script type="text/javascript" src="../../../skins/common/wikibits.js"></script>
    <script type="text/javascript" src="../../../skins/htmldump/md5.js"></script>
    <script type="text/javascript" src="../../../skins/htmldump/utf8.js"></script>
    <script type="text/javascript" src="../../../skins/htmldump/lookup.js"></script>
    <script type="text/javascript" src="../../../raw/gen.js"></script>        <style type="text/css">/*<![CDATA[*/
@import "../../../raw/MediaWiki%7ECommon.css";
@import "../../../raw/MediaWiki%7EMonobook.css";
@import "../../../raw/gen.css";
/*]]>*/</style>          </head>
  <body
    class="ns-0">
    <div id="globalWrapper">
      <div id="column-content">
	<div id="content">
	  <a name="top" id="contentTop"></a>
	        <h1 class="firstHeading">Branch table</h1>
	  <div id="bodyContent">
	    <h3 id="siteSub">From Wikipedia, the free encyclopedia</h3>
	    <div id="contentSub"></div>
	    	    <div class="usermessage">You have <a href="../../../1/2/7/User_talk%7E127.0.0.1.html" title="User talk:127.0.0.1">new messages</a> (<a href="../../../1/2/7/User_talk%7E127.0.0.1.html" title="User talk:127.0.0.1">last change</a>).</div>	    <!-- start content -->
	    <p>In <a href="../../../c/o/m/Computer_programming.html" title="Computer programming">computer programming</a>, a <b>branch table</b> (sometimes known as a <b>jump table</b>) is a term used to describe an efficient method of transferring program control (<a href="../../../b/r/a/Branch_%28computer_science%29.html" title="Branch (computer science)">branching</a>) to another part of a program using a table of branch <a href="../../../i/n/s/Instruction_%28computer_science%29.html" title="Instruction (computer science)">instructions</a>. The branch table construction is commonly used when programming in <a href="../../../a/s/s/Assembly_language.html" title="Assembly language">assembly language</a> but may also be generated by a <a href="../../../c/o/m/Compiler.html" title="Compiler">compiler</a>.</p>
<p>A branch table consists of a serial list of <a href="../../../u/n/c/Unconditional_branch.html" title="Unconditional branch">unconditional branch</a> instructions that is branched into using an <a href="../../../o/f/f/Offset_%28computer%29.html" title="Offset (computer)">offset</a> created by <a href="../../../m/u/l/Multiple.html" title="Multiple">multiplying</a> a <a href="../../../s/e/q/Sequential.html" title="Sequential">sequential</a> index by the instruction length (the number of bytes in memory occupied by each branch instruction). It makes use of the fact that <a href="../../../m/a/c/Machine_code.html" title="Machine code">machine code</a> <a href="../../../i/n/s/Instruction_%28computer_science%29.html" title="Instruction (computer science)">instructions</a> for branching have a fixed length and can be executed extremely efficiently by most <a href="../../../h/a/r/Hardware.html" title="Hardware">hardware</a>, and is most useful when dealing with <a href="../../../r/a/w/Raw_data.html" title="Raw data">raw data</a> values that may be easily converted to <a href="../../../s/e/q/Sequential.html" title="Sequential">sequential</a> index values. Given such data, a branch table can be extremely efficient; it usually consists of the following steps: optionally <a href="../../../v/a/l/Validation.html" title="Validation">validating</a> the input data to ensure it is acceptable; <a href="../../../t/r/a/Transform.html" title="Transform">transforming</a> the data into an offset into the branch table, this usually involves multiplying or <a href="../../../s/h/i/Shifting.html" title="Shifting">shifting</a> it to take into account the instruction length; and branching to an address made up of the base of the table and the generated offset: this often involves an <a href="../../../a/d/d/Addition.html" title="Addition">addition</a> of the offset onto the <a href="../../../p/r/o/Program_counter.html" title="Program counter">program counter</a> <a href="../../../p/r/o/Processor_register.html" title="Processor register">register</a>.</p>
<p>Another method of implementing a branch table is with an <a href="../../../a/r/r/Array.html" title="Array">array</a> of addresses from which the required address is retrieved. This method can result in smaller code, and avoids the indirect jump. The method used to implement a branch table is usually based on the architecture of the processor on which the code is to be run.</p>
<p>Branch tables are often used in <a href="../../../o/p/e/Operating_system.html" title="Operating system">operating system</a> development. Both <a href="../../../s/y/s/System_call.html" title="System call">system calls</a> and <a href="../../../l/i/b/Library_%28computer_science%29.html" title="Library (computer science)">library</a> functions may be referenced by an <a href="../../../i/n/t/Integer.html" title="Integer">integer</a> index into a branch table. This can improve compatibility with subsequent software versions: if the code of a function and the address of its <a href="../../../e/n/t/Entry_point.html" title="Entry point">entry point</a> is changed, only the branch instruction in the branch table needs to be adjusted, application software compiled against the library or for the operating system does not need modification. In addition, calling functions by number (the index into the table) can be useful for some cases when programming. In addition, some <a href="../../../c/o/m/Computer_architecture.html" title="Computer architecture">computer architectures</a> use branch tables for dispatching <a href="../../../i/n/t/Interrupt.html" title="Interrupt">interrupts</a>.</p>
<p><a name="Example" id="Example"></a></p>
<h2><span class="editsection">[<a href="../../../b/r/a/Branch_table.html" title="Edit section: Example">edit</a>]</span> <span class="mw-headline">Example</span></h2>
<p>A simple example of branch table use in the 8-bit <a href="../../../p/i/c/PIC_microcontroller_b067.html" title="PIC microcontroller">Microchip PIC</a> assembly language is:</p>
<pre>
    movf    INDEX,W     ; move the index value into the W (working) register from the INDEX memory location
    addwf   PCL,F       ; add it onto the program counter register (PCL). each PIC instruction is one byte
                        ; so there is no need to perform any multiplication. most architectures will transform
                        ; the index in some way before adding it to the program counter

table                   ; the branch table begins here with this label
    goto    index_zero  ; each of these goto instructions is an unconditional branch to a different section
    goto    index_one   ; of code
    goto    index_two
    goto    index_three

index_zero
    ; code is added here to perform whatever action is required when INDEX was equal to zero
    return

index_one
...
</pre>
<p><a name="History" id="History"></a></p>
<h2><span class="editsection">[<a href="../../../b/r/a/Branch_table.html" title="Edit section: History">edit</a>]</span> <span class="mw-headline">History</span></h2>
<p>The use of branch tables and the mapping of raw data representations to an index value was common in the early days of computing when <a href="../../../m/e/m/Memory_%28computers%29.html" title="Memory (computers)">memory</a> was expensive and <a href="../../../c/p/u/CPU_2b55.html" title="CPU">CPUs</a> slow, and compact data representation and choosing alternatives efficiently were important. It is also frequently seen in modern <a href="../../../e/m/b/Embedded_system.html" title="Embedded system">embedded</a> programming, which often requires code to fit into tightly constrained space and operate efficiently. The main advantages of such conversion is that once a value has been converted to an index, it can be used to branch into a branch table or retrieve a value from a <a href="../../../l/o/o/Lookup_table.html" title="Lookup table">lookup table</a> efficiently from a table or database at any time in the future without being converted again. For example, there are a relatively few countries in the world which may easily be represented by a <a href="../../../c/o/u/Country_code.html" title="Country code">country code</a>. This code can be stored simply as a country number in computer records rather than a text string, such as "Central African Republic," resulting in massive savings in storage and processing time. Numeric comparisons are significantly faster than text string comparisons and indexed retrievals significantly faster than string searches or retrieval from a file. However, disadvantages include an additional level of <a href="../../../i/n/d/Indirection.html" title="Indirection">indirection</a>—of little importance to a computer, but adding to code and data complexity for the programmer—and, as the <a href="../../../m/i/l/Millennium_bug.html" title="Millennium bug">Millennium bug</a> has shown, sometimes leading to later problems when the space permitted for the index or representation is insufficient.</p>
<p><a name="See_also" id="See_also"></a></p>
<h2><span class="editsection">[<a href="../../../b/r/a/Branch_table.html" title="Edit section: See also">edit</a>]</span> <span class="mw-headline">See also</span></h2>
<ul>
<li><a href="../../../l/o/o/Lookup_table.html" title="Lookup table">Lookup table</a></li>
<li><a href="../../../v/i/r/Virtual_method_table.html" title="Virtual method table">Virtual method table</a></li>
</ul>

<div class="printfooter">
Retrieved from "<a href="http://en.wikipedia.org../../../b/r/a/Branch_table.html">http://en.wikipedia.org../../../b/r/a/Branch_table.html</a>"</div>
	    <div id="catlinks"><p class='catlinks'><a href="../../../c/a/t/Special%7ECategories_101d.html" title="Special:Categories">Category</a>: <span dir='ltr'><a href="../../../p/r/o/Category%7EProgramming_constructs_6564.html" title="Category:Programming constructs">Programming constructs</a></span></p></div>	    <!-- end content -->
	    <div class="visualClear"></div>
	  </div>
	</div>
      </div>
      <div id="column-one">
	<div id="p-cactions" class="portlet">
	  <h5>Views</h5>
	  <ul>
	    <li id="ca-nstab-main"
	       class="selected"	       ><a href="../../../b/r/a/Branch_table.html">Article</a></li><li id="ca-talk"
	       class="new"	       ><a href="../../../b/r/a/Talk%7EBranch_table_8d81.html">Discussion</a></li><li id="ca-current"
	       	       ><a href="http://en.wikipedia.org/wiki/Branch_table">Current revision</a></li>	  </ul>
	</div>
	<div class="portlet" id="p-logo">
	  <a style="background-image: url(../../../images/wiki-en.png);"
	    href="../../../index.html"
	    title="Main Page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
		<div class='portlet' id='p-navigation'>
	  <h5>Navigation</h5>
	  <div class='pBody'>
	    <ul>
	    	      <li id="n-Main-page"><a href="../../../index.html">Main page</a></li>
	     	      <li id="n-Contents"><a href="../../../c/o/n/Wikipedia%7EContents_3181.html">Contents</a></li>
	     	      <li id="n-Featured-content"><a href="../../../f/e/a/Wikipedia%7EFeatured_content_24ba.html">Featured content</a></li>
	     	      <li id="n-currentevents"><a href="../../../c/u/r/Portal%7ECurrent_events_bb60.html">Current events</a></li>
	     	    </ul>
	  </div>
	</div>
		<div class='portlet' id='p-interaction'>
	  <h5>interaction</h5>
	  <div class='pBody'>
	    <ul>
	    	      <li id="n-About-Wikipedia"><a href="../../../a/b/o/Wikipedia%7EAbout_8d82.html">About Wikipedia</a></li>
	     	      <li id="n-portal"><a href="../../../c/o/m/Wikipedia%7ECommunity_Portal_6a3c.html">Community portal</a></li>
	     	      <li id="n-contact"><a href="../../../c/o/n/Wikipedia%7EContact_us_afd6.html">Contact us</a></li>
	     	      <li id="n-sitesupport"><a href="http://wikimediafoundation.org/wiki/Fundraising">Make a donation</a></li>
	     	      <li id="n-help"><a href="../../../c/o/n/Help%7EContents_22de.html">Help</a></li>
	     	    </ul>
	  </div>
	</div>
		<div id="p-search" class="portlet">
	  <h5><label for="searchInput">Search</label></h5>
	  <div id="searchBody" class="pBody">
	    <form action="javascript:goToStatic(3)" id="searchform"><div>
	      <input id="searchInput" name="search" type="text"
	        accesskey="f" value="" />
	      <input type='submit' name="go" class="searchButton" id="searchGoButton"
	        value="Go" />
	    </div></form>
	  </div>
	</div>
	<div id="p-lang" class="portlet">
	  <h5>In other languages</h5>
	  <div class="pBody">
	    <ul>
	      	      <li>
	      <a href="../../../../de/s/p/r/Sprungtabelle.html">Deutsch</a>
	      </li>
	      	      <li>
	      <a href="../../../../ja/%E3%83%86/%E3%83%BC/%E3%83%96/%E3%83%86%E3%83%BC%E3%83%96%E3%83%AB%E3%82%B8%E3%83%A3%E3%83%B3%E3%83%97.html">日本語</a>
	      </li>
	      	    </ul>
	  </div>
	</div>
	      </div><!-- end of the left (by default at least) column -->
      <div class="visualClear"></div>
      <div id="footer">
    <div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="../../../skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" /></a></div>	<div id="f-copyrightico"><a href="http://wikimediafoundation.org/"><img src="../../../images/wikimedia-button.png" border="0" alt="Wikimedia Foundation"/></a></div>	<ul id="f-list">
	  	  	  <li id="f-credits">This page was last modified 09:41, 24 January 2007 by Wikipedia user <a href="../../../b/a/r/User%7EBarticus88_0fa5.html" title="User:Barticus88">Barticus88</a>. Based on work by Wikipedia user(s) <a href="../../../n/i/c/User%7ENicM_3e6b.html" title="User:NicM">NicM</a>, <a href="../../../j/o/n/User%7EJonHarder_ef53.html" title="User:JonHarder">JonHarder</a>, <a href="../../../m/a/r/User%7EMarshBot_3d9e.html" title="User:MarshBot">MarshBot</a> and <a href="../../../k/d/a/User%7EKdakin_15f6.html" title="User:Kdakin">Kdakin</a> and Anonymous user(s) of Wikipedia.</li>	  <li id="f-copyright">All text is available under the terms of the <a class='internal' href="../../../t/e/x/Wikipedia%7EText_of_the_GNU_Free_Documentation_License_702a.html" title="Wikipedia:Text of the GNU Free Documentation License">GNU Free Documentation License</a>. (See <b><a class='internal' href="../../../c/o/p/Wikipedia%7ECopyrights_92c4.html" title="Wikipedia:Copyrights">Copyrights</a></b> for details.) <br /> Wikipedia&reg; is a registered trademark of the <a href="http://www.wikimediafoundation.org">Wikimedia Foundation, Inc</a>., a US-registered <a class='internal' href="../../../5/0/1/501%28c%29.html#501.28c.29.283.29" title="501(c)(3)">501(c)(3)</a> <a href="http://wikimediafoundation.org/wiki/Deductibility_of_donations">tax-deductible</a> <a class='internal' href="../../../n/o/n/Non-profit_organization.html" title="Non-profit organization">nonprofit</a> <a href="../../../c/h/a/Charitable_organization.html" title="Charitable organization">charity</a>.<br /></li>	  <li id="f-about"><a href="../../../a/b/o/Wikipedia%7EAbout_8d82.html" title="Wikipedia:About">About Wikipedia</a></li>	  <li id="f-disclaimer"><a href="../../../g/e/n/Wikipedia%7EGeneral_disclaimer_3e44.html" title="Wikipedia:General disclaimer">Disclaimers</a></li>	  	</ul>
      </div>
    </div>
  </body>
</html>
