<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    		<meta name="keywords" content="Binary scaling,Assembly language,C programming language,Computer programming,Digital Signal Processing,Digital signal processing,Discrete cosine transform,Exponentiation,Fixed-point arithmetic,Flight simulation,Floating point" />
		<link rel="shortcut icon" href="/favicon.ico" />
		<link rel="search" type="application/opensearchdescription+xml" href="/w/opensearch_desc.php" title="Wikipedia (English)" />
		<link rel="copyright" href="../../../COPYING.html" />
    <title>Binary scaling - Wikipedia, the free encyclopedia</title>
    <style type="text/css">/*<![CDATA[*/ @import "../../../skins/htmldump/main.css"; /*]]>*/</style>
    <link rel="stylesheet" type="text/css" media="print" href="../../../skins/common/commonPrint.css" />
    <!--[if lt IE 5.5000]><style type="text/css">@import "../../../skins/monobook/IE50Fixes.css";</style><![endif]-->
    <!--[if IE 5.5000]><style type="text/css">@import "../../../skins/monobook/IE55Fixes.css";</style><![endif]-->
    <!--[if IE 6]><style type="text/css">@import "../../../skins/monobook/IE60Fixes.css";</style><![endif]-->
    <!--[if IE]><script type="text/javascript" src="../../../skins/common/IEFixes.js"></script>
    <meta http-equiv="imagetoolbar" content="no" /><![endif]-->
    <script type="text/javascript" src="../../../skins/common/wikibits.js"></script>
    <script type="text/javascript" src="../../../skins/htmldump/md5.js"></script>
    <script type="text/javascript" src="../../../skins/htmldump/utf8.js"></script>
    <script type="text/javascript" src="../../../skins/htmldump/lookup.js"></script>
    <script type="text/javascript" src="../../../raw/gen.js"></script>        <style type="text/css">/*<![CDATA[*/
@import "../../../raw/MediaWiki%7ECommon.css";
@import "../../../raw/MediaWiki%7EMonobook.css";
@import "../../../raw/gen.css";
/*]]>*/</style>          </head>
  <body
    class="ns-0">
    <div id="globalWrapper">
      <div id="column-content">
	<div id="content">
	  <a name="top" id="contentTop"></a>
	        <h1 class="firstHeading">Binary scaling</h1>
	  <div id="bodyContent">
	    <h3 id="siteSub">From Wikipedia, the free encyclopedia</h3>
	    <div id="contentSub"></div>
	    	    	    <!-- start content -->
	    <div class="messagebox merge metadata">
<div class="floatleft"><span><a href="../../../m/e/r/Image%7EMerge-arrow.gif_fe55.html" class="image" title=""><img src="../../../upload/shared/6/68/Merge-arrow.gif" alt="" width="50" height="20" longdesc="../../../m/e/r/Image%7EMerge-arrow.gif_fe55.html" /></a></span></div>
It has been suggested that this article or section be <a href="../../../m/e/r/Wikipedia%7EMerging_and_moving_pages_8b77.html" title="Wikipedia:Merging and moving pages">merged</a> into <i><a href="../../../f/i/x/Fixed-point_arithmetic.html" title="Fixed-point arithmetic">Fixed-point arithmetic</a></i>. (<a href="../../../f/i/x/Talk%7EFixed-point_arithmetic_226a.html" title="Talk:Fixed-point arithmetic">Discuss</a>)</div>
<p><b>Binary scaling</b> is a <a href="../../../c/o/m/Computer_programming.html" title="Computer programming">computer programming</a> technique used mainly by embedded <a href="../../../c/_/p/C_programming_language.html" title="C programming language">C</a>, <a href="../../../d/i/g/Digital_signal_processing.html" title="Digital signal processing">DSP</a> and <a href="../../../a/s/s/Assembly_language.html" title="Assembly language">assembler</a> programmers to perform a psuedo <a href="../../../f/l/o/Floating_point.html" title="Floating point">floating point</a> using <a href="../../../i/n/t/Integer.html" title="Integer">integer</a> arithmetic. It is faster than directly using floating point instructions and is more accurate, but care must be taken not allow <a href="../../../o/v/e/Overflow.html" title="Overflow">overflow</a>.</p>
<p>A position for the virtual 'binary point' is taken, and then subsequent arithetic operations determine the resultants 'binary point'.</p>
<p>Binary points obey the mathematical laws of <a href="../../../e/x/p/Exponentiation.html" title="Exponentiation">exponentiation</a>.</p>
<p>To give an example, a common way to use integer maths to simulate floating point is to multiply the co-efficients by 65536. This is currently used in the microwindows utility nxcal to linearise the output of <a href="../../../t/o/u/Touchscreen.html" title="Touchscreen">touchscreens</a>.</p>
<p>This will place the binary point at B16.</p>
<p>For instance to represent 1.2 and 5.6 floating point real numbers as B16 one multiplies them by 2 ^ 16 giving</p>
<pre>
78643 and 367001
</pre>
<p>Multiplying these together gives</p>
<pre>
28862059643
</pre>
<p>To convert it back to B16, divide it by 2 ^ 16.</p>
<p>This gives 440400B16, which when converted back to a floating point number (by diving again by 2 ^ 16, but holding the result as floating point) gives 6.71999. The correct floating point result is 6.72.</p>
<p>The scaling range here is for any number between 65535.9999 and -65536.0 with 16 bits to hold fractional quantities (of course assuming the use of a 64 bit result register). Note that some computer architectures may restrict arithmetic to 32 bit results. In this case extreme care must be taken not to overflow the 32 bit register. For other number ranges the binary scale can be adjusted for optimum accuracy.</p>
<p><a name="Re-Scaling_after_Multiplication" id="Re-Scaling_after_Multiplication"></a></p>
<h2><span class="editsection">[<a href="../../../b/i/n/Binary_scaling.html" title="Edit section: Re-Scaling after Multiplication">edit</a>]</span> <span class="mw-headline">Re-Scaling after Multiplication</span></h2>
<p>The example above for a B16 multiplication is a simplified example. Re-scaling depends on both the B scale value and the word size. B16 is often used in 32 bit systems because it works simply by multipling and dividing by 65536 (or shifting 16 bits).</p>
<p>Consider the Binary Point in a 32 bit word thus:</p>
<pre>
0 1 2 3 4 5 6 7 8 9 
 X X X X X X X X X X X X X X X X X X X X X X X X X X X X X X X X
</pre>
<p>Placing the binary point at</p>
<ul>
<li>0 gives a range of -1.0 to 0.999999.</li>
<li>1 gives a range of -2.0 to 1.999999</li>
<li>2 gives a range of -4.0 to 3.999999 and so on.</li>
</ul>
<p>When using different B scalings the complete B scaling formula must be used.</p>
<p>Consider a 32 bit word size, and two variables, one with a B scaling of 2 and the other with a scaling of 4.</p>
<p>1.4 @ B2 is 1.4 * (2 ^ (wordsize-2-1)) == 1.4 * 2 ^ 29 == 0x2CCCCCCD</p>
<p>Note that here the 1.4 values is very well represented with 30 fraction bits&#160;! A 32 bit <a href="../../../i/e/e/IEEE_floating-point_standard_f5de.html" title="IEEE floating-point standard">real number</a> has 23 bits to store the fraction in. This is why B scaling is always more accurate than floating point of the same wordsize. This is especially useful in <a href="../../../i/n/t/Integrator.html" title="Integrator">integrators</a> or repeated summing of small quantities where <a href="../../../r/o/u/Rounding_error.html" title="Rounding error">rounding error</a> can be a subtle but very dangerous problem, when using <a href="../../../f/l/o/Floating_point.html" title="Floating point">floating point</a>.</p>
<p>Now a larger number 15.2 at B4.</p>
<p>15.2 @ B4 is 15.2 * (2 ^ (wordsize-4-1)) == 15.2 * 2 ^ 27 == 0x79999999A</p>
<p>Again the number of bits to store the fraction is 28 bits. Multiplying these 32 bit numbers give the 64 bit result 0x1547AE14A51EB852</p>
<p>This result is in B7 in a 64 bit word. Shifting it down by 32 bits gives the result in B7 in 32 bits.</p>
<p>0x1547AE14</p>
<p>To convert back to floating point, divide this by (2^(wordsize-7-1)) == 21.2800000099</p>
<p>Various scalings maybe used. B0 for instance can be used to represent any number between -1 and 0.999999999.</p>
<p><a name="Binary_Angles" id="Binary_Angles"></a></p>
<h2><span class="editsection">[<a href="../../../b/i/n/Binary_scaling.html" title="Edit section: Binary Angles">edit</a>]</span> <span class="mw-headline">Binary Angles</span></h2>
<p>Binary angles are mapped using B0, with 0 as 0 degrees, 0.5 as 90 (or pi/4), -1.0 or 0.9999999 as 180 (or pi/2) and 270 as -0.5 (or 3.pi/2). When these binary angles are added using normal <a href="../../../t/w/o/Twos_complement.html" title="Twos complement">twos complement</a> mathematics the rotation of the angles is correct, even when crossing the sign boundary (this of course does away with check like ((if &gt;= 360.0) when handling normal degrees).</p>
<div class="thumb tright">
<div class="thumbinner" style="width:252px;"><a href="../../../b/i/n/Image%7EBinary_angles.png_a9e9.html" class="internal" title="Binary Angles Diagram"><img src="../../../upload/thumb/d/d8/Binary_angles.png/250px-Binary_angles.png" alt="Binary Angles Diagram" width="250" height="188" longdesc="../../../b/i/n/Image%7EBinary_angles.png_a9e9.html" class="thumbimage" /></a>
<div class="thumbcaption">
<div class="magnify" style="float:right"><a href="../../../b/i/n/Image%7EBinary_angles.png_a9e9.html" class="internal" title="Enlarge"><img src="../../../skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div>
Binary Angles Diagram</div>
</div>
</div>
<p><a name="Application_of_Binary_Scaling_Techniques" id="Application_of_Binary_Scaling_Techniques"></a></p>
<h2><span class="editsection">[<a href="../../../b/i/n/Binary_scaling.html" title="Edit section: Application of Binary Scaling Techniques">edit</a>]</span> <span class="mw-headline">Application of Binary Scaling Techniques</span></h2>
<p>Binary scaling techniques were used in the 1970's and 80's for real time computing that was mathematically intensive, such as <a href="../../../f/l/i/Flight_simulation.html" title="Flight simulation">flight simulation</a>. The code was often commented with the binary scalings of the intermediate results of equations.</p>
<p>Binary scalling is still used in many <a href="../../../d/i/g/Digital_Signal_Processing_bae3.html" title="Digital Signal Processing">DSP</a> applications and custom made microprocessors are usually based on binary scaling techniques.</p>
<p>Binary scaling is currently used in the Linux microwindows release to linearise <a href="../../../t/o/u/Touchscreen.html" title="Touchscreen">touchscreens</a>. It is also used in the <a href="../../../d/i/s/Discrete_cosine_transform.html" title="Discrete cosine transform">DCT</a> used to compress <a href="../../../j/p/e/JPEG_907e.html" title="JPEG">JPEG</a> images in utilities such as the <a href="../../../g/i/m/GIMP_b6ef.html" title="GIMP">GIMP</a>.</p>
<p>Although floating point has taken over to a large degree, where speed and extra accuracy are required, binary scaling is faster and more accurate.</p>

<!-- 
Pre-expand include size: 1088 bytes
Post-expand include size: 486 bytes
Template argument size: 121 bytes
Maximum: 2048000 bytes
-->
<div class="printfooter">
Retrieved from "<a href="http://en.wikipedia.org../../../b/i/n/Binary_scaling.html">http://en.wikipedia.org../../../b/i/n/Binary_scaling.html</a>"</div>
	    <div id="catlinks"><p class='catlinks'><a href="../../../c/a/t/Special%7ECategories_101d.html" title="Special:Categories">Categories</a>: <span dir='ltr'><a href="../../../a/r/t/Category%7EArticles_to_be_merged_since_December_2006_b9a3.html" title="Category:Articles to be merged since December 2006">Articles to be merged since December 2006</a></span> | <span dir='ltr'><a href="../../../c/o/m/Category%7EComputing_terminology_4d82.html" title="Category:Computing terminology">Computing terminology</a></span> | <span dir='ltr'><a href="../../../c/o/m/Category%7EComputer_programming_257b.html" title="Category:Computer programming">Computer programming</a></span></p></div>	    <!-- end content -->
	    <div class="visualClear"></div>
	  </div>
	</div>
      </div>
      <div id="column-one">
	<div id="p-cactions" class="portlet">
	  <h5>Views</h5>
	  <ul>
	    <li id="ca-nstab-main"
	       class="selected"	       ><a href="../../../b/i/n/Binary_scaling.html">Article</a></li><li id="ca-talk"
	       	       ><a href="../../../b/i/n/Talk%7EBinary_scaling_da08.html">Discussion</a></li><li id="ca-current"
	       	       ><a href="http://en.wikipedia.org/wiki/Binary_scaling">Current revision</a></li>	  </ul>
	</div>
	<div class="portlet" id="p-logo">
	  <a style="background-image: url(../../../images/wiki-en.png);"
	    href="../../../index.html"
	    title="Main Page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
		<div class='portlet' id='p-navigation'>
	  <h5>Navigation</h5>
	  <div class='pBody'>
	    <ul>
	    	      <li id="n-Main-page"><a href="../../../index.html">Main page</a></li>
	     	      <li id="n-Contents"><a href="../../../c/o/n/Wikipedia%7EContents_3181.html">Contents</a></li>
	     	      <li id="n-Featured-content"><a href="../../../f/e/a/Wikipedia%7EFeatured_content_24ba.html">Featured content</a></li>
	     	      <li id="n-currentevents"><a href="../../../c/u/r/Portal%7ECurrent_events_bb60.html">Current events</a></li>
	     	    </ul>
	  </div>
	</div>
		<div class='portlet' id='p-interaction'>
	  <h5>interaction</h5>
	  <div class='pBody'>
	    <ul>
	    	      <li id="n-About-Wikipedia"><a href="../../../a/b/o/Wikipedia%7EAbout_8d82.html">About Wikipedia</a></li>
	     	      <li id="n-portal"><a href="../../../c/o/m/Wikipedia%7ECommunity_Portal_6a3c.html">Community portal</a></li>
	     	      <li id="n-contact"><a href="../../../c/o/n/Wikipedia%7EContact_us_afd6.html">Contact us</a></li>
	     	      <li id="n-sitesupport"><a href="http://wikimediafoundation.org/wiki/Fundraising">Make a donation</a></li>
	     	      <li id="n-help"><a href="../../../c/o/n/Help%7EContents_22de.html">Help</a></li>
	     	    </ul>
	  </div>
	</div>
		<div id="p-search" class="portlet">
	  <h5><label for="searchInput">Search</label></h5>
	  <div id="searchBody" class="pBody">
	    <form action="javascript:goToStatic(3)" id="searchform"><div>
	      <input id="searchInput" name="search" type="text"
	        accesskey="f" value="" />
	      <input type='submit' name="go" class="searchButton" id="searchGoButton"
	        value="Go" />
	    </div></form>
	  </div>
	</div>
	      </div><!-- end of the left (by default at least) column -->
      <div class="visualClear"></div>
      <div id="footer">
    <div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="../../../skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" /></a></div>	<div id="f-copyrightico"><a href="http://wikimediafoundation.org/"><img src="../../../images/wikimedia-button.png" border="0" alt="Wikimedia Foundation"/></a></div>	<ul id="f-list">
	  	  	  <li id="f-credits">This page was last modified 16:10, 17 January 2007 by Wikipedia user <a href="../../../r/e/d/User%7ERedWolf_0f32.html" title="User:RedWolf">RedWolf</a>. Based on work by Wikipedia user(s) <a href="../../../s/m/a/User%7ESmackBot_cc7a.html" title="User:SmackBot">SmackBot</a>, <a href="../../../w/h/o/User%7EWhoop_whoop_d92f.html" title="User:Whoop whoop">Whoop whoop</a>, J maccallum, <a href="../../../r/m/k/User%7ERmky87_07f5.html" title="User:Rmky87">Rmky87</a>, <a href="../../../r/o/b/User%7ERobin48gx_cc45.html" title="User:Robin48gx">Robin48gx</a>, <a href="../../../p/e/r/User%7EPeripitus_dfdd.html" title="User:Peripitus">Peripitus</a>, <a href="../../../e/l/o/User%7EElonka_d4b2.html" title="User:Elonka">Elonka</a> and <a href="../../../n/e/h/User%7ENehwyn_e0df.html" title="User:Nehwyn">Nehwyn</a> and Anonymous user(s) of Wikipedia.</li>	  <li id="f-copyright">All text is available under the terms of the <a class='internal' href="../../../t/e/x/Wikipedia%7EText_of_the_GNU_Free_Documentation_License_702a.html" title="Wikipedia:Text of the GNU Free Documentation License">GNU Free Documentation License</a>. (See <b><a class='internal' href="../../../c/o/p/Wikipedia%7ECopyrights_92c4.html" title="Wikipedia:Copyrights">Copyrights</a></b> for details.) <br /> Wikipedia&reg; is a registered trademark of the <a href="http://www.wikimediafoundation.org">Wikimedia Foundation, Inc</a>., a US-registered <a class='internal' href="../../../5/0/1/501%28c%29.html#501.28c.29.283.29" title="501(c)(3)">501(c)(3)</a> <a href="http://wikimediafoundation.org/wiki/Deductibility_of_donations">tax-deductible</a> <a class='internal' href="../../../n/o/n/Non-profit_organization.html" title="Non-profit organization">nonprofit</a> <a href="../../../c/h/a/Charitable_organization.html" title="Charitable organization">charity</a>.<br /></li>	  <li id="f-about"><a href="../../../a/b/o/Wikipedia%7EAbout_8d82.html" title="Wikipedia:About">About Wikipedia</a></li>	  <li id="f-disclaimer"><a href="../../../g/e/n/Wikipedia%7EGeneral_disclaimer_3e44.html" title="Wikipedia:General disclaimer">Disclaimers</a></li>	  	</ul>
      </div>
    </div>
  </body>
</html>
