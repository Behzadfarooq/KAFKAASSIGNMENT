<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    		<meta name="keywords" content="Talk:Binary search tree,Binary search algorithm,Idea-expression divide,Strict weak ordering,Dcoetzee,Deco,He Who Is,Jogers,Spoon!,Wolever,Kremso" />
		<link rel="shortcut icon" href="/favicon.ico" />
		<link rel="search" type="application/opensearchdescription+xml" href="/w/opensearch_desc.php" title="Wikipedia (English)" />
		<link rel="copyright" href="../../../COPYING.html" />
    <title>Talk:Binary search tree - Wikipedia, the free encyclopedia</title>
    <style type="text/css">/*<![CDATA[*/ @import "../../../skins/htmldump/main.css"; /*]]>*/</style>
    <link rel="stylesheet" type="text/css" media="print" href="../../../skins/common/commonPrint.css" />
    <!--[if lt IE 5.5000]><style type="text/css">@import "../../../skins/monobook/IE50Fixes.css";</style><![endif]-->
    <!--[if IE 5.5000]><style type="text/css">@import "../../../skins/monobook/IE55Fixes.css";</style><![endif]-->
    <!--[if IE 6]><style type="text/css">@import "../../../skins/monobook/IE60Fixes.css";</style><![endif]-->
    <!--[if IE]><script type="text/javascript" src="../../../skins/common/IEFixes.js"></script>
    <meta http-equiv="imagetoolbar" content="no" /><![endif]-->
    <script type="text/javascript" src="../../../skins/common/wikibits.js"></script>
    <script type="text/javascript" src="../../../skins/htmldump/md5.js"></script>
    <script type="text/javascript" src="../../../skins/htmldump/utf8.js"></script>
    <script type="text/javascript" src="../../../skins/htmldump/lookup.js"></script>
    <script type="text/javascript" src="../../../raw/gen.js"></script>        <style type="text/css">/*<![CDATA[*/
@import "../../../raw/MediaWiki%7ECommon.css";
@import "../../../raw/MediaWiki%7EMonobook.css";
@import "../../../raw/gen.css";
/*]]>*/</style>          </head>
  <body
    class="ns-1">
    <div id="globalWrapper">
      <div id="column-content">
	<div id="content">
	  <a name="top" id="contentTop"></a>
	        <h1 class="firstHeading">Talk:Binary search tree</h1>
	  <div id="bodyContent">
	    <h3 id="siteSub">From Wikipedia, the free encyclopedia</h3>
	    <div id="contentSub"></div>
	    	    <div class="usermessage">You have <a href="../../../1/2/7/User_talk%7E127.0.0.1.html" title="User talk:127.0.0.1">new messages</a> (<a href="../../../1/2/7/User_talk%7E127.0.0.1.html" title="User talk:127.0.0.1">last change</a>).</div>	    <!-- start content -->
	    <p>Shouldn't the definition of BST be that every node's right subtree has values greater than <i>or equal to</i> the node's value? The current definition says it's strictly greater, which isn't the case.</p>
<dl>
<dd>You can put equal nodes either on the left or the right, but not both. It's an arbitrary decision. I'll say this somewhere. <a href="../../../d/c/o/User%7EDcoetzee_a2a7.html" title="User:Dcoetzee">Deco</a> 01:17, 12 May 2005 (UTC)</dd>
</dl>
<p>I disagree. Here is an excerpt from the lecture I once took at UC Berkeley: "A binary search tree satisfies the _binary_search_tree_invariant_: for any node X, every key in the left subtree of X is less than or equal to X's key, and every key in the right subtree of X is greater than or equal to X's key.". The full lecture can be found here (<a href="http://www.cs.berkeley.edu/~jrs/61b/lec/26" class="external free" title="http://www.cs.berkeley.edu/~jrs/61b/lec/26" rel="nofollow">http://www.cs.berkeley.edu/~jrs/61b/lec/26</a>). I've also verified this with my reference book on algorithms.</p>
<dl>
<dd>I'm sorry, it can be done this way (although there are authoritative references which don't do it this way). It makes some operations more difficult, such as finding all the nodes with a given value, but it really makes almost no difference which way it is defined. In the article I've used your definition, then clarified that in some definitions equal values can be excluded from the left or right side. <a href="../../../d/c/o/User%7EDcoetzee_a2a7.html" title="User:Dcoetzee">Deco</a> 01:02, 14 May 2005 (UTC)</dd>
</dl>
<p>By this definition self-balancing binary search trees are not binary search tree. Rotations do not keep this _binary_search_tree_invariant_. To be concrete: Consider an empty AVL tree and insert three equal values. After the rotation there are equal values to both sides of the root node. So you either need to exclude equal values from binary search trees or allow equal values to both sides of a node. E.g: "The left subtree of a node contains only values less or equal to the node's value. The right subtree of a node contains only values greater than or equal to the node's value." 141.84.26.134 01:04, 27 February 2007 (UTC)</p>
<p>It is confusing that the article starts by claiming that equal nodes should always be in the right subtree, while the example image puts equal nodes (such as the seven, which equals the root) in the left subtree. 128.84.153.196 13:29, 29 September 2006 (UTC)</p>
<table id="toc" class="toc" summary="Contents">
<tr>
<td>
<div id="toctitle">
<h2>Contents</h2>
</div>
<ul>
<li class="toclevel-1"><a href="#Copyright_violation.3F"><span class="tocnumber">1</span> <span class="toctext">Copyright violation?</span></a></li>
<li class="toclevel-1"><a href="#Why_are_the_examples_in_Python.3F"><span class="tocnumber">2</span> <span class="toctext">Why are the examples in Python?</span></a></li>
<li class="toclevel-1"><a href="#Merge_with_binary_search_algorithm"><span class="tocnumber">3</span> <span class="toctext">Merge with binary search algorithm</span></a></li>
<li class="toclevel-1"><a href="#Errors"><span class="tocnumber">4</span> <span class="toctext">Errors</span></a></li>
<li class="toclevel-1"><a href="#Does_it_necessarily_need_a_total_ordering.3F"><span class="tocnumber">5</span> <span class="toctext">Does it necessarily need a total ordering?</span></a></li>
<li class="toclevel-1"><a href="#Optimal_binary_search_trees"><span class="tocnumber">6</span> <span class="toctext">Optimal binary search trees</span></a></li>
<li class="toclevel-1"><a href="#Insertion"><span class="tocnumber">7</span> <span class="toctext">Insertion</span></a></li>
</ul>
</td>
</tr>
</table>
<script type="text/javascript">
//<![CDATA[
 if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } 
//]]>
</script>
<p><a name="Copyright_violation.3F" id="Copyright_violation.3F"></a></p>
<h2><span class="editsection">[<a href="../../../b/i/n/Talk%7EBinary_search_tree_d160.html" title="Edit section: Copyright violation?">edit</a>]</span> <span class="mw-headline">Copyright violation?</span></h2>
<p>Why does the blurb about Optimal BSTs have a reference to "section 15.5 of Introduction to Algorithms"&#160;? Is this text copied and pasted out of a book? Is this a (c) violation?</p>
<dl>
<dd>Copyright does not cover ideas but an explicit realization of those ideas (see <a href="../../../i/d/e/Idea-expression_divide.html" title="Idea-expression divide">idea-expression divide</a>). The text here, written by me, was based on my understanding of the material in CLRS and not copied verbatim from that book. <a href="../../../d/e/c/User%7EDeco_20f6.html" title="User:Deco">Deco</a> 00:41, 15 December 2005 (UTC)</dd>
</dl>
<p><a name="Why_are_the_examples_in_Python.3F" id="Why_are_the_examples_in_Python.3F"></a></p>
<h2><span class="editsection">[<a href="../../../b/i/n/Talk%7EBinary_search_tree_d160.html" title="Edit section: Why are the examples in Python?">edit</a>]</span> <span class="mw-headline">Why are the examples in Python?</span></h2>
<p>I know that the example algorithms are merely for show - but wouldn't examples in a more mainstream language like C/C++ or Java be better for the purpose of understanding? The Phython deletion algorithm, for instance, uses return structures that are foreign to C/C++ or similar languages.</p>
<dl>
<dd>If you think a mainstream programmer might find them difficult to understand that's a legitimate concern. I agree that "find_remove_max" is quite obscure in its use of tuples of two return values. On the other hand, I think the use of tuples or records combined with pattern matching really abbreviates things like the insertion and search algorithms, while still being pretty clear, which is a pretty good reason to use them instead of C/C++/Java. I'm going to look at rewriting parts of the deletion code in a more intuitive way... er, as soon as I learn a little Python.&#160;:-) <a href="../../../d/e/c/User%7EDeco_20f6.html" title="User:Deco">Deco</a> 22:27, 15 February 2006 (UTC)</dd>
<dd>I decided to write "destructive" versions of insert and delete in C++, which lends itself quite well to this purpose, as you can see from the relative simplicity of the resulting code. I left in the Python insertion to demonstrate the concept of persistent trees, but took out the excessively complex Python deletion example. I hope this makes things clearer for you! <a href="../../../d/e/c/User%7EDeco_20f6.html" title="User:Deco">Deco</a> 03:48, 16 February 2006 (UTC)</dd>
</dl>
<p>Yes - thank you very much. The C++ example is much more clear to me - and you are right, it was the returning tuples that was causing my head to spin. --208.186.134.102 06:00, 16 February 2006 (UTC) Wouldn't the code in the new C++ delete example cause memory leaks when you set "node=node-&gt;right" and don't delete node-&gt;right? (or node-&gt;left)... (thanks for adding it... it's a good, simple example. very clean) ++Ryangardner</p>
<dl>
<dd>Good point. I've gotten too used to garbage collection.&#160;:-) Thanks for your positive feedback. <a href="../../../d/e/c/User%7EDeco_20f6.html" title="User:Deco">Deco</a> 06:27, 16 February 2006 (UTC)</dd>
</dl>
<p>I see a few other (minor) flaws in the algorithm on the page. If you are deleting a leaf node, you must remove the link from the parent of that node to the node itself. I also think that the delete method as it is implemented would cause an error, because you are deleting the node and then trying to get data from it... Ryangardner</p>
<p><a name="Merge_with_binary_search_algorithm" id="Merge_with_binary_search_algorithm"></a></p>
<h2><span class="editsection">[<a href="../../../b/i/n/Talk%7EBinary_search_tree_d160.html" title="Edit section: Merge with binary search algorithm">edit</a>]</span> <span class="mw-headline">Merge with binary search algorithm</span></h2>
<p>It seems to me this article details the same concept as <a href="../../../b/i/n/Binary_search_algorithm.html" title="Binary search algorithm">Binary search algorithm</a>. I suggest a merger.<a href="../../../h/e/_/User%7EHe_Who_Is_5b3e.html" title="User:He Who Is">He Who Is</a> 01:59, 25 May 2006 (UTC)</p>
<dl>
<dd>No, they are very different. The binary search algorithm is an <i>algorithm</i> that works on sorted arrays. To use it, you need an array and you need to sort it beforehand (which is expensive). The binary search tree is a <i>data structure</i>. Unlike arrays, binary search trees do not preserve order of insertion. Binary search trees are used because they have the advantage that the tree structure encodes the relative ordering of the elements (i.e. it is always "sorted"), without needing to sort. --<a href="../../../s/p/o/User%7ESpoon%21_4cc3.html" title="User:Spoon!">Spoon!</a> 00:04, 24 August 2006 (UTC)</dd>
</dl>
<p><a name="Errors" id="Errors"></a></p>
<h2><span class="editsection">[<a href="../../../b/i/n/Talk%7EBinary_search_tree_d160.html" title="Edit section: Errors">edit</a>]</span> <span class="mw-headline">Errors</span></h2>
<p>The deletion algorithm should check for the case of both left and right being NULL before checking either side.</p>
<dl>
<dd>Indeed, the deletion doesn't seem to work. Could anybody fix this? <a href="../../../j/o/g/User%7EJogers_106b.html" title="User:Jogers">Jogers</a> (<a href="../../../j/o/g/User_talk%7EJogers_9401.html" title="User talk:Jogers">talk</a>) 15:14, 6 September 2006 (UTC)</dd>
<dd>Yup, it does seem to be broken. Here is some code that should work. It compiles, but I don't feel up to verifying that it works 100% by actually testing it. It will be better than what's there, though...</dd>
</dl>
<pre>
 <b>void</b> DeleteNode(<b>struct</b> node* node) {
     struct node **parentLink;
 
     // If there is no parent, we are a root node
     <b>if</b> (parent == <b>NULL</b>) { 
         free(node);
         <b>return</b>;
     }
       
     // Figure out which child of the parent we are
     <b>if</b> (node == node-&gt;parent-&gt;left)
         parentLink = &amp;(node-&gt;parent-&gt;left);
     <b>else if</b> (node == node-&gt;parent-&gt;right) 
         parentLink = &amp;(node-&gt;parent-&gt;right);
 
     // This will handle cases where both children are null.
     <b>if</b> (node-&gt;left == <b>NULL</b>) { 
         *parentLink = node-&gt;right;
         free(node); // Free any memory allocated for the node
     } <b>else if</b> (node-&gt;right == <b>NULL</b>) {
         *parentLink = node-&gt;left;
         free(node); // In C++, delete node could be used here
     } <b>else</b> {
         // Follow the right side of the tree until there is an empty space
         struct node* temp = node-&gt;left;
         <b>while</b> (temp-&gt;right != <b>NULL</b>) {
             temp = temp-&gt;right;
         }
         node-&gt;value = temp-&gt;value;
         DeleteNode(temp);
     }
 }
</pre>
<dl>
<dd><a href="../../../w/o/l/User%7EWolever_cec8.html" title="User:Wolever">Wolever</a> 02:50, 31 March 2007 (UTC)</dd>
</dl>
<p><a name="Does_it_necessarily_need_a_total_ordering.3F" id="Does_it_necessarily_need_a_total_ordering.3F"></a></p>
<h2><span class="editsection">[<a href="../../../b/i/n/Talk%7EBinary_search_tree_d160.html" title="Edit section: Does it necessarily need a total ordering?">edit</a>]</span> <span class="mw-headline">Does it necessarily need a total ordering?</span></h2>
<p>C++ STL's "Sorted Associative Containers" (which includes "set", "multiset", "map", and "multimap" classes, all of which are binary search trees) only requires its key types to be a <a href="../../../s/t/r/Strict_weak_ordering.html" title="Strict weak ordering">strict weak ordering</a>: <a href="http://www.sgi.com/tech/stl/SortedAssociativeContainer.html" class="external free" title="http://www.sgi.com/tech/stl/SortedAssociativeContainer.html" rel="nofollow">http://www.sgi.com/tech/stl/SortedAssociativeContainer.html</a> --<a href="../../../s/p/o/User%7ESpoon%21_4cc3.html" title="User:Spoon!">Spoon!</a> 00:08, 24 August 2006 (UTC)</p>
<dl>
<dd>You're right, a strict weak ordering suffices to order the tree and enable useful operations. The details behind this are rather complicated though and I think would be best relegated to their own section. <a href="../../../d/e/c/User%7EDeco_20f6.html" title="User:Deco">Deco</a> 04:09, 24 August 2006 (UTC)</dd>
</dl>
<p><a name="Optimal_binary_search_trees" id="Optimal_binary_search_trees"></a></p>
<h2><span class="editsection">[<a href="../../../b/i/n/Talk%7EBinary_search_tree_d160.html" title="Edit section: Optimal binary search trees">edit</a>]</span> <span class="mw-headline">Optimal binary search trees</span></h2>
<p>In the section about Optimal binary search trees, it is mentioned that:</p>
<blockquote>
<p>We can then use a dynamic programming solution, detailed in section 15.5 of Introduction to Algorithms by Thomas H. Cormen Sec Edition, to construct the tree with the least possible expected search cost.</p>
</blockquote>
<p>I wish that someone who has the book (or has a nearby library from which he can borrow it) could take the time to write about it.</p>
<p>Thanks. --Hosam Aly 20:26, 7 January 2007 (UTC)</p>
<p><a name="Insertion" id="Insertion"></a></p>
<h2><span class="editsection">[<a href="../../../b/i/n/Talk%7EBinary_search_tree_d160.html" title="Edit section: Insertion">edit</a>]</span> <span class="mw-headline">Insertion</span></h2>
<p>I think the insertion code is not very clear, so I suggest this one, written in pseudocode:</p>
<p>x is current node, y always points to x's parent.</p>
<pre>
Tree-Insert(T, z)
 y = <b>null</b>                        <i>//x will be set to root, root's parent is null</i>
 x = root(T)
 <b>while</b> x != <b>null</b> do              <i>//we will traverse the tree until we find the leaf</i>
    y = x                        <i>//we are going to change x, so store x as it will became next parent</i>
    <b>if</b> key(z) &lt; key(x)           <i>//if the value of inserted node is lesser then actual node value, move left</i>
      <b>then</b> x = left(x)
      <b>else</b> x = right(x)
                                 <i>//now we should have y pointing to the leaf, and x to null (notice when the while loop terminates)</i>
 parent(z) = y                   <i>//this leaf will become our parent</i>
 <b>if</b> y = <b>null</b>                     <i>//this is a special case, when we are inserting into an empty tree</i>
   <b>then</b> root(T) = z              <i>//so the inserted node will be the root node</i>
   <b>else</b>
     <b>if</b> key(z) &lt; key(y)          <i>//tree is non-empty, so insert the node</i>
       <b>then</b> left(y) = z
       <b>else</b> right(y) = z
</pre>
<p><br />
Kremso 17:15, 11 January 2007 (UTC)</p>
<dl>
<dd>Heck, why not just re-write all the code in psudo code? It will keep people from directly copy+pasting it in to <b>their</b> code (which generally won't work so well) and it is quite a bit easier to understand. <a href="../../../w/o/l/User%7EWolever_cec8.html" title="User:Wolever">Wolever</a> 02:50, 31 March 2007 (UTC)</dd>
</dl>

<div class="printfooter">
Retrieved from "<a href="http://en.wikipedia.org../../../b/i/n/Talk%7EBinary_search_tree_d160.html">http://en.wikipedia.org../../../b/i/n/Talk%7EBinary_search_tree_d160.html</a>"</div>
	    	    <!-- end content -->
	    <div class="visualClear"></div>
	  </div>
	</div>
      </div>
      <div id="column-one">
	<div id="p-cactions" class="portlet">
	  <h5>Views</h5>
	  <ul>
	    <li id="ca-nstab-main"
	       	       ><a href="../../../b/i/n/Binary_search_tree.html">Article</a></li><li id="ca-talk"
	       class="selected"	       ><a href="../../../b/i/n/Talk%7EBinary_search_tree_d160.html">Discussion</a></li><li id="ca-current"
	       	       ><a href="http://en.wikipedia.org/wiki/Talk:Binary_search_tree">Current revision</a></li>	  </ul>
	</div>
	<div class="portlet" id="p-logo">
	  <a style="background-image: url(../../../images/wiki-en.png);"
	    href="../../../index.html"
	    title="Main Page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
		<div class='portlet' id='p-navigation'>
	  <h5>Navigation</h5>
	  <div class='pBody'>
	    <ul>
	    	      <li id="n-Main-page"><a href="../../../index.html">Main page</a></li>
	     	      <li id="n-Contents"><a href="../../../c/o/n/Wikipedia%7EContents_3181.html">Contents</a></li>
	     	      <li id="n-Featured-content"><a href="../../../f/e/a/Wikipedia%7EFeatured_content_24ba.html">Featured content</a></li>
	     	      <li id="n-currentevents"><a href="../../../c/u/r/Portal%7ECurrent_events_bb60.html">Current events</a></li>
	     	    </ul>
	  </div>
	</div>
		<div class='portlet' id='p-interaction'>
	  <h5>interaction</h5>
	  <div class='pBody'>
	    <ul>
	    	      <li id="n-About-Wikipedia"><a href="../../../a/b/o/Wikipedia%7EAbout_8d82.html">About Wikipedia</a></li>
	     	      <li id="n-portal"><a href="../../../c/o/m/Wikipedia%7ECommunity_Portal_6a3c.html">Community portal</a></li>
	     	      <li id="n-contact"><a href="../../../c/o/n/Wikipedia%7EContact_us_afd6.html">Contact us</a></li>
	     	      <li id="n-sitesupport"><a href="http://wikimediafoundation.org/wiki/Fundraising">Make a donation</a></li>
	     	      <li id="n-help"><a href="../../../c/o/n/Help%7EContents_22de.html">Help</a></li>
	     	    </ul>
	  </div>
	</div>
		<div id="p-search" class="portlet">
	  <h5><label for="searchInput">Search</label></h5>
	  <div id="searchBody" class="pBody">
	    <form action="javascript:goToStatic(3)" id="searchform"><div>
	      <input id="searchInput" name="search" type="text"
	        accesskey="f" value="" />
	      <input type='submit' name="go" class="searchButton" id="searchGoButton"
	        value="Go" />
	    </div></form>
	  </div>
	</div>
	      </div><!-- end of the left (by default at least) column -->
      <div class="visualClear"></div>
      <div id="footer">
    <div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="../../../skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" /></a></div>	<div id="f-copyrightico"><a href="http://wikimediafoundation.org/"><img src="../../../images/wikimedia-button.png" border="0" alt="Wikimedia Foundation"/></a></div>	<ul id="f-list">
	  	  	  <li id="f-credits">This page was last modified 03:09, 31 March 2007 by Wikipedia user <a href="../../../w/o/l/User%7EWolever_cec8.html" title="User:Wolever">Wolever</a>. Based on work by Wikipedia user(s) Kremso, Hosamaly, <a href="../../../j/o/g/User%7EJogers_106b.html" title="User:Jogers">Jogers</a>, <a href="../../../d/c/o/User%7EDcoetzee_a2a7.html" title="User:Dcoetzee">Dcoetzee</a>, <a href="../../../s/p/o/User%7ESpoon%21_4cc3.html" title="User:Spoon!">Spoon!</a>, <a href="../../../h/e/_/User%7EHe_Who_Is_5b3e.html" title="User:He Who Is">He Who Is</a>, Ryangardner and Nathanpbell and Anonymous user(s) of Wikipedia.</li>	  <li id="f-copyright">All text is available under the terms of the <a class='internal' href="../../../t/e/x/Wikipedia%7EText_of_the_GNU_Free_Documentation_License_702a.html" title="Wikipedia:Text of the GNU Free Documentation License">GNU Free Documentation License</a>. (See <b><a class='internal' href="../../../c/o/p/Wikipedia%7ECopyrights_92c4.html" title="Wikipedia:Copyrights">Copyrights</a></b> for details.) <br /> Wikipedia&reg; is a registered trademark of the <a href="http://www.wikimediafoundation.org">Wikimedia Foundation, Inc</a>., a US-registered <a class='internal' href="../../../5/0/1/501%28c%29.html#501.28c.29.283.29" title="501(c)(3)">501(c)(3)</a> <a href="http://wikimediafoundation.org/wiki/Deductibility_of_donations">tax-deductible</a> <a class='internal' href="../../../n/o/n/Non-profit_organization.html" title="Non-profit organization">nonprofit</a> <a href="../../../c/h/a/Charitable_organization.html" title="Charitable organization">charity</a>.<br /></li>	  <li id="f-about"><a href="../../../a/b/o/Wikipedia%7EAbout_8d82.html" title="Wikipedia:About">About Wikipedia</a></li>	  <li id="f-disclaimer"><a href="../../../g/e/n/Wikipedia%7EGeneral_disclaimer_3e44.html" title="Wikipedia:General disclaimer">Disclaimers</a></li>	  	</ul>
      </div>
    </div>
  </body>
</html>
