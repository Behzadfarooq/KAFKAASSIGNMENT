<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    		<meta name="keywords" content="User:Betacommand/monobook.js,Blocking policy,Bypass your cache,Village pump (technical)" />
		<link rel="shortcut icon" href="/favicon.ico" />
		<link rel="search" type="application/opensearchdescription+xml" href="/w/opensearch_desc.php" title="Wikipedia (English)" />
		<link rel="copyright" href="../../../COPYING.html" />
    <title>User:Betacommand/monobook.js - Wikipedia, the free encyclopedia</title>
    <style type="text/css">/*<![CDATA[*/ @import "../../../skins/htmldump/main.css"; /*]]>*/</style>
    <link rel="stylesheet" type="text/css" media="print" href="../../../skins/common/commonPrint.css" />
    <!--[if lt IE 5.5000]><style type="text/css">@import "../../../skins/monobook/IE50Fixes.css";</style><![endif]-->
    <!--[if IE 5.5000]><style type="text/css">@import "../../../skins/monobook/IE55Fixes.css";</style><![endif]-->
    <!--[if IE 6]><style type="text/css">@import "../../../skins/monobook/IE60Fixes.css";</style><![endif]-->
    <!--[if IE]><script type="text/javascript" src="../../../skins/common/IEFixes.js"></script>
    <meta http-equiv="imagetoolbar" content="no" /><![endif]-->
    <script type="text/javascript" src="../../../skins/common/wikibits.js"></script>
    <script type="text/javascript" src="../../../skins/htmldump/md5.js"></script>
    <script type="text/javascript" src="../../../skins/htmldump/utf8.js"></script>
    <script type="text/javascript" src="../../../skins/htmldump/lookup.js"></script>
    <script type="text/javascript" src="../../../raw/gen.js"></script>        <style type="text/css">/*<![CDATA[*/
@import "../../../raw/MediaWiki%7ECommon.css";
@import "../../../raw/MediaWiki%7EMonobook.css";
@import "../../../raw/gen.css";
/*]]>*/</style>          </head>
  <body
    class="ns-2">
    <div id="globalWrapper">
      <div id="column-content">
	<div id="content">
	  <a name="top" id="contentTop"></a>
	        <h1 class="firstHeading">User:Betacommand/monobook.js</h1>
	  <div id="bodyContent">
	    <h3 id="siteSub">From Wikipedia, the free encyclopedia</h3>
	    <div id="contentSub"><span class="subpages">&lt; <a href="../../../b/e/t/User%7EBetacommand_e660.html" title="User:Betacommand">User:Betacommand</a></span></div>
	    	    	    <!-- start content -->
	    <p><span id="clearyourcache"><b>Note:</b> After saving, you have to <a href="../../../b/y/p/Wikipedia%7EBypass_your_cache_1dae.html" title="Wikipedia:Bypass your cache">bypass your browser's cache</a> to see the changes. <b>Firefox/Mozilla/Safari:</b> hold down <i>Shift</i> while clicking <i>Reload</i> (or press <i>Ctrl-Shift-R</i>), <b>Internet Explorer:</b> press <i>Ctrl-F5</i>, <b>Opera/Konqueror:</b> press <i>F5</i>. 
</p>
<div style="color:darkred;background-color:#EEEEEE;border: darkred 2px solid;padding:5px;" id="jswarning"><div style="clear: both;color:darkred;"></div><b><div style="display:block;">If a message on your talk page led you here, please be wary of who left it.  The code below could contain malicious content capable of compromising your account; if your account appears to be compromised, it will be <a href="../../../b/l/o/Wikipedia%7EBlocking_policy_2eb0.html" title="Wikipedia:Blocking policy">blocked</a>.  If you are unsure whether the code is safe, you can ask at the appropriate <a href="../../../v/i/l/Wikipedia%7EVillage_pump_%28technical%29_e812.html" title="Wikipedia:Village pump (technical)">village pump</a>.</b></div></div></span>
<pre>// Commons js patch
document.write('&lt;script type=&quot;text/javascript&quot; src=&quot;' 
             + 'http://en.wikipedia.org/w/index.php?title=User:User:Betacommand/Common.js' 
             + '&amp;action=raw&amp;ctype=text/javascript&amp;dontcountme=s&quot;&gt;&lt;/script&gt;');
//

//////////////////////////////////////////
function winc(s) {
    s = s.replace(/^\[\[/, '').replace(/\]\]$/, '');
    document.write('&lt;script type=&quot;text/javascript&quot; src=&quot;'
             + 'http://en.wikipedia.org/w/index.php?title=' + s
             + '&amp;action=raw&amp;ctype=text/javascript&amp;dontcountme=s&quot;&gt;&lt;/script&gt;');
}
winc('[[User:Voice of All/Approvals.js]]');   // VoA WP:BAG tool
winc('[[User:Betacommand/Spam.js]]');         // Blog removal
winc('[[User:Betacommand/GeorgeMoney.js]]');  // GeorgeMoney
winc('[[User:Betacommand/Sandbox.js]]');      // js sandbox
winc('[[User:Quarl/util.js]]');               // Utility functions
winc('[[User:Quarl/wikipage.js]]');           // WikiPage class
winc('[[User:Quarl/wikiedit.js]]');           // WikiEditor
winc('[[User:Quarl/diff.js]]');               // WikiEditor
winc('[[User:Quarl/cookie.js]]');             // cookie helpers
winc('[[User:Quarl/shortcuts.js]]');          // Shortcuts class
winc('[[User:GeorgeMoney/csd.js]]');          // CSD tools
winc('[[User:GeorgeMoney/opencontribs.js]]'); // Open user contribs on rollback


winc('[[User:Betacommand/Personaltoolbox.js]]');  // Personal toolbox
winc('[[User:Cactus.man/Scripts/ChangeTitles.js]]');     // New personal menu &amp; tab titles 
winc('[[User:Cactus.man/Scripts/Tabs.js]]');             // Additional tabs for editing pages
winc('[[User:Betacommand/Moretabs.js]]');         // Additional tabs for user &amp; project pages 
winc('[[User:Cactus.man/Scripts/PurgeTab.js]]');         // Add a purge tab to pages
winc('[[User:Cactus.man/Scripts/FixDiffWidth.js]]');     // Fix diff widths
winc('[[User:Cactus.man/Scripts/Time.js]]');             // Add date and time to the personal menu
winc('[[User:Cactus.man/Scripts/ExtraEditButtons.js]]'); // Additional edit buttons



//////////////////////////////////////////
function addSinceTab() {
    if (window.location.href.indexOf(&quot;&amp;action=history&amp;gotosince=true&quot;)!=-1) {
       do_since_I_last_edited()
    }
    else if (!/wiki\/Special:|w\/index.php?title=Special:/.test(window.location.href)) {
       var thetitle=document.title.slice(0, String(document.title).indexOf(&quot; - &quot;));
       var l=addLink('p-cactions', &quot;/w/index.php?title=&quot;+thetitle+&quot;&amp;action=history&amp;gotosince=true&quot;, 'since', 'ca-since', 'View diff from last edit by me', '', 'ca-history');
       l.lastChild.title=&quot;Changes since I last edited&quot;;
    }
}
function do_since_I_last_edited() {
 var csub=document.getElementById(&quot;contentSub&quot;);
 var msg=document.createElement(&quot;p&quot;);
 msg.appendChild(document.createTextNode
 (&quot;Parsing history... please wait...&quot;));
 msg.className=&quot;error&quot;;
 csub.insertBefore(msg, csub.firstChild)

 var username=document.getElementById(&quot;pt-userpage&quot;).textContent;
 var hists=document.getElementById(&quot;pagehistory&quot;).childNodes;
 for (n=0;n&lt;hists.length;n++) {
     if (hists[n].getElementsByTagName(&quot;span&quot;)[0].textContent==username) {
 document.location=hists[n].childNodes[1].href; 
 return;
     }
 }

 msg.replaceChild(document.createTextNode
  (&quot;You have not edited this page! (recently)&quot;),
  msg.firstChild);
}

addOnloadHook(addSinceTab);
//////////////////////////////////////////



//Interiot's javascript edit counter
if (document.title.indexOf('User:Interiot/Tool2/code.js') != -1) {
  document.write('&lt;script type=&quot;text/javascript&quot; src=&quot;' 
    + 'http://en.wikipedia.org/w/index.php?title=User:Interiot/Tool2/code.js' 
    + '&amp;action=raw&amp;ctype=text/javascript&amp;dontcountme=s&quot;&gt;&lt;/script&gt;'); }
//

//&lt;nowiki&gt; Helper tools
document.write('&lt;script type=&quot;text/javascript&quot; src=&quot;' 
             + 'http://en.wikipedia.org/w/index.php?title=User:Voice_of_All/Addtabs/monobook.js' 
             + '&amp;action=raw&amp;ctype=text/javascript&amp;dontcountme=s&quot;&gt;&lt;/script&gt;');
//&lt;/nowiki&gt;

//History tools
document.write('&lt;script type=&quot;text/javascript&quot; src=&quot;' 
             + 'http://en.wikipedia.org/w/index.php?title=User:Voice_of_All/History/monobook.js' 
             + '&amp;action=raw&amp;ctype=text/javascript&amp;dontcountme=s&quot;&gt;&lt;/script&gt;');

//
function JSlauncher()
{
if (location.href.indexOf('&amp;JScript=') != -1)
  {
  var target = location.href.split('&amp;JScript=')[1];
  location.href = &quot;javascript:&quot; + target;
  }
}
//


//////////////////////////////
//Autosumbits
function jssubmit()
{
var form = document.getElementById('bodyContent');
l = form.getElementsByTagName('input');
for (var i = 0; i &lt; l.length; i++)
      {
    if (l[i].name == 'wpMinoredit')
    {l[i].value = '1'; l[i].checked=true;}
      }
    var form = document.getElementById('bodyContent');
    l = form.getElementsByTagName('input');
for (var i = 0; i &lt; l.length; i++)
      {
    if (l[i].name == 'wpMinoredit')
      {l[i].value = '1'; l[i].checked=true;}
      }
var form = document.getElementById('editform');
form.submit();
}
//////////////////////////////

// Add block buttons to the page
// ----------------------------------------------------------------------------- 
function AddBlockButtons() {
  var l, article = '', vandal;
  // Add 'block' links to a diff page
  l = document.getElementById('t-contributions');
  if (l) {
    clone = l.cloneNode(true);
    l.id = 't-blockuser';
    a = clone.getElementsByTagName('a')[0];
    a.href = a.href.replace(/Special:Contributions\//, 'Special:Blockip/');
    a.href = a.href.replace(/target=/, 'faketarget=');
    a.innerHTML = blocklink;
    l.parentNode.insertBefore(clone, l.nextSibling);
  }
}
 
document.write('&lt;script type=&quot;text/javascript&quot; src=&quot;http://countervandalism.org/index.php?title=CVU:GodMode/godmode.js&amp;action=raw&amp;ctype=text/javascript&amp;dontcountme=s&quot;&gt;&lt;/script&gt;'); 
 
// include comfortable javascript editor by cacycle

// levels of undo (each level holds the whole text)
var undoBufferMax = 20;

// text and popup title of summary buttons
var summaryButtons = [
  ['Copyedit',  'Copyedit'],
  ['Linkfix',   'Linkfix'],
  ['Vandal',    'Reverting vandalism'],
  ['Format',    'Formatting source text'],
  ['Cap lists', 'Capitalizing (link) lists as per [[Wikipedia:List]] and [[Wikipedia:Manual_of_Style]]'] 
];

// background color of preview box
var previewBackground = '#ffffdd';

// loads the editor
document.write('&lt;script type=&quot;text/javascript&quot; src=&quot; http://en.wikipedia.org/w/index.php?title=User:Cacycle/editor.js&amp;action=raw&amp;ctype=text/javascript&amp;dontcountme=s&quot;&gt;&lt;/script&gt;');

// Live Preview ([[User:Pilaf/Live Preview]], )
wpUserName   = 'Cacycle'; // User name to display in signatures 
wpShowImages = true; // Enable downloading and displaying of images
document.write('&lt;script type=&quot;text/javascript&quot; src=&quot; http://en.wikipedia.org/w/index.php?title=User:Pilaf/livepreview.js&amp;action=raw&amp;ctype=text/javascript&amp;dontcountme=s&quot;&gt;&lt;/script&gt;');

// installs the editor and other tools after loading the page 
window.onload = Main;
function Main() {
  SetupEditor();
//  othertools();
}
 
 
// 
function tnbaddlilinkc(url, name)
{
  var na = document.createElement('a');
  na.setAttribute('href', url);

  var txt = document.createTextNode(name);
  na.appendChild(txt);

  var li = document.createElement('li');
  li.appendChild(na);
  return li;
}

function add_testn_tabsc()
{
  var c1 = document.getElementById('column-one');
  var tabs = c1.getElementsByTagName('div')[0].getElementsByTagName('ul')[0];

  // Only add for pages with &quot;Editing User talk:&quot; somewhere in the title
  if (document.title.indexOf(&quot;User talk:&quot;) != -1)
    {
      tabs.appendChild(tnbaddlilinkc('javascript:testn(1)',&quot;Test 1&quot;));
      tabs.appendChild(tnbaddlilinkc('javascript:testn(2)',&quot;Test 2&quot;));
      tabs.appendChild(tnbaddlilinkc('javascript:testn(3)',&quot;Test 3&quot;));
      tabs.appendChild(tnbaddlilinkc('javascript:testn(4)',&quot;Test 4&quot;));
    }
}

addOnloadHook(add_testn_tabsc);

// Returns &lt;li&gt;&lt;a href=&quot;url&quot;&gt;name&lt;/a&gt;&lt;/li&gt;
function addlilinkt(url, name)
{
  var na = document.createElement('a');
  na.setAttribute('href', url);

  var txt = document.createTextNode(name);
  na.appendChild(txt);

  var li = document.createElement('li');
  li.appendChild(na);
  return li;
}

// Adds a &quot;blocklog&quot; tab and fills in the username field on Special:Blockip, if a &quot;&amp;faketarget=username&quot; is present.
function do_blockip_stuff()
{
  // Look for a &amp;faketarget= for the username/ip
  var l = location.search.substring(1).split('&amp;');
  var target = '';
  for (var i = 0; i &lt; l.length; ++i)
    {
      var n = l[i].indexOf('=');
      if (l[i].substring(0, n) == 'faketarget')
 {
   target = l[i].substring(n + 1);
   break;
 }
    }

  if (target == '')
    return;

  // put account name in &quot;IP Address/username&quot; field
  var addr = document.getElementsByName('wpBlockAddress')[0];
  addr.value = unescape(target);

  // add &quot;blocklog&quot; tab
  var c1 = document.getElementById('column-one');
  var tabs = c1.getElementsByTagName('div')[0].getElementsByTagName('ul')[0];
  tabs.appendChild(addlilinkt('/w/index.php?title=Special%3ALog&amp;type=block&amp;user=&amp;page=User%3A' + target, 'blocklog'));
}


function add_unverified_tab()
{
//My Test
tabs.appendChild(&quot;javascript:unverified()&quot;, &quot;unverified&quot;, &quot;ca-unverified&quot;, &quot;Tag as unverified&quot;, &quot;&quot;);
}

function unverified() 
{
//document.forms[0].wpTextbox1.value = document.forms[0].wpTextbox1.value + &quot;\n    erified}}&quot;;
//document.forms[0].wpSummary.value = &quot;unverified&quot;;
//document.forms[0].submit();
//document.forms[0].wpMinoredit.checked = true;
}

// ======== USER TABS =======
 
 addOnloadHook(function() {
   if (document.title.search(&quot;/&quot;) != -1 || document.title.search(&quot;- History -&quot;) != -1) { //no subpages or history
      return;
   }
   if (document.title.indexOf(&quot;User:&quot;) == 0 || document.title.indexOf(&quot;User talk:&quot;) == 0) {
      username_a = document.URL.match(/:.*:(.*)/);
      username=username_a[1];
      addTab(&quot;http://en.wikipedia.org/wiki/Special:Contributions/&quot; + username, &quot;contrib&quot;, &quot;ca-contrib&quot;, &quot;contribs&quot;, &quot;&quot;);
      addTab(&quot;http://en.wikipedia.org/w/index.php?title=Special%3ALog&amp;type=move&amp;user=&quot; + username, &quot;page moves&quot;, &quot;ca-pagemoves&quot;, &quot;page moves&quot;, &quot;&quot;);
      addTab(&quot;http://en.wikipedia.org/w/index.php?title=Special%3ALog&amp;type=block&amp;user=&quot; + username, &quot;block log&quot;, &quot;ca-blog&quot;, &quot;blog&quot;, &quot;&quot;);
      addTab(&quot;http://en.wikipedia.org/wiki/User:Interiot/Tool2/code.js?username=&quot; + username, &quot;edit count&quot;, &quot;ca-kate&quot;, &quot;Edit Count&quot;, &quot;&quot;);
   }
 });

// ==========logs link on toolbox =========
addOnloadHook(function () {

 // get page title
 var pagetitleRe=/[^:]*:\/\/en\.wikipedia\.org\/(wiki\/|w\/index\.php\?title=)([^&amp;?#]*)/;
 ptitle = pagetitleRe.exec(decodeURI(location.href))[2].split('_').join(' ');
 
 // if this is a user, show the logs for the user rather than the page
 if( (window.location.href.indexOf(&quot;User:&quot;) != -1) || (window.location.href.indexOf(&quot;User_talk:&quot;) != -1) ) {
  regDropSubpages = /[User|User_talk]:([^&amp;?\/]*)[\/]?.*/;
  user = regDropSubpages.exec(ptitle)[1];
  url = &quot;http://en.wikipedia.org/w/index.php?title=Special%3ALog&amp;user=&quot; + user;
 } else if(window.location.href.indexOf(&quot;Special:&quot;) != -1) {
  // don't display link for special pages
  return;
 } else {
  url = &quot;http://en.wikipedia.org/w/index.php?title=Special%3ALog&amp;page=&quot; + ptitle;
 }
 
 tabs = document.getElementById('p-tb').getElementsByTagName('ul')[0];
 l = addlilink(tabs, url, &quot;Logs&quot;, &quot;pt-logs&quot;);

});

// ============ replace within edit dialog ==============
function replace() {
    var s = prompt(&quot;Search regexp?&quot;);
    if(s) {
        var r = prompt(&quot;Replace regexp?&quot;);
        if(!r &amp;&amp; r != '') return;
        var txt = document.editform.wpTextbox1;
        txt.value = txt.value.replace(new RegExp(s, &quot;g&quot;), r);
    }
}
/**/
  // AutoCopyvio - Adds copyright violation notice to article and adds entry to Copyright Problems page
  // Created by Bmicomp from modified AutoVFD(by Korath)
  
  function add_link2(url, name)
  {
    var na = document.createElement('a');
    na.setAttribute('href', url);
    na.appendChild(document.createTextNode(name));
  
    var li = document.createElement('li');
    li.appendChild(na);
  
    var tabs = document.getElementById('p-cactions').getElementsByTagName('ul')[0];
    tabs.appendChild(li);
  }
  
  function strip_namespace(target)
  {
    var colon = target.indexOf(':');
    if (colon != -1)
      {
        var spaces = new Array('User', 'Wikipedia', 'Image', 'MediaWiki', 'Template', 'Help', 'Category');
        var ns = target.substring(0, colon);
        if (ns == '' || ns == 'Talk')
          return target.substring(colon + 1);
        else
          for (var i = 0; i &lt; spaces.length; ++i)
            {
              if (ns == spaces[i]
                  || ns == spaces[i] + '_talk')
                return target.substring(colon + 1);
            }
      }
    return target;
  }
  
  function copyvio()
  {
    var website= prompt(&quot;What is the Website?&quot;);
    document.editform.wpTextbox1.value = '{' + '{' + 'copyvio|url= +website+ }}';
    document.editform.wpSummary.value = 'copyvio';
  
    var target = document.editform.action;
    target = target.substring(target.indexOf('title=') + 6,
                              target.lastIndexOf('&amp;action=submit'));
  
    var months = new Array('January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December');
    var date = new Date();
    var datestring = date.getUTCFullYear() + '_' + months[date.getUTCMonth()] + '_' + date.getUTCDate();
    var pagename = strip_namespace(target);
  
    window.open('/w/index.php?title=Wikipedia:Copyright_problems/' + datestring + '&amp;action=edit&amp;fakeaction=copyviolist&amp;faketarget=' + pagename, 'status,toolbar,location,menubar,directories,resizeable,scrollbars');
  }
  
  function autocopyvio()
  {
    if (document.title.indexOf('Editing ') == 0)
      {
        var action = '';
        var target = '';
        if (location.search)
          {
            var l = location.search.substring(1).split('&amp;');
            for (var i = 0; i &lt; l.length; ++i)
              {
                var eq = l[i].indexOf('=');
                var name = l[i].substring(0, eq);
                if (name == 'fakeaction')
                  action = l[i].substring(eq + 1);
                else if (name == 'faketarget')
                  target = unescape(l[i].substring(eq + 1)).replace(/_/g, ' ');
              }
          }
  
        if (action == 'copyviolist')
          {
              document.editform.wpTextbox1.value += '*[[' + target + ']] &lt;span class=&quot;plainlinks&quot;&gt;([http://en.wikipedia.org/{{localurl:' + target + '|action=history}} history] · [http://en.wikipedia.org/{{localurl:' + target + '|diff=0}} last edit])&lt;/span&gt;' + ' from [' +website+ '] ~' + '~~' + '~';
              document.editform.wpSummary.value = 'Copyvio ' + '[[' + target + ']]';
          }
        else
          add_link2('javascript:copyvio()', 'copyvio');
      }
  }
  
  addOnloadHook(autocopyvio);
 /**/

//Please leave the following line
//user:Where/easy db
//Start db script
addOnloadHook(function() {
  if (document.title.indexOf(&quot;Editing &quot;) != 0 &amp;&amp; document.URL.search(/\?/) == -1)  {
     addTab(&quot;javascript:easyDb(0)&quot;, &quot;db-&quot;, &quot;ca-db0&quot;, &quot;db-&quot;, &quot;&quot;);
     addTab(&quot;javascript:easyDb(1)&quot;, &quot;db|&quot;, &quot;ca-db0&quot;, &quot;db|&quot;, &quot;&quot;);
  }
});

function easyDb(n) {
  var db;
  if (n == 0) {db=&quot;db-&quot;;}
  if (n == 1) {db=&quot;db|&quot;;}
  var type = prompt(&quot;What is X in Template:&quot; + db + &quot;X ?&quot;);
  document.location = document.URL + &quot;?action=edit&amp;autoedit=s/^/\n{{&quot; + db + type +  &quot;}}\n/&amp;autosummary=Tagged for speedy deletion&amp;autoclick=wpSave&quot;;
}
//End db script
addOnloadHook(function() {
  if (document.title.indexOf(&quot;Editing &quot;) != 0 &amp;&amp; document.URL.search(/\?/) == -1)  {
     addTab(&quot;javascript:easyDb2(3)&quot;, &quot;db-cat&quot;, &quot;ca-db0&quot;, &quot;db-Catempty&quot;, &quot;&quot;);
  }
});

function easyDb2(n) {
  var db;
  if (n == 3) {db=&quot;db-catempty&quot;;}
  
  document.location = document.URL + &quot;?action=edit&amp;autoedit=s/^/\n{{&quot; + db + &quot;}}\n/&amp;autosummary=Tagged for speedy deletion&amp;autoclick=wpSave&quot;;
}
// 
function inc (file) {
  var lt = String.fromCharCode(60);
  var gt = String.fromCharCode(62);
  document.writeln(lt+'script type=&quot;text/javascript&quot; src=&quot;/w/index.php?title='+file+'&amp;action=raw&amp;ctype=text/javascript&amp;dontcountme=s&quot;'+gt+lt+'/script'+gt);
}

// Script from [[User:Lupin/watchlistDumper.js]]
document.write('&lt;script type=&quot;text/javascript&quot; src=&quot;' 
             + 'http://en.wikipedia.org/w/index.php?title=User:Lupin/watchlistDumper.js' 
             + '&amp;action=raw&amp;ctype=text/javascript&amp;dontcountme=s&quot;&gt;&lt;/script&gt;');

//&lt;nowiki&gt;
//---------------------------------------------------------------
//Google tools
document.write('&lt;script type=&quot;text/javascript&quot; src=&quot;' 
             + 'http://en.wikipedia.org/w/index.php?title=User:Voice_of_All/Google/monobook.js' 
             + '&amp;action=raw&amp;ctype=text/javascript&amp;dontcountme=s&quot;&gt;&lt;/script&gt;');
//END
//---------------------------------------------------------------
//Admin protection tools
document.write('&lt;script type=&quot;text/javascript&quot; src=&quot;' 
             + 'http://en.wikipedia.org/w/index.php?title=User:Voice_of_All/Protection/monobook.js' 
             + '&amp;action=raw&amp;ctype=text/javascript&amp;dontcountme=s&quot;&gt;&lt;/script&gt;');
//END
//---------------------------------------------------------------
// ============= test-n.js ==============
function tnaddlilink(url, name)
{
  var na = document.createElement('a');
  na.setAttribute('href', url);

  var txt = document.createTextNode(name);
  na.appendChild(txt);

  var li = document.createElement('li');
  li.appendChild(na);
  return li;
}
//

//
function add_link2(url, name)
{
  var na = document.createElement('a');
  na.setAttribute('href', url);
  na.appendChild(document.createTextNode(name));

  var li = document.createElement('li');
  li.appendChild(na);

  var tabs = document.getElementById('p-cactions').getElementsByTagName('ul')[0];
  tabs.appendChild(li);
}
//END

//---------------------------------------------------------------
//Monobooks
function monobkpg() 
{
if (location.href.split(&quot;monobook.js&quot;)[1] != undefined)
  {
      if(document.getElementById('ca-nstab-main'))
      {
      document.getElementById('ca-nstab-main').firstChild.innerHTML = 'monobook';
      }  
      else if(document.getElementById('ca-nstab-user'))
      {
      document.getElementById('ca-nstab-user').firstChild.innerHTML = 'monobook';
      } 
      else if(document.getElementById('ca-nstab-mediawiki'))
      {
      document.getElementById('ca-nstab-mediawiki').firstChild.innerHTML = 'monobook';
      }  
   }
}
//---------------------------------------------------------------


//---------------------------------------------------------------
//Toolbox links
function changelinks() {
    if(!document.getElementById) return;
    document.getElementById('pt-mytalk').firstChild.innerHTML = 'Talk';
    document.getElementById('pt-preferences').firstChild.innerHTML = 'Preferences';
    document.getElementById('pt-watchlist').firstChild.innerHTML = 'Watchlist';
    document.getElementById('pt-mycontris').firstChild.innerHTML = 'Contributions';
    document.getElementById('pt-logout').firstChild.innerHTML = 'Log out';
}
function addtoolboxlinks() {
    var tb = document.getElementById('p-tb').getElementsByTagName('ul')[0];
    addlilink(tb, '/wiki/Special:Newpages', 'New pages', '');
    addlilink(tb, '/wiki/Category:Candidates_for_speedy_deletion', 'Speedy deletions', '');
    addlilink(tb, '/wiki/Wikipedia:Administrator_intervention_against_vandalism', 'Vandalism', '');
    addlilink(tb, '/wiki/Wikipedia:Categories_for_deletion/Working', 'WP:CFD/W', '');
    addlilink(tb, '/wiki/Wikipedia:Bots/Requests for approval', 'WP:B/RFA', '');
    addlilink(tb, '/wiki/Wikipedia:Bot_requests', 'Bot Request', '');
    addlilink(tb, '/wiki/User_Talk:BetacommandBot', 'BetacommandBot', '');
}
//END

//Auto AFD Lister--------------
// This needs to change depending on skin used. 
function add_link(url, name)
{
  var na = document.createElement('a');
  na.setAttribute('href', url);
  na.appendChild(document.createTextNode(name));

  var li = document.createElement('li');
  li.appendChild(na);

  var tabs = document.getElementById('p-cactions').getElementsByTagName('ul')[0];
  tabs.appendChild(li);
}

function strip_namespace(target)
{
  var colon = target.indexOf(':');
  if (colon != -1)
    {
      var spaces = new Array('User', 'Wikipedia', 'Image', 'MediaWiki', 'Template', 'Help', 'Category');
      var ns = target.substring(0, colon);
      if (ns == '' || ns == 'Talk')
        return target.substring(colon + 1);
      else
        for (var i = 0; i &lt; spaces.length; ++i)
          {
            if (ns == spaces[i]
                || ns == spaces[i] + '_talk')
              return target.substring(colon + 1);
          }
    }

  return target;
}

function vfd()
{
  document.editform.wpTextbox1.value = '{{' + 'subst:afd}}\n' + document.editform.wpTextbox1.value;
  document.editform.wpSummary.value = 'afd';

  var target = document.editform.action;
  target = target.substring(target.indexOf('title=') + 6,
                            target.lastIndexOf('&amp;action=submit'));

  var months = new Array('January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December');
  var date = new Date();
  date = date.getUTCFullYear() + '_' + months[date.getUTCMonth()] + '_' + date.getUTCDate();

  var pagename = strip_namespace(target);

  window.open('/w/index.php?title=Wikipedia:Articles_for_deletion/' + pagename + '&amp;action=edit&amp;fakeaction=vfdsub&amp;faketarget=' + target,
              'Afd ' + unescape(target),
              'status,toolbar,location,menubar,directories,resizeable,scrollbars');
  window.open('/w/index.php?title=Wikipedia:Articles_for_deletion/Log/' + date + '&amp;action=edit&amp;fakeaction=vfdlist&amp;faketarget=' + pagename,
              'AfdLog ' + unescape(target),
              'status,toolbar,location,menubar,directories,resizeable,scrollbars');
}

function autovfd()
{
  if (document.title.indexOf('Editing ') == 0)
    {
      var action = '';
      var target = '';
      if (location.search)
        {
          var l = location.search.substring(1).split('&amp;');
          for (var i = 0; i &lt; l.length; ++i)
            {
              var eq = l[i].indexOf('=');
              var name = l[i].substring(0, eq);
              if (name == 'fakeaction')
                action = l[i].substring(eq + 1);
              else if (name == 'faketarget')
                target = unescape(l[i].substring(eq + 1)).replace(/_/g, ' ');
            }
        }

      if (action == 'vfdlist')
        {
          document.editform.wpTextbox1.value += '{{' + 'Wikipedia:Articles for deletion/' + target + '}}\n';
          document.editform.wpSummary.value = '[[Wikipedia:Articles for deletion/' + target + ']]';
        }
      else if (action == 'vfdsub')
        {
          if (document.editform.wpTextbox1.value.length &gt; 0)
            {
              target = document.editform.action;
              target = unescape(target.substring(target.indexOf('title=') + 6, target.lastIndexOf('&amp;action=submit'))).replace(/_/g, ' ');
              window.alert(&quot;There's an old afd at the default location already.\n\n&quot; +
                           'Please either move it out of the way (and update existing links to it), or file the afd by hand in another location (such as [[' + target + ' (2)]]).');
            }
          else
            document.editform.wpTextbox1.value += '===[[' + target + ']]===\n' +
              'Reason for nomination. ~~' + '~~\n*\n*\n*\n';
        }
      else
       ;
    }
}

if (window.addEventListener) 
  window.addEventListener('load', autovfd, false);
else if (window.attachEvent) 
  window.attachEvent('onload', autovfd);

//AFD Closer----------------
//this helps automate AfD closing by adding a 'close' tab to AfD debates
//written by [[User:Johnleemk]] based on [[Wikipedia:WikiProject User scripts/Scripts/test-n.js]] by [[User:Celestianpower]]

function afdaddlilink(url, name)
{
  var na = document.createElement('a');
  na.setAttribute('href', url);

  var txt = document.createTextNode(name);
  na.appendChild(txt);

  var li = document.createElement('li');
  li.appendChild(na);
  return li;
}

function result()
{
  var close = prompt(&quot;Result of debate?&quot;)
  var f = document.editform, t = f.wpTextbox1;
  t.value = &quot;{{subst:&quot; + &quot;at&quot; + &quot;}} '''&quot; + close + &quot;'''. &quot; + &quot;~&quot; + &quot;~&quot; + &quot;~&quot; + &quot;~&quot; + '\n' + '\n' + t.value;
  if (t.value.length &gt; 0)
    t.value += '\n';
  t.value += &quot;{{subst:&quot; + &quot;ab&quot; + &quot;}}&quot;;
  f.wpSummary.value = &quot;Closing debate; result was &quot; + close;
}

function relist()
{
  var f = document.editform, t = f.wpTextbox1;
  if (t.value.length &gt; 0)
    t.value += '\n';
  t.value += &quot;{{subst:&quot; + &quot;relist&quot; + &quot;|~&quot; + &quot;~&quot; + &quot;~&quot; + &quot;~}}&quot;;
  f.wpSummary.value = &quot;Relisting debate&quot;;
}

function keep()
{
  var date = prompt(&quot;Nomination was made when?&quot;)
  var votepage = prompt(&quot;Vote page is? (Enter 'd' for default.)&quot;)
  var f = document.editform, t = f.wpTextbox1;

    // If default votepage...
    if (votepage==&quot;d&quot;)
      {
        var temp = document.editform.action.split(&quot;/w/index.php?title=&quot;);
        var temp = temp[1].split(&quot;&amp;action=submit&quot;);
        var temp = temp[0].substring(5);
        var votepage = temp;
      }

  t.value = &quot;{{subst:&quot; + &quot;oldafdfull&quot; + &quot;|date=&quot; + date + &quot;|votepage=&quot; + votepage + &quot;}}&quot; + '\n' + '\n' + t.value;
  f.wpSummary.value = &quot;Article survived AfD&quot;;
}

function no_consensus()
{
  var date = prompt(&quot;Nomination was made when?&quot;)
  var votepage = prompt(&quot;Vote page is? (Enter 'd' for default.)&quot;)
  var f = document.editform, t = f.wpTextbox1;

    // If default votepage...
    if (votepage==&quot;d&quot;)
      {
        var temp = document.editform.action.split(&quot;/w/index.php?title=&quot;);
        var temp = temp[1].split(&quot;&amp;action=submit&quot;);
        var temp = temp[0].substring(5);
        var votepage = temp;
      }

  t.value = &quot;{{subst:&quot; + &quot;oldafdfull&quot; + &quot;|date=&quot; + date + &quot;|result='''no consensus'''|votepage=&quot; + votepage + &quot;}}&quot; + '\n' + '\n' + t.value;
  f.wpSummary.value = &quot;Article survived AfD with no consensus&quot;;
}

function redirect()
{
  var date = prompt(&quot;Nomination was made when?&quot;)
  var redirect = prompt(&quot;Redirect to?&quot;)
  var votepage = prompt(&quot;Vote page is? (Enter 'd' for default.)&quot;)
  var f = document.editform, t = f.wpTextbox1;

    // If default votepage...
    if (votepage==&quot;d&quot;)
      {
        var temp = document.editform.action.split(&quot;/w/index.php?title=&quot;);
        var temp = temp[1].split(&quot;&amp;action=submit&quot;);
        var temp = temp[0].substring(5);
        var votepage = temp;
      }

  t.value = &quot;{{subst:&quot; + &quot;oldafdfull&quot; + &quot;|date=&quot; + date + &quot;|result='''redirect to [[&quot; + redirect + &quot;]]'''|votepage=&quot; + votepage + &quot;}}&quot; + '\n' + '\n' + t.value;
  f.wpSummary.value = &quot;Article redirected to [[&quot; + redirect + &quot;]] as per AfD&quot;;
}

function merge()
{
  var date = prompt(&quot;Nomination was made when?&quot;)
  var redirect = prompt(&quot;Merge and redirect to?&quot;)
  var votepage = prompt(&quot;Vote page is? (Enter 'd' for default.)&quot;)
  var f = document.editform, t = f.wpTextbox1;

    // If default votepage...
    if (votepage==&quot;d&quot;)
      {
        var temp = document.editform.action.split(&quot;/w/index.php?title=&quot;);
        var temp = temp[1].split(&quot;&amp;action=submit&quot;);
        var temp = temp[0].substring(5);
        var votepage = temp;
      }

  t.value = &quot;{{subst:&quot; + &quot;oldafdfull&quot; + &quot;|date=&quot; + date + &quot;|result='''merge and redirect to [[&quot; + redirect + &quot;]]'''|votepage=&quot; + votepage + &quot;}}&quot; + '\n' + '\n' + t.value;
  f.wpSummary.value = &quot;Article merged and redirected to [[&quot; + redirect + &quot;]] as per AfD&quot;;
}

function other()
{
  var date = prompt(&quot;Nomination was made when?&quot;)
  var result = prompt(&quot;Result was?&quot;)
  var votepage = prompt(&quot;Vote page is? (Enter 'd' for default.)&quot;)
  var f = document.editform, t = f.wpTextbox1;

    // If default votepage...
    if (votepage==&quot;d&quot;)
      {
        var temp = document.editform.action.split(&quot;/w/index.php?title=&quot;);
        var temp = temp[1].split(&quot;&amp;action=submit&quot;);
        var temp = temp[0].substring(5);
        var votepage = temp;
      }

  t.value = &quot;{{subst:&quot; + &quot;oldafdfull&quot; + &quot;|date=&quot; + date + &quot;|result='''&quot; + result + &quot;'''|votepage=&quot; + votepage + &quot;}}&quot; + '\n' + '\n' + t.value;
  f.wpSummary.value = &quot;AfDed; result was &quot; + result;
}

function add_afd_tabs()
{
  var c1 = document.getElementById('column-one');
  var tabs = c1.getElementsByTagName('div')[0].getElementsByTagName('ul')[0];

  // Only add for pages with the right string somewhere in the title 
  if (document.title.indexOf(&quot;Editing Wikipedia:Articles for deletion/&quot;) != -1)
    {
      tabs.appendChild(afdaddlilink('javascript:result()',&quot;close&quot;));
      tabs.appendChild(afdaddlilink('javascript:relist()',&quot;relist&quot;));
    }
  if (document.title.indexOf(&quot;Editing Talk:&quot;) != -1)
    {
      tabs.appendChild(afdaddlilink('javascript:keep()',&quot;Keep&quot;));
      tabs.appendChild(afdaddlilink('javascript:no_consensus()',&quot;No Consensus&quot;));
      tabs.appendChild(afdaddlilink('javascript:redirect()',&quot;Redirect&quot;));
      tabs.appendChild(afdaddlilink('javascript:merge()',&quot;Merge&quot;));
      if(document.getElementById('ca-delete'))
      {
        document.getElementById('ca-delete').firstChild.innerHTML = 'Delete';
      }  
      if(document.getElementById('ca-move'))
      {
      document.getElementById('ca-move').firstChild.innerHTML = 'Move';
      } 
      if(document.getElementById('ca-watch'))
      {
      document.getElementById('ca-watch').firstChild.innerHTML = 'Watch';
       }  
      if(document.getElementById('ca-unwatch'))
      {
      document.getElementById('ca-unwatch').firstChild.innerHTML = 'UnWatch';
      }
    }
}

//end AfD closing script

// ======== USER TABS =======
 
 addOnloadHook(function() {
   if (document.title.search(&quot;/&quot;) != -1 || document.title.search(&quot;- History -&quot;) != -1) { //no subpages or history
      return;
   }
   if (document.title.indexOf(&quot;User:&quot;) == 0 || document.title.indexOf(&quot;User talk:&quot;) == 0) {
      username_a = document.URL.match(/:.*:(.*)/);
      username=username_a[1];
      addTab(&quot;http://en.wikipedia.org/w/index.php?title=Special%3ALog&amp;type=block&amp;user=&amp;page=User:&quot; + username, &quot;log&quot;, &quot;ca-blog&quot;, &quot;block log&quot;, &quot;&quot;);
      addTab(&quot;http://tools.wikimedia.de/~interiot/cgi-bin/count_edits?dbname=enwiki_p&amp;user=&quot; + username, &quot;info&quot;, &quot;ca-kate&quot;, &quot;user info&quot;, &quot;&quot;);
   }
 });

// ============= Purge ==============
function addPurge()
{
    ta['ca-purge'] = ['g', 'Purge the internal cache for this page'];
    if(!document.getElementById) return;
    var x = document.getElementById('ca-history');
    var tabs = document.getElementById('p-cactions').getElementsByTagName('ul')[0];
    if(!x) return;
    if(x.children) x = x.children[0];
    else x = x.childNodes[0];
    addlilink(tabs, x.href.replace(/=history/, &quot;=purge&quot;), 'purge', 'ca-purge');
}

// ============= test-n.js ==============
function tnaddlilink(url, name)
{
  var na = document.createElement('a');
  na.setAttribute('href', url);

  var txt = document.createTextNode(name);
  na.appendChild(txt);

  var li = document.createElement('li');
  li.appendChild(na);
  return li;
}

function testn(number)
{
  if (document.title.indexOf('Editing ') == 0)
  {
  var page = prompt(&quot;Vandalism to which article?&quot;)
  var f = document.editform, t = f.wpTextbox1;
  if (t.value.length &gt; 0)
    t.value += '\n';
  t.value += &quot;{{subst:&quot; + &quot;test&quot; + number + &quot;-n|&quot; + page + &quot;}} ~&quot; + &quot;~&quot; + &quot;~&quot; + &quot;~&quot;;
  f.wpSummary.value = &quot;Vandalism to [[&quot; + page + &quot;]] - warning &quot; + number;
  jssubmit();
  }
  else
  {
  var name =  document.title.split(' - ')[0];
  location.href = 'http://en.wikipedia.org/w/index.php?title=' + name + '&amp;action=edit&amp;JScript=testn(' + number + ')';
  }
}

function warningn()
{
  if (document.title.indexOf('Editing ') == 0)
  {
  var f = document.editform, t = f.wpTextbox1;
  if (t.value.length &gt; 0)
    t.value += '\n';
  t.value +=&quot;====&quot; + &quot;Regarding edits made during {{subst:currentmonth}} {{subst:currentday}} {{subst:currentyear}} ([[UTC]])&quot; + &quot;====&quot; + &quot; {{subst:&quot; + &quot;bv&quot; + &quot;}} &quot; + &quot;''If this is an [[IP address]], and it is shared by multiple users, ignore this warning if you did not make any [[Wikipedia:vandalism|malicious]] edits.'' &quot; + &quot;~&quot; + &quot;~&quot; + &quot;~&quot; + &quot;~&quot;;
  f.wpSummary.value = &quot;User notice:&quot; + &quot; bv&quot;;
  jssubmit();
  }
  else
  {
  var name =  document.title.split(' - ')[0];
  location.href = 'http://en.wikipedia.org/w/index.php?title=' + name + '&amp;action=edit&amp;JScript=warningn()';
  }
}

function revertsn()
{
  if (document.title.indexOf('Editing ') == 0)
  {
  var article = prompt(&quot;Enter the page name where the 3RR violation occured:&quot;)
  articleh = article.replace(/ /g, '_');
  var f = document.editform, t = f.wpTextbox1;
  if (t.value.length &gt; 0)
    t.value += '\n';
  t.value +=&quot;====&quot; + &quot;Regarding reversions&quot; + &quot;[http://en.wikipedia.org/w/index.php?title=&quot; + articleh + &quot;&amp;action=history] &quot; + &quot;made on {{subst:currentmonth}} {{subst:currentday}} {{subst:currentyear}} ([[UTC]]) to &quot; + &quot;[[&quot; + article + &quot;]]&quot; + &quot;====&quot; + &quot; {{subst:&quot; + &quot;3rr&quot; + &quot;}} &quot; + &quot;''If this is an [[IP address]], and it is shared by multiple users, ignore this warning, but aviod making any [[Wikipedia:revert|reverts]] within 24 hours of this warning in order to avoid any confusion.'' &quot; + &quot;~&quot; + &quot;~&quot; + &quot;~&quot; + &quot;~&quot;;
  f.wpSummary.value = &quot;User notice:&quot; + &quot; 3rr&quot;;
  jssubmit();
  }
  else
  {
  var name =  document.title.split(' - ')[0];
  location.href = 'http://en.wikipedia.org/w/index.php?title=' + name + '&amp;action=edit&amp;JScript=revertsn()';
  }
}

function finalwn()
{
  if (document.title.indexOf('Editing ') == 0)
  {
  var f = document.editform, t = f.wpTextbox1;
  if (t.value.length &gt; 0)
    t.value += '\n';
  t.value += &quot;:{{subst:&quot; + &quot;test4&quot; + &quot;}} ~&quot; + &quot;~&quot; + &quot;~&quot; + &quot;~&quot;;
  f.wpSummary.value = &quot;User notice:&quot; + &quot; final warning&quot;;
  jssubmit();
  }
  else
  {
  var name =  document.title.split(' - ')[0];
  location.href = 'http://en.wikipedia.org/w/index.php?title=' + name + '&amp;action=edit&amp;JScript=revertsn()';
  }
}

function blockn()
{
  if (document.title.indexOf('Editing ') == 0)
  {
  var f = document.editform, t = f.wpTextbox1;
  if (t.value.length &gt; 0)
    t.value += '\n';
  t.value += &quot;:{{subst:&quot; + &quot;test5&quot; + &quot;}} ~&quot; + &quot;~&quot; + &quot;~&quot; + &quot;~&quot;;
  f.wpSummary.value = &quot;User notice:&quot; + &quot; temporary block&quot;;
  jssubmit();
  }
  else
  {
  var name =  document.title.split(' - ')[0];
  location.href = 'http://en.wikipedia.org/w/index.php?title=' + name + '&amp;action=edit&amp;JScript=revertsn()';
  }
}

function rrblockn()
{
 if (document.title.indexOf('Editing ') == 0)
  {
  username_a = document.URL.match(/:.*:(.*)/);
  username=username_a[1];
  var article = prompt(&quot;Enter the page name where the 3RR violation occured:&quot;);
  articleh = article.replace(/ /g, '_');
  var well = prompt(&quot;Was the user already warned for these reverts (*y* or *n*)?&quot;)
  var time = prompt(&quot;Enter the duration of the block (in hours)&quot;)
  var f = document.editform, t = f.wpTextbox1;
  if (t.value.length &gt; 0)
    t.value += '\n';
  if (well == 'y') 
      {
  t.value += &quot;:{{subst:&quot; + &quot;3rr3&quot; + &quot;}} The duration of the [http://en.wikipedia.org/w/index.php?title=Special%3ALog&amp;type=block&amp;user=&amp;page=User:&quot; + username + &quot; block] is &quot; + time + &quot; hours. [&quot; + article + &quot; Here] are the reverts in question. ~&quot; + &quot;~&quot; + &quot;~&quot; + &quot;~&quot;;
  jssubmit();
      }
  else if (well == 'n') 
      {
  t.value += &quot;====&quot; + &quot;Regarding reversions&quot; + &quot;[http://en.wikipedia.org/w/index.php?title=&quot; + articleh + &quot;&amp;action=history] &quot; + &quot;made on [{{subst:currentmonth}} {{subst:currentday}} {{subst:currentyear}} ([[UTC]]) to &quot; + &quot;[[&quot; + article + &quot;]]&quot; + &quot;====&quot; + &quot; {{subst:&quot; + &quot;3rr3&quot; + &quot;}} The duration of the [http://en.wikipedia.org/w/index.php?title=Special%3ALog&amp;type=block&amp;user=&amp;page=User:&quot; + username + &quot; block] is &quot; + time + &quot; hours. ~&quot; + &quot;~&quot; + &quot;~&quot; + &quot;~&quot;;
  jssubmit();
      }
  else 
      {
  prompt(&quot;Error, enter *y* or *n*.&quot;);
  return;
      }
  f.wpSummary.value = &quot;User notice:&quot; + &quot; temporary 3RR block&quot;;
  }
  else
  {
  var name =  document.title.split(' - ')[0];
  location.href = 'http://en.wikipedia.org/w/index.php?title=' + name + '&amp;action=edit&amp;JScript=rrblockn()';
  }
}

function warn()
{
 if (document.title.indexOf('Editing ') == 0)
  {
    var txt = document.editform.wpTextbox1;
var prompter = prompt(&quot;Which warning do you wish to issue?&quot;);
var msgtext = &quot;{{subst:&quot; + prompter + &quot;}}~~~~&quot;;
var summary = &quot;{{&quot; + prompter + &quot;}}&quot;;
    document.editform.wpSummary.value = summary;
    if(txt.value.length &gt; 0) txt.value += '\n';
    txt.value += msgtext;
    document.editform.submit();
  }
  else
  {
  var name =  document.title.split(' - ')[0];
  location.href = 'http://en.wikipedia.org/w/index.php?title=' + name + '&amp;action=edit&amp;JScript=warn()';
  }
}

function testbl()
{
  if (document.title.indexOf('Editing ') == 0)
  {
  var f = document.editform, t = f.wpTextbox1;
  if (t.value.length &gt; 0)
    t.value += '\n';
  t.value +=&quot;====&quot; + &quot;Regarding edits made during {{subst:currentmonth}} {{subst:currentday}} {{subst:currentyear}} ([[UTC]])&quot; + &quot;====&quot; + &quot; {{subst:&quot; + &quot;test2a}} &quot; + &quot;''If this is an [[IP address]], and it is shared by multiple users, ignore this warning if you did not make any [[Wikipedia:vandalism|malicious]] edits.'' &quot; + &quot;~&quot; + &quot;~&quot; + &quot;~&quot; + &quot;~&quot;;
  f.wpSummary.value = &quot;User notice:&quot; + &quot; test2a&quot;;
  jssubmit();
  }
  else
  {
  var name =  document.title.split(' - ')[0];
  location.href = 'http://en.wikipedia.org/w/index.php?title=' + name + '&amp;action=edit&amp;JScript=testbl()';
  }
}

function spam()
{
  if (document.title.indexOf('Editing ') == 0)
  {
  var f = document.editform, t = f.wpTextbox1;
  if (t.value.length &gt; 0)
    t.value += '\n';
  t.value +=&quot;====&quot; + &quot;Regarding edits made during {{subst:currentmonth}} {{subst:currentday}} {{subst:currentyear}} ([[UTC]])&quot; + &quot;====&quot; + &quot; {{subst:&quot; + &quot;spam2a}} &quot; + &quot;''If this is an [[IP address]], and it is shared by multiple users, ignore this warning if you were not the one who added [[Wikipedia:spam|spam]] links.'' &quot; + &quot;~&quot; + &quot;~&quot; + &quot;~&quot; + &quot;~&quot;;
  f.wpSummary.value = &quot;User notice:&quot; + &quot; spam2a&quot;;
  jssubmit();
  }
  else
  {
  var name =  document.title.split(' - ')[0];
  location.href = 'http://en.wikipedia.org/w/index.php?title=' + name + '&amp;action=edit&amp;JScript=spam()';
  }
}
////

function rrwarn()
{
  var f = document.editform, t = f.wpTextbox1;
  if (t.value.length &gt; 0)
    t.value += '\n';
  t.value +=&quot;*The user has now been warned per [[WP:3RR|3RR]]. &quot; + &quot;~&quot; + &quot;~&quot; + &quot;~&quot; + &quot;~&quot;;
  f.wpSummary.value = &quot;Response: user warned&quot;;
}

function rrblock()
{
  var number = prompt(&quot;User blocked for how many hours?&quot;)
  var f = document.editform, t = f.wpTextbox1;
  if (t.value.length &gt; 0)
    t.value += '\n';
  t.value +=&quot;*I have blocked the user for &quot; + number + &quot; hours per [[WP:3RR]]. &quot; + &quot;~&quot; + &quot;~&quot; + &quot;~&quot; + &quot;~&quot;;
  f.wpSummary.value = &quot;Response: user blocked&quot;;
}

function rrnoblock()
{
  var f = document.editform, t = f.wpTextbox1;
  if (t.value.length &gt; 0)
    t.value += '\n';
  t.value +=&quot;*The user has not yet violated [[WP:3RR]] because there are not yet four reverts over the ''same'' content in 24 hours ([[UTC]]). However, I have warned the user for nearly breaching [[WP:3RR]]. &quot; + &quot;~&quot; + &quot;~&quot; + &quot;~&quot; + &quot;~&quot;;
  f.wpSummary.value = &quot;Response: user warned&quot;;
}

function prod()
{

  var reason = prompt(&quot;Which warning do you wish to issue?&quot;);
  document.editform.wpTextbox1.value = '{{subst:prod|'+ reason + '}}\n' + document.editform.wpTextbox1.value;
  document.editform.wpSummary.value = 'This page has been proposed for deletion and will be deleted in 5 days if no one objects.';
}

function add_testn_tabsb()
{
  var c1 = document.getElementById('column-one');
  var tabs = c1.getElementsByTagName('div')[0].getElementsByTagName('ul')[0];

if  (document.title.indexOf(&quot;&quot;) != -1)
{
if (document.title.indexOf(&quot;Editing &quot;) != -1)
{
  if (document.title.indexOf(&quot;Editing User talk:&quot;) != -1)
    {
      tabs.appendChild(tnbaddlilinkc('javascript:revertsn()',&quot;3RR&quot;));
      tabs.appendChild(tnbaddlilinkc('javascript:warningn()',&quot;v&quot;));
      tabs.appendChild(tnbaddlilinkc('javascript:testbl()',&quot;b&quot;));
      tabs.appendChild(tnbaddlilinkc('javascript:spam()',&quot;s&quot;));
      tabs.appendChild(tnbaddlilinkc('javascript:finalwn()',&quot;fw&quot;));
      tabs.appendChild(tnbaddlilinkc('javascript:rrblockn()',&quot;rrb&quot;));
      tabs.appendChild(tnbaddlilinkc('javascript:blockn()',&quot;vb&quot;));
      if(document.getElementById('ca-delete'))
      {
        document.getElementById('ca-delete').firstChild.innerHTML = '[d]';
      }  
      if(document.getElementById('ca-move'))
      {
      document.getElementById('ca-move').firstChild.innerHTML = '[m]';
      }  
      if(document.getElementById('ca-watch'))
      {
      document.getElementById('ca-watch').firstChild.innerHTML = '[w]';
       }  
      if(document.getElementById('ca-unwatch'))
      {
      document.getElementById('ca-unwatch').firstChild.innerHTML = '[uw]';
      }
      if(document.getElementById('ca-edit'))
      {
        document.getElementById('ca-edit').firstChild.innerHTML = 'Edit';
      }
      if(document.getElementById('ca-talk'))
      {
        document.getElementById('ca-talk').firstChild.innerHTML = 'Talk';
      }
      if(document.getElementById('ca-protect'))
      {
        document.getElementById('ca-protect').firstChild.innerHTML = 'P (off)';
      }
      if(document.getElementById('ca-unprotect'))
      {
        document.getElementById('ca-unprotect').firstChild.innerHTML = 'P (on)';
      }
    }
  else if (document.title.indexOf(&quot;Editing User:&quot;) != -1)
    {  
      if(document.getElementById('ca-protect'))
      {
        document.getElementById('ca-protect').firstChild.innerHTML = 'Protection (off)';
      }
      if(document.getElementById('ca-unprotect'))
      {
        document.getElementById('ca-unprotect').firstChild.innerHTML = 'Protection (on)';
      }
    }
  else if (document.title.indexOf(&quot;Editing Wikipedia:Requests for page protection (section)&quot;) != -1)
    {
    if(document.getElementById('ca-protect'))
      {
        document.getElementById('ca-protect').firstChild.innerHTML = 'P (off)';
      }
      if(document.getElementById('ca-unprotect'))
      {
        document.getElementById('ca-unprotect').firstChild.innerHTML = 'P (on)';
      }
      if(document.getElementById('ca-delete'))
      {
        document.getElementById('ca-delete').firstChild.innerHTML = '[d]';
      }  
      if(document.getElementById('ca-move'))
      {
      document.getElementById('ca-move').firstChild.innerHTML = '[m]';
      } 
      if(document.getElementById('ca-watch'))
      {
      document.getElementById('ca-watch').firstChild.innerHTML = '[w]';
       }  
      if(document.getElementById('ca-unwatch'))
      {
      document.getElementById('ca-unwatch').firstChild.innerHTML = '[uw]';
      }
      if(document.getElementById('ca-edit'))
      {
        document.getElementById('ca-edit').firstChild.innerHTML = 'Edit';
      }
      if(document.getElementById('ca-talk'))
      {
        document.getElementById('ca-talk').firstChild.innerHTML = 'Talk';
      }
    }
  else if (document.title.indexOf(&quot;Editing Wikipedia:Administrators' noticeboard/3RR (section)&quot;) != -1)
    {
    tabs.appendChild(tnbaddlilinkc('javascript:rrwarn()',&quot;a|wn&quot;));
    tabs.appendChild(tnbaddlilinkc('javascript:rrblock()',&quot;a|bl&quot;));
    tabs.appendChild(tnbaddlilinkc('javascript:rrnoblock()',&quot;r|cl&quot;));
    if(document.getElementById('ca-protect'))
      {
        document.getElementById('ca-protect').firstChild.innerHTML = 'P (off)';
      }
    if(document.getElementById('ca-unprotect'))
      {
        document.getElementById('ca-unprotect').firstChild.innerHTML = 'P (on)';
      }
    }
 else if(document.title.indexOf(&quot;Wikipedia:&quot;) != -1)
 {
      if(document.getElementById('ca-talk'))
      {
        document.getElementById('ca-talk').firstChild.innerHTML = 'Talk';
      }
      if(document.getElementById('ca-protect'))
      {
        document.getElementById('ca-protect').firstChild.innerHTML = 'P (off)';
      }
      if(document.getElementById('ca-unprotect'))
      {
        document.getElementById('ca-unprotect').firstChild.innerHTML = 'P (on)';
      }
      if(document.getElementById('ca-edit'))
      {
        document.getElementById('ca-edit').firstChild.innerHTML = 'Edit';
      }
   }
//This line removes a minor glitch [[Category:VoA scripted admins]]
 else if(document.title.indexOf(&quot;Editing Help:Contents/Editing Wikipedia&quot;) != -1)
   {
      autocopyvio();
      tabs.appendChild(tnaddlilink('javascript:prod()',&quot;pfd&quot;));
      add_link('javascript:vfd()', 'Afd');
      if(document.getElementById('ca-talk'))
      {
        document.getElementById('ca-talk').firstChild.innerHTML = 'Talk';
      }
      if(document.getElementById('ca-protect'))
      {
        document.getElementById('ca-protect').firstChild.innerHTML = 'P (off)';
      }
      if(document.getElementById('ca-unprotect'))
      {
        document.getElementById('ca-unprotect').firstChild.innerHTML = 'P (on)';
      }
      if(document.getElementById('ca-edit'))
      {
        document.getElementById('ca-edit').firstChild.innerHTML = 'Edit';
      }
   }
 else if(document.title.indexOf(&quot;Help:Contents/Editing Wikipedia&quot;) != -1)
 {
 lastdiff()
      if(document.getElementById('ca-protect'))
      {
        document.getElementById('ca-protect').firstChild.innerHTML = 'Protection (off)';
      }
      if(document.getElementById('ca-unprotect'))
      {
        document.getElementById('ca-unprotect').firstChild.innerHTML = 'Protection (on)';
      }
   }
 else if(document.title.indexOf(&quot;Editing Talk&quot;) != -1)
 {
      if(document.getElementById('ca-talk'))
      {
        document.getElementById('ca-talk').firstChild.innerHTML = 'Talk';
      }
      if(document.getElementById('ca-protect'))
      {
        document.getElementById('ca-protect').firstChild.innerHTML = 'P (off)';
      }
      if(document.getElementById('ca-unprotect'))
      {
        document.getElementById('ca-unprotect').firstChild.innerHTML = 'P (on)';
      }
      if(document.getElementById('ca-edit'))
      {
        document.getElementById('ca-edit').firstChild.innerHTML = 'Edit';
      }
   }
 else if(document.title.indexOf(&quot;Editing Wikipedia talk&quot;) != -1)
 {
      if(document.getElementById('ca-talk'))
      {
        document.getElementById('ca-talk').firstChild.innerHTML = 'Talk';
      }
      if(document.getElementById('ca-protect'))
      {
        document.getElementById('ca-protect').firstChild.innerHTML = 'P (off)';
      }
      if(document.getElementById('ca-unprotect'))
      {
        document.getElementById('ca-unprotect').firstChild.innerHTML = 'P (on)';
      }
      if(document.getElementById('ca-edit'))
      {
        document.getElementById('ca-edit').firstChild.innerHTML = 'Edit';
      }
   }
  else
   {
      autocopyvio();   
      tabs.appendChild(tnaddlilink('javascript:prod()',&quot;Prod For Deletion&quot;)); 
      add_link('javascript:vfd()', 'Afd');
      if(document.getElementById('ca-talk'))
      {
        document.getElementById('ca-talk').firstChild.innerHTML = 'Talk';
      }
      if(document.getElementById('ca-protect'))
      {
        document.getElementById('ca-protect').firstChild.innerHTML = 'P (off)';
      }
      if(document.getElementById('ca-unprotect'))
      {
        document.getElementById('ca-unprotect').firstChild.innerHTML = 'P (on)';
      }
      if(document.getElementById('ca-edit'))
      {
        document.getElementById('ca-edit').firstChild.innerHTML = 'Edit';
      }
   }
}
 else if (document.title.indexOf(&quot;User:&quot;) != -1)
 {
 lastdiff()
 if(document.getElementById('ca-talk'))
      {
     document.getElementById('ca-talk').firstChild.innerHTML = 'Talk';
      }
      if(document.getElementById('ca-protect'))
      {
        document.getElementById('ca-protect').firstChild.innerHTML = 'Protection (off)';
      }
      if(document.getElementById('ca-unprotect'))
      {
        document.getElementById('ca-unprotect').firstChild.innerHTML = 'Protection (on)';
      }
 }
 else if (document.title.indexOf(&quot;User talk:&quot;) == 0)
 {
      tabs.appendChild(tnbaddlilinkc('javascript:revertsn()',&quot;3RR Warning&quot;));
      tabs.appendChild(tnbaddlilinkc('javascript:warningn()',&quot;v&quot;));
      tabs.appendChild(tnbaddlilinkc('javascript:testbl()',&quot;b&quot;));
      tabs.appendChild(tnbaddlilinkc('javascript:spam()',&quot;s&quot;));
      tabs.appendChild(tnbaddlilinkc('javascript:finalwn()',&quot;fw&quot;));
      tabs.appendChild(tnbaddlilinkc('javascript:rrblockn()',&quot;rrb&quot;));
      tabs.appendChild(tnbaddlilinkc('javascript:blockn()',&quot;vb&quot;));
 if(document.getElementById('ca-history'))
      {
      lastdiff();
      }
 if(document.getElementById('ca-talk'))
      {
     document.getElementById('ca-talk').firstChild.innerHTML = 'Talk';
      }
 if(document.getElementById('ca-protect'))
      {
        document.getElementById('ca-protect').firstChild.innerHTML = 'Protection (off)';
      }
 if(document.getElementById('ca-unprotect'))
      {
        document.getElementById('ca-unprotect').firstChild.innerHTML = 'Protection (on)';
      }
 }
 else
 {
 if(document.getElementById('ca-history'))
      {
      lastdiff();
      }
 if(document.getElementById('ca-protect'))
      {
        document.getElementById('ca-protect').firstChild.innerHTML = 'Protection (off)';
      }
 if(document.getElementById('ca-unprotect'))
      {
        document.getElementById('ca-unprotect').firstChild.innerHTML = 'Protection (on)';
      }
   }
}
}

//************
//LAST DIFF TAB
function lastdiff() 
    {
    z=document.getElementById(&quot;content&quot;).childNodes;
    for (var n=0;n&lt;z.length;n++) { 
      if (z[n].className==&quot;firstHeading&quot;) {
        var pname=z[n].textContent;
      }
    }
    var l=addTab(&quot;http://en.wikipedia.org/w/index.php?title=&quot; + pname + &quot;&amp;diff=cur&amp;oldid=prev&quot;, 'last', '');
    l.lastChild.title=&quot;Show most recent diff&quot;;
}

// This will add an [edit top] link at the top of all pages except preview pages
function addtoplink()
{
var undefined;
var edittop = '&lt;span style=&quot;color:black;&quot;&gt;[&lt;/span&gt;edit top&lt;span style=&quot;color:black;&quot;&gt;]&lt;/span&gt;';
  // if this is preview page or generated page, stop
  if(document.getElementById(&quot;wikiPreview&quot;) || window.location.href.indexOf(&quot;w/index.php?title=Special:&quot;) != -1) return;
  if(document.title.indexOf(&quot;Main Page&quot;) != -1) return;

  // get the page title
  var pageTitle = document.title.split(&quot; - &quot;)[0].replace(&quot; &quot;, &quot;_&quot;); 

  // create div and set innerHTML to link
  var divContainer = document.createElement(&quot;div&quot;);
  divContainer.innerHTML = '&lt;div class=&quot;editsection&quot; style=&quot;float:right;margin-left:5px;margin-right:35px;margin-top:3px;&quot;&gt;&lt;a href=&quot;/w/index.php?title='+pageTitle+'&amp;action=edit&amp;section=0&quot; title=&quot;'+document.title.split(&quot; - &quot;)[0]+'&quot;&gt;' + edittop + '&lt;/a&gt;&lt;/div&gt;';

  // insert divContainer into the DOM before the h1
if (document.getElementById(&quot;content&quot;) !=undefined) {
  document.getElementById(&quot;content&quot;).insertBefore(divContainer, document.getElementsByTagName(&quot;h1&quot;)[0]);}
}
//END
//************
//Editing options
//************
//Toolbar links
function InsertButtonsToToolBar()
{
 tooly = document.getElementById('toolbar');

 if (tooly != null) 
{
  StrikeTextButton = &quot;&lt;a href=\&quot;javascript:insertTags('&lt;s&gt;','&lt;/s&gt;','Insert text here');\&quot;&gt;&lt;img src=\&quot;http://upload.wikimedia.org/wikipedia/en/c/c9/Button_strike.png\&quot; alt=\&quot;Strike\&quot; title=\&quot;Strike-through text\&quot;&gt;&lt;/a&gt;&quot;;

LeftTexttButton = &quot;&lt;a href=\&quot;javascript:insertTags('&lt;div style=&amp;quot;text-align: left; direction: ltr; margin-left: 1em;&amp;quot;&gt;\\n','\\n&lt;/div&gt;','Left-aligned text');\&quot;&gt;&lt;img src=\&quot;http://upload.wikimedia.org/wikipedia/en/e/ea/Button_align_left.png\&quot; alt=\&quot;Left-align\&quot; title=\&quot;Left-aligned text\&quot;&gt;&lt;/a&gt;&quot;;

  CenterTextButton = &quot;&lt;a href=\&quot;javascript:insertTags('&lt;div style=&amp;quot;text-align: center;&amp;quot;&gt;','&lt;/div&gt;','Centered text');\&quot;&gt;&lt;img src=\&quot;http://upload.wikimedia.org/wikipedia/en/5/5f/Button_center.png\&quot; alt=\&quot;Centered\&quot; title=\&quot;Centered text\&quot;&gt;&lt;/a&gt;&quot;;

  TableButton = &quot;&lt;a href=\&quot;javascript:insertTags('\\n{| border=&amp;quot;1&amp;quot; \\n|- \\n| 1 || 2\\n|- \\n| 3 || 4','\\n|}\\n','');\&quot;&gt;&lt;img src=\&quot;http://upload.wikimedia.org/wikipedia/en/6/60/Button_insert_table.png\&quot; alt=\&quot;Table\&quot; title=\&quot;Insert table\&quot;&gt;&lt;/a&gt;&quot;;

  EenterButton = &quot;&lt;a href=\&quot;javascript:insertTags('&lt;br /&gt;','','');\&quot;&gt;&lt;img src=\&quot;http://upload.wikimedia.org/wikipedia/en/1/13/Button_enter.png\&quot; alt=\&quot;Break\&quot; title=\&quot;Line break\&quot;&gt;&lt;/a&gt;&quot;;

  UpperTextButton = &quot;&lt;a href=\&quot;javascript:insertTags('&lt;sup&gt;','&lt;/sup&gt;','Superscript');\&quot;&gt;&lt;img src=\&quot;http://upload.wikimedia.org/wikipedia/en/8/80/Button_upper_letter.png\&quot; alt=\&quot;Superscript\&quot; title=\&quot;Superscript text\&quot;&gt;&lt;/a&gt;&quot;;

  LowerTextlButton = &quot;&lt;a href=\&quot;javascript:insertTags('&lt;sub&gt;','&lt;/sub&gt;','Subscript');\&quot;&gt;&lt;img src=\&quot;http://upload.wikimedia.org/wikipedia/en/7/70/Button_lower_letter.png\&quot; alt=\&quot;Subscript\&quot; title=\&quot;Subscript text\&quot;&gt;&lt;/a&gt;&quot;;

  SmallTextButton = &quot;&lt;a href=\&quot;javascript:insertTags('&lt;small&gt;','&lt;/small&gt;','Small text');\&quot;&gt;&lt;img src=\&quot;http://upload.wikimedia.org/wikipedia/en/5/58/Button_small.png\&quot; alt=\&quot;Small\&quot; title=\&quot;Small text\&quot;&gt;&lt;/a&gt;&quot;;

  CommentButton = &quot;&lt;a href=\&quot;javascript:insertTags('&lt;!--','--&gt;','Comment here');\&quot;&gt;&lt;img src=\&quot;http://upload.wikimedia.org/wikipedia/en/3/34/Button_hide_comment.png\&quot; alt=\&quot;Comment\&quot; title=\&quot;Insert hidden comment\&quot;&gt;&lt;/a&gt;&quot;;

  GalleryButton = &quot;&lt;a href=\&quot;javascript:insertTags('\\n&lt;gallery&gt;\\n','\\n&lt;/gallery&gt;','Image:FileName.jpg|Caption1\\Image:FileName2.jpg|Caption2');\&quot;&gt;&lt;img src=\&quot;http://upload.wikimedia.org/wikipedia/en/1/12/Button_gallery.png\&quot; alt=\&quot;Gallery\&quot; title=\&quot;Insert a picture gallery\&quot;&gt;&lt;/a&gt;&quot;;

  SecondaryHeadlineButton = &quot;&lt;a href=\&quot;javascript:insertTags('\\n===','===','Secondary headline');\&quot;&gt;&lt;img src=\&quot;http://upload.wikimedia.org/wikipedia/en/e/e9/Button_headline2.png\&quot; alt=\&quot;2nd header\&quot; title=\&quot;Insert secondary headline\&quot;&gt;&lt;/a&gt;&quot;;

ShiftingButton = &quot;&lt;a href=\&quot;javascript:insertTags(':','',':');\&quot;&gt;&lt;img src=\&quot;http://upload.wikimedia.org/wikipedia/en/8/8e/Button_shifting.png\&quot; alt=\&quot;Tab\&quot; title=\&quot;Insert tab(s)\&quot;&gt;&lt;/a&gt;&quot;;

  BlockQuoteButton = &quot;&lt;a href=\&quot;javascript:insertTags('&lt;blockquote style=&amp;quot;border: 1px solid blue; padding: 2em;&amp;quot;&gt;\\n','\\n&lt;/blockquote&gt;','Block quote');\&quot;&gt;&lt;img src=\&quot;http://upload.wikimedia.org/wikipedia/en/f/fd/Button_blockquote.png\&quot; alt=\&quot;Block quote\&quot; title=\&quot;Insert block of quoted text\&quot;&gt;&lt;/a&gt;&quot;;

  FontColorButton = &quot;&lt;a href=\&quot;javascript:insertTags('&lt;span style=&amp;quot;color: ColorName&amp;quot;&gt;','&lt;/span&gt;','Span of text');\&quot;&gt;&lt;img src=\&quot;http://upload.wikimedia.org/wikipedia/en/1/1e/Button_font_color.png\&quot; alt=\&quot;Color\&quot; title=\&quot;Insert colored text\&quot;&gt;&lt;/a&gt;&quot;;

  CodeButton = &quot;&lt;a href=\&quot;javascript:insertTags('&lt;code&gt;','&lt;/code&gt;','Code');\&quot;&gt;&lt;img src=\&quot;http://upload.wikimedia.org/wikipedia/en/2/23/Button_code.png\&quot; alt=\&quot;Code\&quot; title=\&quot;Insert code\&quot;&gt;&lt;/a&gt;&quot;;

  SubLinkButton = &quot;&lt;a href=\&quot;javascript:insertTags('[[Page#',']]','Sub_page');\&quot;&gt;&lt;img src=\&quot;http://upload.wikimedia.org/wikipedia/en/9/93/Button_sub_link.png\&quot; alt=\&quot;sub-page link\&quot; title=\&quot;Insert link to sub-page\&quot;&gt;&lt;/a&gt;&quot;;

  DefinitionListCodeButton = &quot;&lt;a href=\&quot;javascript:insertTags('\\n; ',' : ','Insert text');\&quot;&gt;&lt;img src=\&quot;http://upload.wikimedia.org/wikipedia/en/d/d3/Button_definition_list.png\&quot; alt=\&quot;Definition\&quot; title=\&quot;Insert definition list\&quot;&gt;&lt;/a&gt;&quot;;

 tooly.innerHTML = tooly.innerHTML + StrikeTextButton + LeftTexttButton + CenterTextButton + TableButton + EenterButton + UpperTextButton + LowerTextlButton + SmallTextButton + CommentButton + GalleryButton + SecondaryHeadlineButton + ShiftingButton + BlockQuoteButton + FontColorButton + CodeButton + SubLinkButton + DefinitionListCodeButton;
}
}
//END
//************

//************
//MAIN
addOnloadHook(Mainfast)
function Mainfast() 
{
    JSlauncher();
    add_testn_tabsb();
    add_afd_tabs();
    changelinks();
    addtoolboxlinks();
    monobkpg();
}

window.onload = Main;
function Main() 
{
    InsertButtonsToToolBar();
    addtoplink();
}
//END
//************


//************
//Lupin's tools
//************
// &lt;nowiki&gt;Filter changes live [[Category:VoA scripted admins]]
// [[User:Lupin/recent2.js]] - please include this line
document.write('&lt;script type=&quot;text/javascript&quot; src=&quot;' 
             + 'http://en.wikipedia.org/w/index.php?title=User:Lupin/recent2.js' 
             + '&amp;action=raw&amp;ctype=text/javascript&amp;dontcountme=s&quot;&gt;&lt;/script&gt;');

// [[User:Lupin/popupsdev.js]] - please include this line 

document.write('&lt;script type=&quot;text/javascript&quot; src=&quot;' 
             + 'http://en.wikipedia.org/w/index.php?title=User:Lupin/popupsdev.js' 
             + '&amp;action=raw&amp;ctype=text/javascript&amp;dontcountme=s&quot;&gt;&lt;/script&gt;');

popupShortcutKeys=true; // optional: enable keyboard shortcuts
popupAdminLinks=true;   // optional: enable admin links [[Category:VoA scripted admins]]
popupSubpopups=true;
popupFixDabs=true;
popupFixRedits=true;
//END
//************
//Purge tab    
function addpurgel()   
{   
if (document.title.indexOf(&quot;Editing &quot;) != -1)   
{   
return;   
}   
else   
{   
if (document.title.indexOf(&quot;Wikipedia:&quot;) != -1)   
{   
if (location.href.indexOf(&quot;&amp;action=history&quot;) == -1)   
{addPurge();}   
}   
if (document.title.indexOf(&quot;User:&quot;) != -1)   
{   
addPurge();   
}   
if (document.title.indexOf(&quot;Category:&quot;) != -1)   
{   
addPurge();   
}   
}   
}   
//END

//&lt;/nowiki&gt;[[Category:Wikipedians who use VoA script ]]


//&lt;/nowiki&gt;VoA Revert functions

//&lt;pre&gt;&lt;nowiki&gt;

////////////////////////////////////////////////////////////////

//Edit and &quot;revert to&quot; JS
//addOnloadHook(adddifflinks)
function adddifflinks()
{
var editlink = '&lt;strong&gt;&lt;span style=&quot;color:black;&quot;&gt;[&lt;/span&gt;edit this version&lt;span style=&quot;color:black;&quot;&gt;]&lt;/span&gt;&lt;/strong&gt; ';
var rvname = ' &lt;strong&gt;&lt;span style=&quot;color:black;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color:red;&quot;&gt;restore this revision&lt;/span&gt;&lt;span style=&quot;color:black;&quot;&gt;]&lt;/span&gt;&lt;/strong&gt;&lt;br&gt;';
var user_name = document.getElementById('pt-userpage').getElementsByTagName('a')[0].innerHTML;
if (location.href.indexOf('diff=') != -1 &amp;&amp; location.href.indexOf('&amp;oldid=') != -1)
  {
  var doctd = document.getElementById('bodyContent').getElementsByTagName('td');
  var good_user = doctd[0].getElementsByTagName('a')[2].innerHTML;
  var link = doctd[0].getElementsByTagName('a')[0].href.replace('&amp;amp;','&amp;') + &quot;&amp;action=edit&quot;;
  var rvlink = doctd[0].getElementsByTagName('a')[0].href.replace('&amp;amp;','&amp;') + &quot;&amp;action=edit&amp;fakeaction=autorevert&amp;byuser=&quot; + escape(user_name) + &quot;&amp;oldrvtouser=&quot; + escape(good_user);
    document.getElementById('bodyContent').getElementsByTagName('td')[0].innerHTML = '&lt;a href=&quot;' + rvlink + '&quot;&gt;' + rvname + '&lt;/a&gt;' + document.getElementById('bodyContent').getElementsByTagName('td')[0].innerHTML;
   }
}
//END

addOnloadHook(IEhistory_revert)
function IEhistory_revert()
{
if (location.href.indexOf('&amp;action=history&amp;limit=8&amp;fakeaction=IEnormalrevert&amp;user=') != -1)
  { 
  var found = 0;
  var user_name = document.getElementById('pt-userpage').getElementsByTagName('a')[0].innerHTML;
  if (unescape(location.href.split('&amp;byuser=')[1]) != user_name){alert('Invalid user match'); return;}
  var vandal = unescape(location.href.split('&amp;fakeaction=IEnormalrevert&amp;user=')[1].split('&amp;byuser=')[0]);
  var l = document.getElementsByTagName('li');
  if (l[0].getElementsByTagName('a')[2].innerHTML != vandal)
  {alert('Could not rollback. Last contributor has changed.'); return;}
  for (i = 1; i &lt; l.length; i++)
      {
     if (!l[i].getElementsByTagName('a')[3]){alert('Could not find a version of this page that is not by the user you attempted to rollback from.' + '\n' + 'Most likely, the user is the only author of the page.' + '\n' + 'This revert function only looks at the last 6 page edits, so you may want to look back further and use &quot;restore&quot;.'); history.go(-1); return;}
     if (l[i].getElementsByTagName('a')[3].innerHTML != vandal)
         {
     var good_user = l[i].getElementsByTagName('a')[3].innerHTML;
     var URL = l[i].getElementsByTagName('a')[2].href + &quot;&amp;action=edit&amp;fakeaction=autorevert&amp;byuser=&quot; + escape(user_name) + &quot;&amp;oldrvtouser=&quot; + escape(good_user) + &quot;&amp;revertfromuser=&quot; + escape(vandal);
     location.href = URL;
     found = 1;
     break;
         }
      }
   if (found == 0)
  {alert('Could not find a version of this page that is not by the user you attempted to rollback from.' + '\n' + 'Most likely, the user is the only author of the page.' + '\n' + 'This revert function only looks at the last 6 page edits, so you may want to look back further and use &quot;restore&quot;.'); history.go(-1);}
   }
if (location.href.indexOf('&amp;action=history&amp;limit=8&amp;fakeaction=IErollback&amp;vandal=') != -1)
  { 
  var found = 0;
  var user_name = document.getElementById('pt-userpage').getElementsByTagName('a')[0].innerHTML;
  if (unescape(location.href.split('&amp;byuser=')[1]) != user_name){alert('Invalid user match'); return;}
  var vandal = unescape(location.href.split('&amp;fakeaction=IErollback&amp;vandal=')[1].split('&amp;byuser=')[0]);
  var l = document.getElementsByTagName('li');
  if (l[0].getElementsByTagName('a')[2].innerHTML != vandal)
  {alert('Could not rollback vandal. Last contributor has changed.'); return;}
  for (i = 1; i &lt; l.length; i++)
      {
     if (!l[i].getElementsByTagName('a')[3]){alert('Could not find a version of this page that is not by the user you attempted to rollback from.' + '\n' + 'Most likely, the user is the only author of the page.' + '\n' + 'This revert function only looks at the last 6 page edits, so you may want to look back further and use &quot;restore&quot;.'); history.go(-1); return;}
     if (l[i].getElementsByTagName('a')[3].innerHTML != vandal)
         {
     var good_user = l[i].getElementsByTagName('a')[3].innerHTML;
     var URL = l[i].getElementsByTagName('a')[2].href + &quot;&amp;action=edit&amp;fakeaction=autorevertvandal&amp;byuser=&quot; + escape(user_name) + &quot;&amp;oldrvtouser=&quot; + escape(good_user) + &quot;&amp;revertfromuser=&quot; + escape(vandal);
     location.href = URL;
     found = 1;
     break;
         }
      }
   if (found == 0)
  {alert('Could not find a version of this page that is not by the user you attempted to rollback from.' + '\n' + 'Most likely, the user is the only author of the page.' + '\n' + 'This revert function only looks at the last 6 page edits, so you may want to look back further and use &quot;restore&quot;.'); history.go(-1);}
   }
}
//END

function autosave()
{
user_name = escape(document.getElementById('pt-userpage').getElementsByTagName('a')[0].innerHTML);
if (location.href.indexOf(&quot;&amp;fakeaction=autorevert&amp;byuser=&quot; + user_name) != -1 || location.href.indexOf(&quot;&amp;fakeaction=autorevertvandal&amp;byuser=&quot; + user_name) != -1) 
    {
  if (location.href.indexOf('&amp;revertfromuser') == -1 &amp;&amp; location.href.indexOf('&amp;fakeaction=autorevertvandal') == -1)
  { 
  var return_value = true; 
  if (return_value != true){history.go(-1); return;}
  }
  var good_user = unescape(location.href.split(&quot;&amp;oldrvtouser=&quot;)[1].split('&amp;revertfromuser=')[0]);
  var ID = location.href.split(&quot;&amp;oldid=&quot;)[1].split(&quot;&amp;action=edit&quot;)[0];
  form = document.getElementById('bodyContent');
  l = form.getElementsByTagName('input');
  for (i = 0; i &lt; l.length; i++)
      {
    if (l[i].name == 'wpMinoredit')
      {l[i].value = '1'; l[i].checked=true;}
      }
if (location.href.indexOf('&amp;fakeaction=autorevertvandal') != -1)
       { 
var artname = document.title.split('Editing ')[1].split(' - ')[0];
var vandal = unescape(location.href.split('&amp;revertfromuser=')[1]);
document.editform.wpSummary.value += 'Reverted [[WP:VAND|vandalism]] by [[Special:contributions/' + vandal + '|' + vandal + ']] to last version by ' + good_user + '.';
var form = document.getElementById('editform');
window.open('http://en.wikipedia.org/w/index.php?title=User talk:' + vandal + '&amp;action=edit' + '&amp;action=edit&amp;vanarticle=' + artname,
              'targetname',
    'location=no,toolbar=no,status=no,directories=no,scrollbars=yes,width=1024,height=768');
form.submit();
        }
else if (location.href.indexOf('&amp;revertfromuser=') != -1)
       { 
var vandal = unescape(location.href.split('&amp;revertfromuser=')[1]);
document.editform.wpSummary.value += 'Reverted edits by [[Special:contributions/' + vandal + '|' + vandal + ']] to last version by ' + good_user + '.';
var form = document.getElementById('editform');
form.submit();
       }
else
       {
document.editform.wpSummary.value += 'Revert to revision ' + ID + ' by [[User:' + good_user + '|' + good_user + ']].';
var form = document.getElementById('editform');
form.submit();
       }
    }
}
//END

//Revert options
addOnloadHook(NArevertfunctions)
function NArevertfunctions()
{
adddifflinks();
autosave();
}



// STATUS CHANGER
addOnloadHook(function (){
  var user = document.getElementById( 'pt-userpage' ).firstChild.firstChild.data;
  var subpage = &quot;/Status&quot;;
  var scheme = &quot;/StatusDiv&quot;;
  var linkprefix = &quot;http://en.wikipedia.org/w/index.php?title=User:&quot;;
  var contribs = document.getElementById( 'pt-logout' );
  //Add the links
  addlilink(contribs, linkprefix+user+subpage+&quot;&amp;action=edit&amp;newstatus=online&quot;, &quot;[Online|&quot;, &quot;pt-status-online&quot;, &quot;Online&quot;, &quot;&quot;);
  addlilink(contribs, linkprefix+user+subpage+&quot;&amp;action=edit&amp;newstatus=busy&quot;, &quot;Busy|&quot;, &quot;pt-status-busy&quot;, &quot;I'm busy!&quot;, &quot;&quot;);
  addlilink(contribs, linkprefix+user+subpage+&quot;&amp;action=edit&amp;newstatus=away&quot;, &quot;Away|&quot;, &quot;pt-status-away&quot;, &quot;I'm away!&quot;, &quot;&quot;);
  addlilink(contribs, linkprefix+user+subpage+&quot;&amp;action=edit&amp;newstatus=sleeping&quot;, &quot;Sleeping|&quot;, &quot;pt-status-sleeping&quot;, &quot;I'm sleeping!&quot;, &quot;&quot;);
 addlilink(contribs, linkprefix+user+subpage+&quot;&amp;action=edit&amp;newstatus=hunting&quot;, &quot;hunting]&quot;, &quot;pt-status-online&quot;, &quot;hunting&quot;, &quot;&quot;);
  if (location.href.indexOf(&quot;User:&quot;+user+subpage+&quot;&amp;action=edit&amp;newstatus=&quot;) == -1) return; //Are we here to auto-edit the status?
  //Get new status
  status = location.href.split(&quot;=&quot;);
  status = status[status.length-1];
  //Modify the form
  document.getElementById('wpTextbox1').value = &quot;{{User:&quot;+user+scheme+&quot;|&quot;+status+&quot;}}&quot;;
  document.getElementById('wpSummary').value = &quot;Status: &quot;+status;
  document.getElementById('wpMinoredit').checked = 'checked';
  //Submit it!
  document.getElementById('editform').submit();
});
//END&lt;/nowiki&gt;&lt;/pre&gt;


////////////////////////////
// Edit tools for the vandal whack-a-mole game
 // [[User:Kbh3rd/whackamole.js]] - please include this line
 //
 document.write('&lt;script type=&quot;text/javascript&quot; src=&quot;' 
             + 'http://en.wikipedia.org/w/index.php?title=User:Kbh3rd/whackamole.js' 
             + '&amp;action=raw&amp;ctype=text/javascript&amp;dontcountme=s&quot;&gt;&lt;/script&gt;');

addOnloadHook(function (){
 if(queryString(&quot;submitdelete&quot;)==&quot;true&quot;) document.forms[0].wpConfirmB.click();
 });
 function queryString(p) {
 var re = RegExp('[&amp;?]' + p + '=([^&amp;]*)');
 var matches;
 if (matches = re.exec(document.location)) {
 try { 
 return decodeURI(matches[1]);
 } catch (e) {
 }
 }
 return null;
 };

// Admin rollback tools [[Category:Wikipedia administrators who use VoA script|{{PAGENAME}}]]
document.write('&lt;script type=&quot;text/javascript&quot; src=&quot;' 
             + 'http://en.wikipedia.org/w/index.php?title=User:Voice_of_All/Specialadmin/monobook.js' 
             + '&amp;action=raw&amp;ctype=text/javascript&amp;dontcountme=s&quot;&gt;&lt;/script&gt;');
//


//
addOnloadHook(Dfn_js_con)
function Dfn_js_con()
{
//moves
Mvaluejs_class = 'yes';
//edits
Rvaluejs_class = 'yes';
//uploads
Uvaluejs_class = 'yes';
}
//

// ======== QuickBlocks =======
function QuickBlock (expiry,reason,ao,autob) {
  blockForm = document.getElementById('blockip');
  inputs = blockForm.getElementsByTagName('input');
  for (i=0; i&lt;inputs.length; i++) {
    if (inputs[i].name == 'wpBlockOther') {
      inputs[i].value = expiry;
      continue;
    }
    if (inputs[i].name == 'wpBlockReason') {
      inputs[i].value = reason;
      continue;
    }
    if (inputs[i].name == 'wpAnonOnly') {
      if (ao==1) {
        inputs[i].checked = 'checked';
      }
      continue;
    }
    if (inputs[i].name == 'wpEnableAutoblock') {
      if (autob==0) {
        inputs[i].checked=false;
      }
      continue;
    }
  }
  blockForm.submit();
}

addOnloadHook(function(){
  if (document.title.indexOf(&quot;Block user&quot;) == -1) return;
addTab('javascript:('+QuickBlock+')(&quot;indefinite&quot;,&quot;Please read our [[WP:U|username policy]] and choose another name&quot;,0,0)','Username','p-block-user');
  addTab('javascript:('+QuickBlock+')(&quot;indefinite&quot;,&quot;vandal account&quot;,0,1)','Vandal acc','p-block-vandalism');
  addTab('javascript:('+QuickBlock+')(&quot;indefinite&quot;,&quot;Similar to existing user or recent meme: please [[Special:Emailuser/Luna Santin|Email me]] if you are a legitimate editor.&quot;,0,1)','sockpuppet','p-block-sock');
  addTab('javascript:('+QuickBlock+')(&quot;31 hours&quot;,&quot;Blocked for 31 hours due to recent vandalism. If this is a shared address, please register an account to avoid collateral damage.&quot;,1,1)','31 hours','p-block-31h');
  addTab('javascript:('+QuickBlock+')(&quot;1 week&quot;,&quot;Blocked for one week due to repeat vandalism. If this is a shared address, please register an account to avoid collateral damage.&quot;,1,1)','Week','p-block-school');
  addTab('javascript:('+QuickBlock+')(&quot;1 month&quot;,&quot;Blocked for one month due to chronic vandalism. If this is a shared address, please register an account to avoid collateral damage.&quot;,1,1)','Month','31-days');
  addTab('javascript:('+QuickBlock+')(&quot;31 hours&quot;,&quot;Blocked for 31 hours due to recent trolling. If this is a shared address, please register an account to avoid collateral damage.&quot;,1,1)','Troll-31','p-block-troll-31');
  addTab('javascript:('+QuickBlock+')(&quot;indefinite&quot;,&quot;Trolling&quot;,0,1)','Troll-indef','p-block-troll-indef');
});
//************
</pre><div class="printfooter">
Retrieved from "<a href="http://en.wikipedia.org../../../b/e/t/User%7EBetacommand_monobook.js_c7ff.html">http://en.wikipedia.org../../../b/e/t/User%7EBetacommand_monobook.js_c7ff.html</a>"</div>
	    	    <!-- end content -->
	    <div class="visualClear"></div>
	  </div>
	</div>
      </div>
      <div id="column-one">
	<div id="p-cactions" class="portlet">
	  <h5>Views</h5>
	  <ul>
	    <li id="ca-nstab-user"
	       class="selected"	       ><a href="../../../b/e/t/User%7EBetacommand_monobook.js_c7ff.html">User page</a></li><li id="ca-talk"
	       class="new"	       ><a href="../../../b/e/t/User_talk%7EBetacommand_monobook.js_8405.html">Discussion</a></li><li id="ca-current"
	       	       ><a href="http://en.wikipedia.org/wiki/User:Betacommand/monobook.js">Current revision</a></li>	  </ul>
	</div>
	<div class="portlet" id="p-logo">
	  <a style="background-image: url(../../../images/wiki-en.png);"
	    href="../../../index.html"
	    title="Main Page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
		<div class='portlet' id='p-navigation'>
	  <h5>Navigation</h5>
	  <div class='pBody'>
	    <ul>
	    	      <li id="n-Main-page"><a href="../../../index.html">Main page</a></li>
	     	      <li id="n-Contents"><a href="../../../c/o/n/Wikipedia%7EContents_3181.html">Contents</a></li>
	     	      <li id="n-Featured-content"><a href="../../../f/e/a/Wikipedia%7EFeatured_content_24ba.html">Featured content</a></li>
	     	      <li id="n-currentevents"><a href="../../../c/u/r/Portal%7ECurrent_events_bb60.html">Current events</a></li>
	     	    </ul>
	  </div>
	</div>
		<div class='portlet' id='p-interaction'>
	  <h5>interaction</h5>
	  <div class='pBody'>
	    <ul>
	    	      <li id="n-About-Wikipedia"><a href="../../../a/b/o/Wikipedia%7EAbout_8d82.html">About Wikipedia</a></li>
	     	      <li id="n-portal"><a href="../../../c/o/m/Wikipedia%7ECommunity_Portal_6a3c.html">Community portal</a></li>
	     	      <li id="n-contact"><a href="../../../c/o/n/Wikipedia%7EContact_us_afd6.html">Contact us</a></li>
	     	      <li id="n-sitesupport"><a href="http://wikimediafoundation.org/wiki/Fundraising">Make a donation</a></li>
	     	      <li id="n-help"><a href="../../../c/o/n/Help%7EContents_22de.html">Help</a></li>
	     	    </ul>
	  </div>
	</div>
		<div id="p-search" class="portlet">
	  <h5><label for="searchInput">Search</label></h5>
	  <div id="searchBody" class="pBody">
	    <form action="javascript:goToStatic(3)" id="searchform"><div>
	      <input id="searchInput" name="search" type="text"
	        accesskey="f" value="" />
	      <input type='submit' name="go" class="searchButton" id="searchGoButton"
	        value="Go" />
	    </div></form>
	  </div>
	</div>
	      </div><!-- end of the left (by default at least) column -->
      <div class="visualClear"></div>
      <div id="footer">
    <div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="../../../skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" /></a></div>	<div id="f-copyrightico"><a href="http://wikimediafoundation.org/"><img src="../../../images/wikimedia-button.png" border="0" alt="Wikimedia Foundation"/></a></div>	<ul id="f-list">
	  	  	  <li id="f-credits">This page was last modified 15:29, 19 March 2007 by Wikipedia user <a href="../../../b/e/t/User%7EBetacommand_e660.html" title="User:Betacommand">Betacommand</a>. Based on work by Wikipedia user(s) <a href="../../../e/a/g/User%7EEagle_101_bfb5.html" title="User:Eagle 101">Eagle 101</a>, <a href="../../../w/i/n/User%7EWinhunter_d2c4.html" title="User:Winhunter">Winhunter</a> and <a href="../../../m/u/s/User%7EMushroom_bc66.html" title="User:Mushroom">Mushroom</a>.</li>	  <li id="f-copyright">All text is available under the terms of the <a class='internal' href="../../../t/e/x/Wikipedia%7EText_of_the_GNU_Free_Documentation_License_702a.html" title="Wikipedia:Text of the GNU Free Documentation License">GNU Free Documentation License</a>. (See <b><a class='internal' href="../../../c/o/p/Wikipedia%7ECopyrights_92c4.html" title="Wikipedia:Copyrights">Copyrights</a></b> for details.) <br /> Wikipedia&reg; is a registered trademark of the <a href="http://www.wikimediafoundation.org">Wikimedia Foundation, Inc</a>., a US-registered <a class='internal' href="../../../5/0/1/501%28c%29.html#501.28c.29.283.29" title="501(c)(3)">501(c)(3)</a> <a href="http://wikimediafoundation.org/wiki/Deductibility_of_donations">tax-deductible</a> <a class='internal' href="../../../n/o/n/Non-profit_organization.html" title="Non-profit organization">nonprofit</a> <a href="../../../c/h/a/Charitable_organization.html" title="Charitable organization">charity</a>.<br /></li>	  <li id="f-about"><a href="../../../a/b/o/Wikipedia%7EAbout_8d82.html" title="Wikipedia:About">About Wikipedia</a></li>	  <li id="f-disclaimer"><a href="../../../g/e/n/Wikipedia%7EGeneral_disclaimer_3e44.html" title="Wikipedia:General disclaimer">Disclaimers</a></li>	  	</ul>
      </div>
    </div>
  </body>
</html>
