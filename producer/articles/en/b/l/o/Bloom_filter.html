<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    		<meta name="keywords" content="Bloom filter,1970,2004,Algorithm,Arithmetic overflow,Array,Associative array,Bernard Chazelle,Bit array,Bitwise operation,Burton H. Bloom" />
		<link rel="shortcut icon" href="/favicon.ico" />
		<link rel="search" type="application/opensearchdescription+xml" href="/w/opensearch_desc.php" title="Wikipedia (English)" />
		<link rel="copyright" href="../../../COPYING.html" />
    <title>Bloom filter - Wikipedia, the free encyclopedia</title>
    <style type="text/css">/*<![CDATA[*/ @import "../../../skins/htmldump/main.css"; /*]]>*/</style>
    <link rel="stylesheet" type="text/css" media="print" href="../../../skins/common/commonPrint.css" />
    <!--[if lt IE 5.5000]><style type="text/css">@import "../../../skins/monobook/IE50Fixes.css";</style><![endif]-->
    <!--[if IE 5.5000]><style type="text/css">@import "../../../skins/monobook/IE55Fixes.css";</style><![endif]-->
    <!--[if IE 6]><style type="text/css">@import "../../../skins/monobook/IE60Fixes.css";</style><![endif]-->
    <!--[if IE]><script type="text/javascript" src="../../../skins/common/IEFixes.js"></script>
    <meta http-equiv="imagetoolbar" content="no" /><![endif]-->
    <script type="text/javascript" src="../../../skins/common/wikibits.js"></script>
    <script type="text/javascript" src="../../../skins/htmldump/md5.js"></script>
    <script type="text/javascript" src="../../../skins/htmldump/utf8.js"></script>
    <script type="text/javascript" src="../../../skins/htmldump/lookup.js"></script>
    <script type="text/javascript" src="../../../raw/gen.js"></script>        <style type="text/css">/*<![CDATA[*/
@import "../../../raw/MediaWiki%7ECommon.css";
@import "../../../raw/MediaWiki%7EMonobook.css";
@import "../../../raw/gen.css";
/*]]>*/</style>          </head>
  <body
    class="ns-0">
    <div id="globalWrapper">
      <div id="column-content">
	<div id="content">
	  <a name="top" id="contentTop"></a>
	        <h1 class="firstHeading">Bloom filter</h1>
	  <div id="bodyContent">
	    <h3 id="siteSub">From Wikipedia, the free encyclopedia</h3>
	    <div id="contentSub"></div>
	    	    	    <!-- start content -->
	    <p>The <b>Bloom filter</b>, conceived by <a href="../../../b/u/r/Burton_H._Bloom_b1a5.html" title="Burton H. Bloom">Burton H. Bloom</a> in <a href="../../../1/9/7/1970.html" title="1970">1970</a>, is a space-efficient <a href="../../../p/r/o/Probabilistic.html" title="Probabilistic">probabilistic</a> <a href="../../../d/a/t/Data_structure.html" title="Data structure">data structure</a> that is used to test whether an <a href="../../../e/l/e/Element_%28mathematics%29.html" title="Element (mathematics)">element</a> is a member of a <a href="../../../s/e/t/Set_%28computer_science%29.html" title="Set (computer science)">set</a>. <a href="../../../t/y/p/Type_I_and_type_II_errors_c67e.html" title="Type I and type II errors">False positives</a> are possible, but <a href="../../../t/y/p/Type_I_and_type_II_errors_c67e.html" title="Type I and type II errors">false negatives</a> are not. Elements can be added to the set, but not removed (though this can be addressed with a counting filter). The more elements that are added to the set, the larger the probability of false positives.</p>
<p>For example, one might use a Bloom filter to do <a href="../../../s/p/e/Spell-checking.html" title="Spell-checking">spell-checking</a> in a space-efficient way. A Bloom filter to which a dictionary of correct words have been added will accept all words in the dictionary and reject almost all words which are not, which is good enough in some cases. Depending on the false positive rate, the resulting data structure can require as little as a byte per dictionary word.</p>
<p>One peculiar attribute of this spell-checker is that it is not possible to extract the list of correct words from it – at best, one can extract a list containing the correct words plus a significant number of false positives. This limitation can be considered a feature, when you want to check for a set of items without disclosing those items; for example in a security application which scans your disk for <a href="../../../s/o/c/Social_Security_number_6651.html" title="Social Security number">Social Security numbers</a>; or in a program to scrub opted-out email addresses from the lists of mass mailers, where you do not want to make known any of the opted-out addresses to the companies using your list. This is not a completely secure solution, however, as it may be possible to separate the false positives from the real data by some other means.</p>
<table id="toc" class="toc" summary="Contents">
<tr>
<td>
<div id="toctitle">
<h2>Contents</h2>
</div>
<ul>
<li class="toclevel-1"><a href="#Algorithm_description"><span class="tocnumber">1</span> <span class="toctext">Algorithm description</span></a></li>
<li class="toclevel-1"><a href="#Space_and_time_advantages"><span class="tocnumber">2</span> <span class="toctext">Space and time advantages</span></a></li>
<li class="toclevel-1"><a href="#Probability_of_false_positives"><span class="tocnumber">3</span> <span class="toctext">Probability of false positives</span></a></li>
<li class="toclevel-1"><a href="#Interesting_properties"><span class="tocnumber">4</span> <span class="toctext">Interesting properties</span></a></li>
<li class="toclevel-1"><a href="#Counting_filters"><span class="tocnumber">5</span> <span class="toctext">Counting filters</span></a></li>
<li class="toclevel-1"><a href="#Bloomier_filters"><span class="tocnumber">6</span> <span class="toctext">Bloomier filters</span></a></li>
<li class="toclevel-1"><a href="#Compact_approximators"><span class="tocnumber">7</span> <span class="toctext">Compact approximators</span></a></li>
<li class="toclevel-1"><a href="#Generalized_Bloom_Filters"><span class="tocnumber">8</span> <span class="toctext">Generalized Bloom Filters</span></a></li>
<li class="toclevel-1"><a href="#External_links"><span class="tocnumber">9</span> <span class="toctext">External links</span></a></li>
</ul>
</td>
</tr>
</table>
<script type="text/javascript">
//<![CDATA[
 if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } 
//]]>
</script>
<p><a name="Algorithm_description" id="Algorithm_description"></a></p>
<h2><span class="editsection">[<a href="../../../b/l/o/Bloom_filter.html" title="Edit section: Algorithm description">edit</a>]</span> <span class="mw-headline">Algorithm description</span></h2>
<p>An <b>empty Bloom filter</b> is a <a href="../../../b/i/t/Bit_array.html" title="Bit array">bit array</a> of <i>m</i> bits, all set to 0. There must also be <i>k</i> different <a href="../../../h/a/s/Hash_function.html" title="Hash function">hash functions</a> defined, each of which <a href="../../../m/a/p/Map_%28mathematics%29.html" title="Map (mathematics)">maps</a> a key value to one of the <i>m</i> array positions.</p>
<p>For a good <a href="../../../h/a/s/Hash_function.html" title="Hash function">hash function</a> with a wide output, there should be little if any correlation between different bit-fields of such a hash, so this type of hash can be used to generate multiple "different" hash functions by slicing its output into multiple bit fields. Alternatively, one can pass <i>k</i> different initial values (such as 0, 1, ..., <i>k</i>-1) to a hash function that takes an initial value; or add (or append) these values to the key.</p>
<div style="line-height: 1em;" align="justify">
<p>For m sufficiently large the condition of total independance of hash functions can be relaxed with negligible increase in false positive rate. as demonstrated by Kirsch and Mitzenmacher <a href="http://www.eecs.harvard.edu/~kirsch/pubs/bbbf/esa06.pdf" class="external autonumber" title="http://www.eecs.harvard.edu/~kirsch/pubs/bbbf/esa06.pdf" rel="nofollow">[1]</a> it is possible to compute only 2 independant hash functions and combine them using double hashing to obtain the k hash functions&#160;: supposing m is a prime then the k hash functions can be deduced from two independant hash functions <span class="texhtml"><i>f</i><sub>1</sub></span> and <span class="texhtml"><i>f</i><sub>2</sub></span> using the following formula:</p>
<p><img class='tex' src="../../../math/b/2/7/b27461731a29e9ff44c86c06f686a843.png" alt="h_i(x)=(f_1(x)+ i f_2(x)) \mod m" /></p>
</div>
<p>To <b>add</b> an element, feed it to each of the <i>k</i> hash functions to get <i>k</i> array positions. Set the bits at all these positions to 1.</p>
<p>To <b>query</b> for an element (test whether it is in the set), feed it to each of the <i>k</i> hash functions to get <i>k</i> array positions. If any of the bits at these positions are 0, the element is not in the set – if it were, then all the bits would have been set to 1 when it was inserted. If all are 1, then either the element is in the set, or the bits have been set to 1 during the insertion of other elements.</p>
<p>Unfortunately, removing an element from this simple Bloom filter is impossible. The element maps to <i>k</i> bits, and although setting any one of these <i>k</i> bits to zero suffices to remove it, this has the side effect of removing any other elements that map onto that bit, and we have no way of determining whether any such elements have been added. The result is a possibility of false negatives, which are not allowed.</p>
<p>However, it is often the case that all the keys are available but are expensive to enumerate (for example, requiring many disk reads). When the false positive rate gets too high, the filter can be regenerated; this should be a relatively rare event.</p>
<p><a name="Space_and_time_advantages" id="Space_and_time_advantages"></a></p>
<h2><span class="editsection">[<a href="../../../b/l/o/Bloom_filter.html" title="Edit section: Space and time advantages">edit</a>]</span> <span class="mw-headline">Space and time advantages</span></h2>
<p>While risking false positives, Bloom filters have a strong space advantage over other data structures for representing sets such as <a href="../../../s/e/l/Self-balancing_binary_search_tree.html" title="Self-balancing binary search tree">self-balancing binary search trees</a>, <a href="../../../t/r/i/Trie.html" title="Trie">tries</a>, <a href="../../../h/a/s/Hash_table.html" title="Hash table">hash tables</a>, or simple <a href="../../../a/r/r/Array.html" title="Array">arrays</a> or <a href="../../../l/i/n/Linked_list.html" title="Linked list">linked lists</a> of the entries. Most of these require storing at least the data items themselves, which can require anywhere from a small number of bits, for small integers, to an arbitrary number of bits, such as for strings (tries are an exception, since they can share storage between elements with equal prefixes). Linked structures incur an additional linear space overhead for pointers. A Bloom filter with 1% error and an optimal value of <i>k</i>, on the other hand, requires only about 9.6 bits per element — regardless of the size of the elements! This advantage comes partly from its compactness, inherited from <a href="../../../a/r/r/Array.html" title="Array">arrays</a>, and partly from its probabilistic nature. If a 1% false positive rate seems too high, each time we add about 4.8 bits per element we decrease it by ten times.</p>
<p>However, if the number of potential values is small and many of them can be in the set, then the Bloom filter is easily surpassed by the deterministic <a href="../../../b/i/t/Bit_array.html" title="Bit array">bit array</a>, which requires only one bit for each potential element. Note also that hash tables gain a space and time advantage if they begin ignoring collisions and only store whether each bucket contains an entry; in this case, they have effectively become Bloom filters with <i>k</i> = 1.</p>
<p>Bloom filters also have the unusual property that the time needed to either add items or to check whether an item is in the set is a fixed constant, O(<i>k</i>), completely independent of the number of items already in the set. No other constant-space set data structure has this property, but the average access time of sparse <a href="../../../h/a/s/Hash_table.html" title="Hash table">hash tables</a> can make them faster in practice than some Bloom filters. In a hardware implementation, however, the Bloom filter shines because its <i>k</i> lookups are independent and can be parallelized.</p>
<p>To understand its space efficiency, it is instructive to compare the general Bloom filter with its special case when <i>k</i> = 1. If <i>k</i> = 1, then in order to keep the false positive rate sufficiently low, a small fraction of bits should be set, which means the array must be very large and contain long runs of zeros. The <a href="../../../i/n/f/Information_content.html" title="Information content">information content</a> of the array relative to its size is low. The generalized Bloom filter (<i>k</i> greater than 1) allows many more bits to be set while still maintaining a low false positive rate; if the parameters (<i>k</i> and <i>m</i>) are chosen well, about half of the bits will be set, and these will be apparently random, minimizing redundancy and maximizing information content.</p>
<p><a name="Probability_of_false_positives" id="Probability_of_false_positives"></a></p>
<h2><span class="editsection">[<a href="../../../b/l/o/Bloom_filter.html" title="Edit section: Probability of false positives">edit</a>]</span> <span class="mw-headline">Probability of false positives</span></h2>
<p>Assume that a <a href="../../../h/a/s/Hash_function.html" title="Hash function">hash function</a> selects each array position with equal probability. The probability that a certain bit is not set to one by a certain hash function during the insertion of an element is then</p>
<dl>
<dd><img class='tex' src="../../../math/0/4/8/048315655018f24818a7211ac892277b.png" alt="1-\frac{1}{m}" />.</dd>
</dl>
<p>The probability that it is not set by any of the hash functions is</p>
<dl>
<dd><img class='tex' src="../../../math/e/5/4/e5461a99738dd5831c54d5bbfd8e1678.png" alt="\left(1-\frac{1}{m}\right)^k" />.</dd>
</dl>
<p>If we have inserted <i>n</i> elements, the probability that a certain bit is still 0 is</p>
<dl>
<dd><img class='tex' src="../../../math/e/4/e/e4e7c59360339030e9a4b2861d6d1d07.png" alt="\left(1-\frac{1}{m}\right)^{kn}" />;</dd>
</dl>
<p>the probability that it is 1 is therefore</p>
<dl>
<dd><img class='tex' src="../../../math/c/d/6/cd6cbd8d7f79a6cabba30e2c0187a094.png" alt="1-\left(1-\frac{1}{m}\right)^{kn}" />.</dd>
</dl>
<p>Now test membership of an element that is not in the set. Each of the <i>k</i> array positions computed by the hash functions is 1 with a probability as above. The probability of all of them being 1, which would cause the <a href="../../../a/l/g/Algorithm.html" title="Algorithm">algorithm</a> to erroneously claim that the element is in the set, is then</p>
<dl>
<dd><img class='tex' src="../../../math/b/b/f/bbf7bdf6677d0ea16d9900d512a233cb.png" alt="\left(1-\left(1-\frac{1}{m}\right)^{kn}\right)^k \approx \left(1-e^{-kn/m}\right)^k" />.</dd>
</dl>
<p>Obviously, the probability of false positives decreases as <i>m</i> (the number of bits in the array) increases, and increases as <i>n</i> (the number of inserted elements) increases. For a given <i>m</i> and <i>n</i>, the value of <i>k</i> (the number of hash functions) that minimizes the probability is</p>
<dl>
<dd><img class='tex' src="../../../math/b/c/a/bcadba173c536f2348078276aafa1048.png" alt="\frac{m}{n}\ln 2 \approx \frac{9m}{13n} \approx 0.7\frac{m}{n}" />,</dd>
</dl>
<p>which gives the false positive probability of</p>
<dl>
<dd><img class='tex' src="../../../math/4/e/8/4e8d5a5525d5738c8dbcfb185f3734c5.png" alt="\left(\frac{1}{2}\right)^{k} \approx {0.6185}^{m/n}" />.</dd>
</dl>
<p><a name="Interesting_properties" id="Interesting_properties"></a></p>
<h2><span class="editsection">[<a href="../../../b/l/o/Bloom_filter.html" title="Edit section: Interesting properties">edit</a>]</span> <span class="mw-headline">Interesting properties</span></h2>
<ul>
<li>Unlike sets based on <a href="../../../h/a/s/Hash_table.html" title="Hash table">hash tables</a>, any Bloom filter can represent the entire <a href="../../../u/n/i/Universe_%28mathematics%29.html" title="Universe (mathematics)">universe</a> of elements. In this case, all bits are 1. Another consequence of this property is that <b>add</b> never fails due to the data structure "filling up," although the false positive rate increases steadily as elements are added.</li>
</ul>
<ul>
<li><a href="../../../u/n/i/Union_%28set_theory%29.html" title="Union (set theory)">Union</a> and <a href="../../../i/n/t/Intersection_%28set_theory%29.html" title="Intersection (set theory)">intersection</a> of Bloom filters with the same size and set of hash functions can be implemented with <a href="../../../b/i/t/Bitwise_operation.html" title="Bitwise operation">bitwise</a> OR and AND operations, respectively.</li>
</ul>
<p><a name="Counting_filters" id="Counting_filters"></a></p>
<h2><span class="editsection">[<a href="../../../b/l/o/Bloom_filter.html" title="Edit section: Counting filters">edit</a>]</span> <span class="mw-headline">Counting filters</span></h2>
<p>Counting filters provide a way to implement a <i>delete</i> operation on a Bloom filter without recreating the filter afresh. In a counting filter the array positions (buckets) are extended from being a single bit, to being an n-bit counter. In fact, regular Bloom filters can be considered as counting filters with a bucket size of one bit. Counting filters were introduced in <i>L. Fan, P. Cao, J. Almeida, and A. Broder. Summary cache: A scalable wide-area Web cache sharing protocol. In Proceeding of SIGCOMM ’98, 1998</i>.</p>
<p>The insert operation is extended to <i>increment</i> the value of the buckets and the lookup operation checks that each of the required buckets is non-zero. The delete operation, obviously, then consists of decrementing the value of each of the respective buckets.</p>
<p><a href="../../../a/r/i/Arithmetic_overflow.html" title="Arithmetic overflow">Arithmetic overflow</a> of the buckets is a problem and the buckets should be sufficiently large to make this case rare. If it does occur then the increment and decrement operations must leave the bucket set to the maximum possible value in order to retain the properties of a Bloom filter.</p>
<p>F. Bonomi, M. Mitzenmacher, R. Panigrahy, S. Singhand and G. Varghese <a href="http://www.eecs.harvard.edu/~michaelm/postscripts/esa2006b.pdf" class="external autonumber" title="http://www.eecs.harvard.edu/~michaelm/postscripts/esa2006b.pdf" rel="nofollow">[2]</a> introduced a Data structure based on d-left hashing that is functionally equivalent but uses approximately half as much space as counting bloom filters.</p>
<p><a name="Bloomier_filters" id="Bloomier_filters"></a></p>
<h2><span class="editsection">[<a href="../../../b/l/o/Bloom_filter.html" title="Edit section: Bloomier filters">edit</a>]</span> <span class="mw-headline">Bloomier filters</span></h2>
<p>In <a href="../../../2/0/0/2004.html" title="2004">2004</a>, <a href="../../../b/e/r/Bernard_Chazelle_0dec.html" title="Bernard Chazelle">Bernard Chazelle</a>, Joe Kilian, Ronitt Rubinfeld, and Ayellet Tal designed a generalization of Bloom filters that could associate a value with each element that had been inserted, implementing an <a href="../../../a/s/s/Associative_array.html" title="Associative array">associative array</a>. Like Bloom filters, these structures achieve a small space overhead by accepting a small probability of false positives. In the case of "Bloomier filters", a <i>false positive</i> is defined as returning a result when the key is not in the map. The map will never return the wrong value for a key that <i>is</i> in the map.</p>
<p>The simplest Bloomier filter is near-optimal and fairly simple to describe. Suppose initially that the only possible values are 0 and 1. We create a pair of Bloom filters <i>A</i><sub>0</sub> and <i>B</i><sub>0</sub> which contain, respectively, all values mapping to 0 and all values mapping to 1. Then, to determine which value a given key maps to, we look it up in both filters. If it is in neither, then the key is not in the map. If the key is in <i>A</i><sub>0</sub> but not <i>B</i><sub>0</sub>, then it does not map to 1, and has a high probability of mapping to 0. Conversely, if the key is in <i>B</i><sub>0</sub> but not <i>A</i><sub>0</sub>, then it does not map to 0 and has a high probability of mapping to 1.</p>
<p>A problem arises, however, when <i>both</i> filters claim to contain the item. We never insert an item into both, so one or both of the filters is lying (producing a false positive), but we don't know which. To determine this, we have another, smaller pair of filters <i>A</i><sub>1</sub> and <i>B</i><sub>1</sub>. <i>A</i><sub>1</sub> contains values that map to 0 and which are false positives in <i>B</i><sub>0</sub>; <i>B</i><sub>1</sub> contains values that map to 1 and which are false positives in <i>A</i><sub>0</sub>. But whenever <i>A</i><sub>0</sub> and <i>B</i><sub>0</sub> both produce positives, at most one of these cases must occur, and so we simply have to determine which if any of the two filters <i>A</i><sub>1</sub> and <i>B</i><sub>1</sub> contains the key, another instance of our original problem.</p>
<p>It may so happen again that both filters produce a positive; we apply the same idea recursively to solve this problem. Because each pair of filters only contains keys that are in the map <i>and</i> produced false positives on all previous filter pairs, the number of keys is extremely likely to quickly drop to a very small quantity that can be easily stored in an ordinary deterministic map, such as a pair of small arrays with linear search. Moreover, the average total search time is a constant, because almost all queries will be resolved by the first pair, almost all remaining queries by the second pair, and so on. The total space required is independent of <i>n</i>, and is almost entirely occupied by the first filter pair.</p>
<p>Now that we have the structure and a search algorithm, we also need to know how to insert new key/value pairs. The program must not attempt to insert the same key with both values. If the value is 0, insert the key into <i>A</i><sub>0</sub> and then test if the key is in <i>B</i><sub>0</sub>. If so, this is a false positive for <i>B</i><sub>0</sub>, and the key must also be inserted into <i>A</i><sub>1</sub> recursively in the same manner. If we reach the last level, we simply insert it. When the value is 1, the operation is similar but with <i>A</i> and <i>B</i> reversed.</p>
<p>Now that we can map a key to the value 0 or 1, how does this help us map to general values? This is simple. We create a single such Bloomier filter for each bit of the result. If the values are large, we can instead map keys to hash values that can be used to retrieve the actual values. The space required for a Bloomier filter with <i>n</i>-bit values is typically slightly more than the space for 2<i>n</i> Bloom filters.</p>
<p><a name="Compact_approximators" id="Compact_approximators"></a></p>
<h2><span class="editsection">[<a href="../../../b/l/o/Bloom_filter.html" title="Edit section: Compact approximators">edit</a>]</span> <span class="mw-headline">Compact approximators</span></h2>
<p>In <a href="../../../2/0/0/2004.html" title="2004">2004</a>, Paolo Boldi and Sebastiano Vigna proposed a <a href="../../../l/a/t/Lattice.html" title="Lattice">lattice</a>-based generalization of Bloom filters. A <b>compact approximator</b> associates to each key an element of a lattice (the standard Bloom filters being the case of the Boolean two-element lattice). Instead of a bit array, we have an array of lattice elements. When adding a new association between a key and an element of the lattice, we maximize the current content of the <var>k</var> array locations associated to the key with the lattice element. When reading the value associated to a key, we minimize the values found in the <var>k</var> locations associated to the key. The resulting value approximates from above the original value.</p>
<p><a name="Generalized_Bloom_Filters" id="Generalized_Bloom_Filters"></a></p>
<h2><span class="editsection">[<a href="../../../b/l/o/Bloom_filter.html" title="Edit section: Generalized Bloom Filters">edit</a>]</span> <span class="mw-headline">Generalized Bloom Filters</span></h2>
<div style="line-height: 1.4em;" align="justify">
<p>As the standard filter, the Generalized Bloom Filter (GBF) is also a data structure used to represent a set <img class='tex' src="../../../math/5/2/a/52ae3eed8b00d73beb245fd7978c8fc3.png" alt="S=\{s_1,s_2,\ldots,s_n\}" /> of <span class="texhtml"><i>n</i></span> elements in a compact form. It is constituted by an array of <span class="texhtml"><i>m</i></span> bits and by <span class="texhtml"><i>k</i><sub>0</sub> + <i>k</i><sub>1</sub></span> independent hash functions <img class='tex' src="../../../math/7/3/d/73df2e6d71402282a9ec23b8d9cfd47b.png" alt="g_1,g_2,\ldots,g_{k_0},h_1,h_2,\ldots,h_{k_1}" /> whose outputs are uniformly distributed over the discrete range <img class='tex' src="../../../math/0/d/2/0d2051d3666408a51b4d0e0b954dc18b.png" alt="\{0,1,\ldots,m-1\}" />. The GBF is built in a similar way to the standard filter. Nevertheless, the initial value of the bits of the array is not restricted to zero anymore. In the GBF, these bits can be initialized to any value. For each element <img class='tex' src="../../../math/b/9/4/b946b67d79c13098f50356d3c6be5965.png" alt="s_i \in S" />, the bits corresponding to the positions <img class='tex' src="../../../math/e/1/8/e18ca04e618d0cb77b7f680ea9d1ee5c.png" alt="g_1(s_i),g_2(s_i),\ldots,g_{k_0}(s_i)" /> are reset and the bits corresponding to the positions <img class='tex' src="../../../math/f/6/6/f66738b2a2366c89a08da8c0a8f322bc.png" alt="h_1(s_i),h_2(s_i),\ldots,h_{k_1}(s_i)" /> are set. In the case of a collision between a function <span class="texhtml"><i>g</i><sub><i>i</i></sub></span> and a function <span class="texhtml"><i>h</i><sub><i>j</i></sub></span> for the same element, we arbitrate that the resulting bit in the filter is always reset. The same bit can be set or reset several times without restrictions. Fig. 1 depicts how an element is inserted into a Generalized Bloom Filter (GBF). After inserting the elements, membership queries can be easily conducted. To check if an element <span class="texhtml"><i>x</i></span> belongs to <span class="texhtml"><i>S</i></span>, we check if the bits of the array corresponding to the positions <img class='tex' src="../../../math/e/9/a/e9adfb178609521af577737b07f54616.png" alt="g_1(x),g_2(x),\ldots,g_{k_0}(x)" /> are all reset and if the bits <img class='tex' src="../../../math/d/b/f/dbf8610c19b84269a736d1eed975b6e0.png" alt="h_1(x),h_2(x),\ldots,h_{k_1}(x)" /> are all set. If at least one bit is inverted, then <img class='tex' src="../../../math/1/7/6/176de20eaddc5b3575bfc60fc7477fdb.png" alt="x \not\in S" /> with high probability. In the GBF, it is possible that an element <img class='tex' src="../../../math/a/d/9/ad92626fcd8accdf2864b83d1e37ee64.png" alt="x \in S" /> may not be recognized as an element of the set, creating a false negative. Such anomaly happens when at least one of the bits <img class='tex' src="../../../math/e/9/a/e9adfb178609521af577737b07f54616.png" alt="g_1(x),g_2(x),\ldots,g_{k_0}(x)" /> is set or one of the bits <img class='tex' src="../../../math/d/b/f/dbf8610c19b84269a736d1eed975b6e0.png" alt="h_1(x),h_2(x),\ldots,h_{k_1}(x)" /> is reset by another element inserted afterwards. On the other hand, if no bit is inverted, then <img class='tex' src="../../../math/a/d/9/ad92626fcd8accdf2864b83d1e37ee64.png" alt="x \in S" /> also with high probability. In fact, an element <img class='tex' src="../../../math/1/7/6/176de20eaddc5b3575bfc60fc7477fdb.png" alt="x \not\in S" /> may be recognized as an element of the set, creating a false positive. A false positive occurs when the bits <img class='tex' src="../../../math/e/9/a/e9adfb178609521af577737b07f54616.png" alt="g_1(x),g_2(x),\ldots,g_{k_0}(x)" /> are all reset and the bits <img class='tex' src="../../../math/d/b/f/dbf8610c19b84269a736d1eed975b6e0.png" alt="h_1(x),h_2(x),\ldots,h_{k_1}(x)" /> are all set due to other inserted elements or due to the initial condition of the bit array.</p>
<p><br /></p>
<center><a href="../../../g/b/f/Image%7EGbf.gif_6b59.html" class="image" title="Image:Gbf.gif"><img src="../../../upload/f/f1/Gbf.gif" alt="Image:Gbf.gif" width="525" height="350" longdesc="../../../g/b/f/Image%7EGbf.gif_6b59.html" /></a><br />
<i>Fig. 1 - Insertion of an element into a Generalized Bloom Filter.</i></center>
<p><br />
The main advantage of the Generalized Bloom Filter is that both the false-positive and the false-negative ratios are upper bounded. In addition, these upper bounds depend only on the chosen parameters of the filter and not on its initial condition. As a result, it can be used in distributed applications that require a secure and space-efficient set representation. See <a href="http://www.cs.ucla.edu/~rlaufer/publications/gbf.pdf" class="external autonumber" title="http://www.cs.ucla.edu/~rlaufer/publications/gbf.pdf" rel="nofollow">[3]</a> and <a href="http://www.cs.ucla.edu/~rlaufer/gbf" class="external autonumber" title="http://www.cs.ucla.edu/~rlaufer/gbf" rel="nofollow">[4]</a> for details.</p>
</div>
<p><a name="External_links" id="External_links"></a></p>
<h2><span class="editsection">[<a href="../../../b/l/o/Bloom_filter.html" title="Edit section: External links">edit</a>]</span> <span class="mw-headline">External links</span></h2>
<ul>
<li><a href="http://www.globalvelocity.com/" class="external text" title="http://www.globalvelocity.com/" rel="nofollow">Next Generation Content Filtering with Bloom Filters within Programmable Hardware</a></li>
<li><a href="http://www.partow.net/programming/hashfunctions/index.html" class="external text" title="http://www.partow.net/programming/hashfunctions/index.html" rel="nofollow">C++ and Object Pascal Bloom Filter Implementation</a></li>
<li><a href="http://portal.acm.org/citation.cfm?id=362692&amp;dl=ACM&amp;coll=portal" class="external text" title="http://portal.acm.org/citation.cfm?id=362692&amp;dl=ACM&amp;coll=portal" rel="nofollow">Original paper</a></li>
<li><a href="http://www.eecs.harvard.edu/~kirsch/pubs/bbbf/esa06.pdf" class="external text" title="http://www.eecs.harvard.edu/~kirsch/pubs/bbbf/esa06.pdf" rel="nofollow">Less Hashing, Same Performance: Building a Better Bloom Filter</a></li>
<li><a href="http://www.cs.wisc.edu/~cao/papers/summary-cache/node8.html" class="external text" title="http://www.cs.wisc.edu/~cao/papers/summary-cache/node8.html" rel="nofollow">Table of false-positive rates for different configurations</a></li>
<li><a href="http://www.cc.gatech.edu/fac/Pete.Manolios/bloom-filters/calculator.html" class="external text" title="http://www.cc.gatech.edu/fac/Pete.Manolios/bloom-filters/calculator.html" rel="nofollow">Online Bloom filter calculator</a></li>
<li><a href="http://www.imperialviolet.org/pybloom.html" class="external text" title="http://www.imperialviolet.org/pybloom.html" rel="nofollow">Bloom filters in Python</a></li>
<li><a href="http://search.cpan.org/author/MCEGLOWS/Bloom-Filter" class="external text" title="http://search.cpan.org/author/MCEGLOWS/Bloom-Filter" rel="nofollow">Bloom filters in Perl</a></li>
<li><a href="http://www.eecs.harvard.edu/~michaelm/NEWWORK/postscripts/BloomFilterSurvey.pdf" class="external text" title="http://www.eecs.harvard.edu/~michaelm/NEWWORK/postscripts/BloomFilterSurvey.pdf" rel="nofollow">Network Applications of Bloom Filters: A Survey. A. Broder and M. Mitzenmacher. Allerton Conference 2002.</a></li>
<li><a href="http://www.acm.org/sigmod/sigmod03/eproceedings/" class="external text" title="http://www.acm.org/sigmod/sigmod03/eproceedings/" rel="nofollow">Spectral Bloom Filters. S. Cohen and Y. Matias. SIGMOD 2003.</a></li>
<li><a href="http://www.ee.technion.ac.il/~ayellet/Ps/nelson.pdf" class="external text" title="http://www.ee.technion.ac.il/~ayellet/Ps/nelson.pdf" rel="nofollow">The Bloomier Filter: An Efficient Data Structure for Static Support Lookup Tables. B. Chazelle, J. Kilian, R. Rubinfeld, and A. Tal. SODA 2004.</a></li>
<li><a href="http://www.it-c.dk/people/pagh/papers/bloom.pdf" class="external text" title="http://www.it-c.dk/people/pagh/papers/bloom.pdf" rel="nofollow">An Optimal Bloom Filter Replacement; In Proc. ACM-SIAM Symposium on Discrete Algorithms, SODA 2005</a></li>
<li><a href="http://dx.doi.org/10.1016/j.scico.2004.05.003" class="external text" title="http://dx.doi.org/10.1016/j.scico.2004.05.003" rel="nofollow">Mutable strings in Java: Design, implementation and lightweight text-search algorithms; In <i>Sci. Comput. Programming</i>, 54(1):3–23, 2005.</a></li>
<li><a href="http://www.cs.wisc.edu/~cao/papers/summarycache.html" class="external text" title="http://www.cs.wisc.edu/~cao/papers/summarycache.html" rel="nofollow">Summary Cache: A Scalable Wide-Area Web Cache Sharing Protocol</a></li>
<li><a href="http://www.cs.utexas.edu/users/simha/publications/Load-Store-Queue.pdf" class="external text" title="http://www.cs.utexas.edu/users/simha/publications/Load-Store-Queue.pdf" rel="nofollow">Bloom filters in the microprocessor, Micro 2004</a></li>
<li><a href="http://www.arl.wustl.edu/~sarang/Deep_Packet_Inspection_using_Parallel_Bloom_Filters.pdf" class="external text" title="http://www.arl.wustl.edu/~sarang/Deep_Packet_Inspection_using_Parallel_Bloom_Filters.pdf" rel="nofollow">Packet scanning using Bloom filters</a></li>
<li><a href="http://adetti.iscte.pt/events/CONEXT06/Conext06_Proceedings/papers/f65.pdf" class="external text" title="http://adetti.iscte.pt/events/CONEXT06/Conext06_Proceedings/papers/f65.pdf" rel="nofollow">Retouched Bloom Filters: Allowing Networked Applications to Flexibly Trade Off False Positives Against False Negatives. Donnet et al. CoNEXT 2006.</a></li>
<li>Generalized Bloom Filters <a href="http://www.cs.ucla.edu/~rlaufer/publications/gbf.pdf" class="external text" title="http://www.cs.ucla.edu/~rlaufer/publications/gbf.pdf" rel="nofollow">Paper</a> <a href="http://www.cs.ucla.edu/~rlaufer/gbf" class="external text" title="http://www.cs.ucla.edu/~rlaufer/gbf" rel="nofollow">Webpage</a></li>
<li><a href="http://luca.ntop.org/Blooms.pdf" class="external text" title="http://luca.ntop.org/Blooms.pdf" rel="nofollow">High-Speed Dynamic Packet Filtering using Bloom filters in the Linux Kernel. GPL2-licensed paper.</a></li>
</ul>

<div class="printfooter">
Retrieved from "<a href="http://en.wikipedia.org../../../b/l/o/Bloom_filter.html">http://en.wikipedia.org../../../b/l/o/Bloom_filter.html</a>"</div>
	    <div id="catlinks"><p class='catlinks'><a href="../../../c/a/t/Special%7ECategories_101d.html" title="Special:Categories">Category</a>: <span dir='ltr'><a href="../../../d/a/t/Category%7EData_structures_6946.html" title="Category:Data structures">Data structures</a></span></p></div>	    <!-- end content -->
	    <div class="visualClear"></div>
	  </div>
	</div>
      </div>
      <div id="column-one">
	<div id="p-cactions" class="portlet">
	  <h5>Views</h5>
	  <ul>
	    <li id="ca-nstab-main"
	       class="selected"	       ><a href="../../../b/l/o/Bloom_filter.html">Article</a></li><li id="ca-talk"
	       	       ><a href="../../../b/l/o/Talk%7EBloom_filter_5868.html">Discussion</a></li><li id="ca-current"
	       	       ><a href="http://en.wikipedia.org/wiki/Bloom_filter">Current revision</a></li>	  </ul>
	</div>
	<div class="portlet" id="p-logo">
	  <a style="background-image: url(../../../images/wiki-en.png);"
	    href="../../../index.html"
	    title="Main Page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
		<div class='portlet' id='p-navigation'>
	  <h5>Navigation</h5>
	  <div class='pBody'>
	    <ul>
	    	      <li id="n-Main-page"><a href="../../../index.html">Main page</a></li>
	     	      <li id="n-Contents"><a href="../../../c/o/n/Wikipedia%7EContents_3181.html">Contents</a></li>
	     	      <li id="n-Featured-content"><a href="../../../f/e/a/Wikipedia%7EFeatured_content_24ba.html">Featured content</a></li>
	     	      <li id="n-currentevents"><a href="../../../c/u/r/Portal%7ECurrent_events_bb60.html">Current events</a></li>
	     	    </ul>
	  </div>
	</div>
		<div class='portlet' id='p-interaction'>
	  <h5>interaction</h5>
	  <div class='pBody'>
	    <ul>
	    	      <li id="n-About-Wikipedia"><a href="../../../a/b/o/Wikipedia%7EAbout_8d82.html">About Wikipedia</a></li>
	     	      <li id="n-portal"><a href="../../../c/o/m/Wikipedia%7ECommunity_Portal_6a3c.html">Community portal</a></li>
	     	      <li id="n-contact"><a href="../../../c/o/n/Wikipedia%7EContact_us_afd6.html">Contact us</a></li>
	     	      <li id="n-sitesupport"><a href="http://wikimediafoundation.org/wiki/Fundraising">Make a donation</a></li>
	     	      <li id="n-help"><a href="../../../c/o/n/Help%7EContents_22de.html">Help</a></li>
	     	    </ul>
	  </div>
	</div>
		<div id="p-search" class="portlet">
	  <h5><label for="searchInput">Search</label></h5>
	  <div id="searchBody" class="pBody">
	    <form action="javascript:goToStatic(3)" id="searchform"><div>
	      <input id="searchInput" name="search" type="text"
	        accesskey="f" value="" />
	      <input type='submit' name="go" class="searchButton" id="searchGoButton"
	        value="Go" />
	    </div></form>
	  </div>
	</div>
	<div id="p-lang" class="portlet">
	  <h5>In other languages</h5>
	  <div class="pBody">
	    <ul>
	      	      <li>
	      <a href="../../../../de/b/l/o/Bloomfilter.html">Deutsch</a>
	      </li>
	      	      <li>
	      <a href="../../../../ko/%EB%B8%94/%EB%A3%B8/_/%EB%B8%94%EB%A3%B8_%ED%95%84%ED%84%B0.html">한국어</a>
	      </li>
	      	      <li>
	      <a href="../../../../he/%D7%A4/%D7%99/%D7%9C/%D7%A4%D7%99%D7%9C%D7%98%D7%A8_%D7%91%D7%9C%D7%95%D7%9D.html">עברית</a>
	      </li>
	      	      <li>
	      <a href="../../../../ja/%E3%83%96/%E3%83%AB/%E3%83%BC/%E3%83%96%E3%83%AB%E3%83%BC%E3%83%A0%E3%83%95%E3%82%A3%E3%83%AB%E3%82%BF.html">日本語</a>
	      </li>
	      	    </ul>
	  </div>
	</div>
	      </div><!-- end of the left (by default at least) column -->
      <div class="visualClear"></div>
      <div id="footer">
    <div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="../../../skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" /></a></div>	<div id="f-copyrightico"><a href="http://wikimediafoundation.org/"><img src="../../../images/wikimedia-button.png" border="0" alt="Wikimedia Foundation"/></a></div>	<ul id="f-list">
	  	  	  <li id="f-credits">This page was last modified 08:59, 8 April 2007 by Wikipedia user <a href="../../../w/i/r/User%7EWirthi_a96d.html" title="User:Wirthi">Wirthi</a>. Based on work by Wikipedia user(s) Emorrissey, <a href="../../../q/u/u/User%7EQuuxplusone_9b50.html" title="User:Quuxplusone">Quuxplusone</a>, Galaad2, <a href="../../../b/r/i/User%7EBrighterorange_f618.html" title="User:Brighterorange">Brighterorange</a>, <a href="../../../r/z/r/User%7ERzR_64e6.html" title="User:RzR">RzR</a>, <a href="../../../r/l/a/User%7ERlaufer_ee12.html" title="User:Rlaufer">Rlaufer</a>, Bramp, <a href="../../../s/t/b/User%7ESTBot_bbca.html" title="User:STBot">STBot</a>, <a href="../../../s/t/e/User%7EStev0_d3b3.html" title="User:Stev0">Stev0</a>, <a href="../../../l/i/n/User%7ELindsay658_d7de.html" title="User:Lindsay658">Lindsay658</a>, <a href="../../../d/c/o/User%7EDcoetzee_a2a7.html" title="User:Dcoetzee">Dcoetzee</a>, <a href="../../../r/y/a/User%7ERyan_Reich_feb7.html" title="User:Ryan Reich">Ryan Reich</a>, NavenduJain, Drangon, <a href="../../../d/r/a/User%7EDrae_dd38.html" title="User:Drae">Drae</a>, Pfunk42, <a href="../../../c/h/a/User%7ECharles_Matthews_cceb.html" title="User:Charles Matthews">Charles Matthews</a>, <a href="../../../c/h/o/User%7EChobot_0dce.html" title="User:Chobot">Chobot</a>, <a href="../../../t/h/e/User%7EThe_Anome_61a9.html" title="User:The Anome">The Anome</a>, Vsriram, <a href="../../../f/r/e/User%7EFredrik_8a6d.html" title="User:Fredrik">Fredrik</a>, Payrard, <a href="../../../s/u/s/User%7ESusvolans_0bbe.html" title="User:Susvolans">Susvolans</a>, <a href="../../../c/h/o/User%7EChocolateboy_d22d.html" title="User:Chocolateboy">Chocolateboy</a>, <a href="../../../s/u/b/User%7ESubrabbit_d398.html" title="User:Subrabbit">Subrabbit</a>, <a href="../../../s/h/a/User%7EShaunMacPherson_703f.html" title="User:ShaunMacPherson">ShaunMacPherson</a>, Agl, <a href="../../../e/d/w/User%7EEdward_42f0.html" title="User:Edward">Edward</a> and <a href="../../../e/v/i/User%7EEvilGrin_5c8e.html" title="User:EvilGrin">EvilGrin</a> and Anonymous user(s) of Wikipedia.</li>	  <li id="f-copyright">All text is available under the terms of the <a class='internal' href="../../../t/e/x/Wikipedia%7EText_of_the_GNU_Free_Documentation_License_702a.html" title="Wikipedia:Text of the GNU Free Documentation License">GNU Free Documentation License</a>. (See <b><a class='internal' href="../../../c/o/p/Wikipedia%7ECopyrights_92c4.html" title="Wikipedia:Copyrights">Copyrights</a></b> for details.) <br /> Wikipedia&reg; is a registered trademark of the <a href="http://www.wikimediafoundation.org">Wikimedia Foundation, Inc</a>., a US-registered <a class='internal' href="../../../5/0/1/501%28c%29.html#501.28c.29.283.29" title="501(c)(3)">501(c)(3)</a> <a href="http://wikimediafoundation.org/wiki/Deductibility_of_donations">tax-deductible</a> <a class='internal' href="../../../n/o/n/Non-profit_organization.html" title="Non-profit organization">nonprofit</a> <a href="../../../c/h/a/Charitable_organization.html" title="Charitable organization">charity</a>.<br /></li>	  <li id="f-about"><a href="../../../a/b/o/Wikipedia%7EAbout_8d82.html" title="Wikipedia:About">About Wikipedia</a></li>	  <li id="f-disclaimer"><a href="../../../g/e/n/Wikipedia%7EGeneral_disclaimer_3e44.html" title="Wikipedia:General disclaimer">Disclaimers</a></li>	  	</ul>
      </div>
    </div>
  </body>
</html>
