<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    		<meta name="keywords" content="User:BLANKSON200" />
		<link rel="shortcut icon" href="/favicon.ico" />
		<link rel="search" type="application/opensearchdescription+xml" href="/w/opensearch_desc.php" title="Wikipedia (English)" />
		<link rel="copyright" href="../../../COPYING.html" />
    <title>User:BLANKSON200 - Wikipedia, the free encyclopedia</title>
    <style type="text/css">/*<![CDATA[*/ @import "../../../skins/htmldump/main.css"; /*]]>*/</style>
    <link rel="stylesheet" type="text/css" media="print" href="../../../skins/common/commonPrint.css" />
    <!--[if lt IE 5.5000]><style type="text/css">@import "../../../skins/monobook/IE50Fixes.css";</style><![endif]-->
    <!--[if IE 5.5000]><style type="text/css">@import "../../../skins/monobook/IE55Fixes.css";</style><![endif]-->
    <!--[if IE 6]><style type="text/css">@import "../../../skins/monobook/IE60Fixes.css";</style><![endif]-->
    <!--[if IE]><script type="text/javascript" src="../../../skins/common/IEFixes.js"></script>
    <meta http-equiv="imagetoolbar" content="no" /><![endif]-->
    <script type="text/javascript" src="../../../skins/common/wikibits.js"></script>
    <script type="text/javascript" src="../../../skins/htmldump/md5.js"></script>
    <script type="text/javascript" src="../../../skins/htmldump/utf8.js"></script>
    <script type="text/javascript" src="../../../skins/htmldump/lookup.js"></script>
    <script type="text/javascript" src="../../../raw/gen.js"></script>        <style type="text/css">/*<![CDATA[*/
@import "../../../raw/MediaWiki%7ECommon.css";
@import "../../../raw/MediaWiki%7EMonobook.css";
@import "../../../raw/gen.css";
/*]]>*/</style>          </head>
  <body
    class="ns-2">
    <div id="globalWrapper">
      <div id="column-content">
	<div id="content">
	  <a name="top" id="contentTop"></a>
	        <h1 class="firstHeading">User:BLANKSON200</h1>
	  <div id="bodyContent">
	    <h3 id="siteSub">From Wikipedia, the free encyclopedia</h3>
	    <div id="contentSub"></div>
	    	    <div class="usermessage">You have <a href="../../../1/2/7/User_talk%7E127.0.0.1.html" title="User talk:127.0.0.1">new messages</a> (<a href="../../../1/2/7/User_talk%7E127.0.0.1.html" title="User talk:127.0.0.1">last change</a>).</div>	    <!-- start content -->
	    <p>PL/SQL From Wikipedia, the free encyclopedia Jump to: navigation, search</p>
<p>PL/SQL (Procedural Language/Structured Query Language) is Oracle Corporation's proprietary server-based procedural extension to the SQL database language. (Some other SQL database management systems offer languages similar to PL/SQL.) Its syntax strongly resembles that of the Ada programming language. Contents [hide]</p>
<pre>
   * 1 Functionality
   * 2 Basic code structure
   * 3 Variables
         o 3.1 Numeric variables
         o 3.2 Character variables
         o 3.3 Boolean variables
         o 3.4 Date variables
         o 3.5 Datatypes for specific columns
         o 3.6 User-defined datatypes
   * 4 Array-handling
   * 5 Looping
         o 5.1 LOOP statements
         o 5.2 WHILE loops
         o 5.3 FOR loops
         o 5.4 Cursor FOR loops
   * 6 Similar languages
   * 7 References
</pre>
<p>[edit] Functionality</p>
<p>PL/SQL supports variables, conditions, arrays, and exceptions. Implementations from version 8 of the Oracle RDBMS onwards have included features associated with object-orientation.</p>
<p>The underlying SQL functions as a declarative language. Standard SQL—unlike some functional programming languages—does not require implementations to convert tail calls to jumps. SQL does not readily provide "first row" and "rest of table" accessors, and it cannot easily perform some constructs such as loops. PL/SQL, however, as a Turing-complete procedural language which fills in these gaps, allows Oracle database developers to interface with the underlying relational database in an imperative manner. SQL statements can make explicit in-line calls to PL/SQL functions, or can cause PL/SQL triggers to fire upon pre-defined Data Manipulation Language (DML) events.</p>
<p>PL/SQL stored procedures (functions, procedures, packages, and triggers) which perform DML get compiled into an Oracle database: to this extent their SQL code can undergo syntax-checking. Programmers working in an Oracle database environment can construct PL/SQL blocks of such functionality to serve as procedures, functions; or they can write in-line segments of PL/SQL within SQL*Plus scripts.</p>
<p>While programmers can readily incorporate SQL DML statements into PL/SQL (as cursor definitions, for example, or using the SELECT ... INTO syntax), Data Definition Language (DDL) statements such as CREATE TABLE/DROP INDEX etc require the use of "Dynamic SQL". Earlier versions of Oracle required the use of a complex built-in DBMS_SQL package for Dynamic SQL where the system needed to explicitly parse and execute an SQL statement. Later versions have included an EXECUTE IMMEDIATE syntax called "Native Dynamic SQL" which considerably simplifies matters. Any use of DDL in Oracle will result in an implicit commit. Programmers can also use Dynamic SQL to execute DML where they do not know the exact content of the statement in advance.</p>
<p>PL/SQL offers several pre-defined packages for specific purposes. Such PL/SQL packages include:</p>
<pre>
   * DBMS_OUTPUT - for output operations to non-database destinations
   * DBMS_JOB - for running specific procedures/functions at a particular time (i.e. scheduling)
   * DBMS_XPLAN - for formatting "Explain Plan" output
   * DBMS_SESSION - provides access to SQL ALTER SESSION and SET ROLE statements, and other session information.
   * DBMS_METADATA - for extracting meta data from the data dictionary (such as DDL statements)
   * UTL_FILE - for reading and writing files on disk
   * UTL_HTTP - for making requests to web servers from the database
   * UTL_SMTP - for sending mail from the database (via an SMTP server)
</pre>
<p>Oracle Corporation customarily adds more packages and/or extends package functionality with each successive release of the Oracle DBMS.</p>
<p>[edit] Basic code structure</p>
<p>PL/SQL programs consist of blocks. Blocks take the general form:</p>
<pre>
   DECLARE
       -- Declaration block (optional)
   BEGIN
      -- Program proper
   EXCEPTION
      -- Exception-handling (optional)
   END
</pre>
<pre>
   /* Sample comment spanning
</pre>
<pre>
   multiple lines... */
</pre>
<pre>
   --Single-line comment
</pre>
<p>The DECLARE section specifies the datatypes of variables, constants, collections, and user-defined types .</p>
<p>The block between BEGIN and END specifies executable procedural code.</p>
<p>Exceptions, errors which arise during the execution of the code, have one of two types:</p>
<pre>
  1. pre-defined exceptions
  2. user-defined exceptions.
</pre>
<p>Programmers have to raise user-defined exceptions explicitly. They can do this by using the RAISE command, with the syntax: RAISE &lt;exception name&gt;</p>
<p>Oracle Corporation has pre-defined several exceptions like NO_DATA_FOUND, TOO_MANY_ROWS, etc. Each exception has an SQL Error Number and SQL Error Message associated with it. Programmers can access these by using the SQLCODE and SQLERRM functions. [edit] Variables</p>
<p>The DECLARE section defines and (optionally) initialises variables. If not initialised specifically they default to 0 or to null.</p>
<p>For example:</p>
<pre>
   declare
       number1 number(2);
       number2 number(2) := 17;
       text varchar2(12) := 'Hello world';
   begin
       select street_number into number1 from address where name='Smith';
   end;
</pre>
<p>The symbol := functions as an assignment operator to store a value in a variable.</p>
<p>The major datatypes in PL/SQL include NUMBER, INTEGER, CHAR, VARCHAR2, DATE, TIMESTAMP, TEXT etc. [edit] Numeric variables</p>
<p>variable_name number(P[,S]) := value;</p>
<p>To define a numeric variable, the programmer appends the variable type NUMBER to the name definition. To specify the (optional) precision (P) and the (optional) scale (S), one can further append these in round brackets, separated by a comma. ("Precision" in this context refers to the number of digits which the variable can hold, "scale" refers to the number of digits which can follow the decimal point.)</p>
<p>A selection of other datatypes for numeric variables would include:</p>
<pre>
   binary_float, binary_double, dec, decimal, double precision, float ,integer, int, numeric, real, smallint, binary_integer, pls_integer
</pre>
<p>[edit] Character variables</p>
<p>variable_name varchar2(L) := 'Text';</p>
<p>To define a character variable, the programmer normally appends the variable type VARCHAR2 to the name definition. There follows in brackets the maximum number of characters which the variable can store.</p>
<p>Other datatypes for character variables include:</p>
<pre>
   varchar, char, long, raw, long raw, nchar, nchar2
</pre>
<p>[edit] Boolean variables</p>
<p>variable_name boolean:= true;</p>
<p>Boolean variables can convey TRUE, FALSE or NULL.</p>
<p>[edit] Date variables</p>
<p>variable_name date := '01-Jan-2005';</p>
<p>Programmers define date variables by appending the datatype code "DATE" to a variable name. The Oracle DBMS provides the function "to_date" to convert strings to date values. The function converts the first quoted string into a date, using as a definition the second quoted string.</p>
<p>For example: "to_date('31-12-2004','dd-mm-yyyy')" or "to_date('31-Dec-2004','dd-mon-yyyy', 'NLS_DATE_LANGUAGE = American')"</p>
<p>To convert dates into text one uses the function "to_char ( date_string, format_string )".</p>
<p>[edit] Datatypes for specific columns</p>
<p>Variable_name Table_name.Column_name%type;</p>
<p>This syntax defines a variable of the type of the referenced column on the referenced table.</p>
<p>[edit] User-defined datatypes</p>
<p>Programmers specify user-defined datatypes with the syntax:</p>
<p>"type data_type is record(field_1 type_1 :=xyz, field_2 type_2 :=xyz, ..., field_n type_n :=xyz);"</p>
<p>For example:</p>
<pre>
   declare
       type t_address is record(
           name address.name%type,
           street address.street%type,
           street_number address.street_number%type,
           postcode address.postcode%type);
       v_address t_address;
   begin
       select name,street, street_number, postcode into v_address from address where rownum = 1;
   end;
</pre>
<p>This sample program defines its own datatype, called t_address, which contains the fields name, street, street_number and postcode.</p>
<p>Using this datatype the programmer has defined a variable called v_address and loaded it with data from the ADDRESS table.</p>
<p>Programmers can address individual attributes in such a structure by means of the dot-notation, thus: "v_address.street := 'High Street';"</p>
<p>[edit] Array-handling</p>
<p>PL/SQL refers to arrays as "collections". The language offers three types of collections:</p>
<pre>
  1. Index-by tables (associative arrays)
  2. Nested tables
  3. Varrays (variable-size arrays)
</pre>
<p>Programmers must specify an upper limit for varrays, but need not for index-by tables or for nested tables. The language includes several collection methods used to manipulate collection elements: for example FIRST, LAST, NEXT, PRIOR, EXTEND, TRIM, DELETE, etc.</p>
<p>[edit] Looping</p>
<p>As a procedural language by definition, PL/SQL provides iteration. Programmers can utilise:</p>
<pre>
  1. LOOP statements
  2. WHILE loops
  3. FOR loops
  4. Cursor FOR loops
</pre>
<p>[edit] LOOP statements</p>
<p>Syntax:</p>
<p>LOOP</p>
<pre>
 ...do something...
 EXIT;
</pre>
<p>END LOOP;</p>
<p>Loops can be terminated by using the EXIT keyword, or by raising an exception.</p>
<p>[edit] WHILE loops</p>
<p>Syntax:</p>
<p>WHILE condition LOOP</p>
<pre>
 ...do something...
</pre>
<p>END LOOP;</p>
<p>[edit] FOR loops</p>
<p>FOR loops, also called "numerical loops", operate a certain (counted) number of times.</p>
<pre>
   FOR &lt;variable(numeric)&gt; IN [REVERSE] &lt;lowerbound&gt;..&lt;upperbound&gt; LOOP .... ..... END LOOP;
</pre>
<p>The REVERSE keyword implements looping in reverse order.</p>
<p>[edit] Cursor FOR loops</p>
<pre>
   for Record-Index in (Select person_code from people_table)
</pre>
<pre>
   loop
   ...
   end loop;
</pre>
<p>Cursor-for loops automatically open a cursor, read in their data and close the cursor again</p>
<p>As an alternative, the PL/SQL programmer can pre-define the cursor's SELECT-statement in advance in order (for example) to allow re-use or to make the code more understandable (especially useful in the case of long or complex queries).</p>
<pre>
   cursor cursor_person is
</pre>
<pre>
   Select person_code from people_table;
   for Record-Index in cursor_person
</pre>
<pre>
   loop
   ...
   end loop;
</pre>
<p>The concept of the person_code within the FOR-loop gets expressed with dot-notation ("."):</p>
<pre>
   Record-Index.person_code
</pre>
<p>.. example: declare</p>
<pre>
   var number;
</pre>
<p>begin</p>
<pre>
   for var in 0 ..10 loop
</pre>
<pre>
       dbms_output.put_line(var);
</pre>
<pre>
   end loop;
</pre>
<p>end; / OUTPUT-</p>
<p>0 1 2 3 4 5 6 7 8 9 10</p>
<p>[edit] Similar languages</p>
<p>PL/SQL functions analogously to the embedded procedural languages associated with other relational databases. Sybase and its derivative Microsoft SQL Server have Transact-SQL, PostgreSQL has PL/pgSQL (which tries to emulate PL/SQL to an extent), and IBM DB2 includes SQL Procedural Language (SQL PL).</p>
<p>The designers of PL/SQL modelled its syntax on that of Ada. Both Ada and PL/SQL have Pascal as a common ancestor, and so PL/SQL also resembles Pascal in numerous aspects. The structure of a PL/SQL package closely resembles the basic Pascal's program structure, or a Borland Delphi unit. Programmers can define global data-types, constants and static variables, public and private, in a PL/SQL package.</p>
<p>PL/SQL also allows for the definition of classes and instantiating these as objects in PL/SQL code. This resembles usages in object-oriented programming languages like Borland Delphi, C++ and Java. PL/SQL refers to a class as an "Advanced Data Type" (ADT), and defines it as an Oracle SQL data-type as opposed to a PL/SQL user-defined type, allowing its use in both the Oracle SQL Engine and the Oracle PL/SQL engine. The constructor and methods of an Advanced Data Type are written in PL/SQL. The resulting Advanced Data Type can operate as an object class in PL/SQL. Such objects can also persist as column values in Oracle database tables.</p>
<p>PL/SQL does not resemble Transact-SQL, despite superficial similarities due to the use of both as embedded database languages. Porting code from one to the other usually involves non-trivial work, not only due to the differences in the feature sets of the two languages, but also due to the very significant differences in the way Oracle and SQL-Server deal with concurrency and locking.</p>
<p>The Fyracle project aims to enable the execution of PL/SQL code in the open-source Firebird database.</p>
<p>[edit] References Wikibooks Wikibooks has a book on the topic of Programming:Oracle PL/SQL Cheatsheet</p>
<pre>
   * Feuerstein, Steven, with Bill Pribyl (2005). Oracle PL/SQL Programming, 4th ed., O'Reilly &amp; Associates. <a href="../../../b/o/o/Special%7EBooksources_ed7b.html" class="internal">ISBN 0-596-00977-1</a>.
   * Naudé, Frank (June 9, 2005). Oracle PL/SQL FAQ rev 2.08.
</pre>
<p>Retrieved from "<a href="http://en.wikipedia.org/wiki/PL/SQL" class="external free" title="http://en.wikipedia.org/wiki/PL/SQL" rel="nofollow">http://en.wikipedia.org/wiki/PL/SQL</a>"</p>
<p>Categories: Data management | Ada programming language family | Oracle Corporation | SQL | Data-centric programming languages Views</p>
<pre>
   * Article
   * Discussion
   * Edit this page
   * History
   * Watch
</pre>
<p>Personal tools</p>
<pre>
   * BLANKSON200
   * My talk
   * My preferences
   * My watchlist
   * My contributions
   * Log out
</pre>
<p>Navigation</p>
<pre>
   * Main Page
   * Community Portal
   * Featured articles
   * Current events
   * Recent changes
   * Random article
   * Help
   * Contact Wikipedia
   * Donations
</pre>
<p>Search</p>
<p>Toolbox</p>
<pre>
   * What links here
   * Related changes
   * Upload file
   * Special pages
   * Printable version
   * Permanent link
   * Cite this article
</pre>
<p>In other languages</p>
<pre>
   * Česky
   * Deutsch
   * Español
   * Français
   * Italiano
   * Nederlands
   * 日本語
   * Polski
   * Português
   * Русский
   * Slovenčina
   * Svenska
   * ไทย
</pre>
<p>MediaWiki Wikimedia Foundation</p>
<pre>
   * This page was last modified 02:37, 21 November 2006.
   * All text is available under the terms of the GNU Free Documentation License. (See Copyrights for details.)
     Wikipedia® is a registered trademark of the Wikimedia Foundation, Inc.
   * Privacy policy
   * About Wikipedia
   * Disclaimers
</pre>
<div class="printfooter">
Retrieved from "<a href="http://en.wikipedia.org../../../b/l/a/User%7EBLANKSON200_525a.html">http://en.wikipedia.org../../../b/l/a/User%7EBLANKSON200_525a.html</a>"</div>
	    	    <!-- end content -->
	    <div class="visualClear"></div>
	  </div>
	</div>
      </div>
      <div id="column-one">
	<div id="p-cactions" class="portlet">
	  <h5>Views</h5>
	  <ul>
	    <li id="ca-nstab-user"
	       class="selected"	       ><a href="../../../b/l/a/User%7EBLANKSON200_525a.html">User page</a></li><li id="ca-talk"
	       class="new"	       ><a href="../../../b/l/a/User_talk%7EBLANKSON200_3761.html">Discussion</a></li><li id="ca-current"
	       	       ><a href="http://en.wikipedia.org/wiki/User:BLANKSON200">Current revision</a></li>	  </ul>
	</div>
	<div class="portlet" id="p-logo">
	  <a style="background-image: url(../../../images/wiki-en.png);"
	    href="../../../index.html"
	    title="Main Page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
		<div class='portlet' id='p-navigation'>
	  <h5>Navigation</h5>
	  <div class='pBody'>
	    <ul>
	    	      <li id="n-Main-page"><a href="../../../index.html">Main page</a></li>
	     	      <li id="n-Contents"><a href="../../../c/o/n/Wikipedia%7EContents_3181.html">Contents</a></li>
	     	      <li id="n-Featured-content"><a href="../../../f/e/a/Wikipedia%7EFeatured_content_24ba.html">Featured content</a></li>
	     	      <li id="n-currentevents"><a href="../../../c/u/r/Portal%7ECurrent_events_bb60.html">Current events</a></li>
	     	    </ul>
	  </div>
	</div>
		<div class='portlet' id='p-interaction'>
	  <h5>interaction</h5>
	  <div class='pBody'>
	    <ul>
	    	      <li id="n-About-Wikipedia"><a href="../../../a/b/o/Wikipedia%7EAbout_8d82.html">About Wikipedia</a></li>
	     	      <li id="n-portal"><a href="../../../c/o/m/Wikipedia%7ECommunity_Portal_6a3c.html">Community portal</a></li>
	     	      <li id="n-contact"><a href="../../../c/o/n/Wikipedia%7EContact_us_afd6.html">Contact us</a></li>
	     	      <li id="n-sitesupport"><a href="http://wikimediafoundation.org/wiki/Fundraising">Make a donation</a></li>
	     	      <li id="n-help"><a href="../../../c/o/n/Help%7EContents_22de.html">Help</a></li>
	     	    </ul>
	  </div>
	</div>
		<div id="p-search" class="portlet">
	  <h5><label for="searchInput">Search</label></h5>
	  <div id="searchBody" class="pBody">
	    <form action="javascript:goToStatic(3)" id="searchform"><div>
	      <input id="searchInput" name="search" type="text"
	        accesskey="f" value="" />
	      <input type='submit' name="go" class="searchButton" id="searchGoButton"
	        value="Go" />
	    </div></form>
	  </div>
	</div>
	      </div><!-- end of the left (by default at least) column -->
      <div class="visualClear"></div>
      <div id="footer">
    <div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="../../../skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" /></a></div>	<div id="f-copyrightico"><a href="http://wikimediafoundation.org/"><img src="../../../images/wikimedia-button.png" border="0" alt="Wikimedia Foundation"/></a></div>	<ul id="f-list">
	  	  	  <li id="f-credits">This page was last modified 18:22, 23 November 2006 by Wikipedia user <a href="../../../b/l/a/User%7EBLANKSON200_525a.html" title="User:BLANKSON200">BLANKSON200</a>. </li>	  <li id="f-copyright">All text is available under the terms of the <a class='internal' href="../../../t/e/x/Wikipedia%7EText_of_the_GNU_Free_Documentation_License_702a.html" title="Wikipedia:Text of the GNU Free Documentation License">GNU Free Documentation License</a>. (See <b><a class='internal' href="../../../c/o/p/Wikipedia%7ECopyrights_92c4.html" title="Wikipedia:Copyrights">Copyrights</a></b> for details.) <br /> Wikipedia&reg; is a registered trademark of the <a href="http://www.wikimediafoundation.org">Wikimedia Foundation, Inc</a>., a US-registered <a class='internal' href="../../../5/0/1/501%28c%29.html#501.28c.29.283.29" title="501(c)(3)">501(c)(3)</a> <a href="http://wikimediafoundation.org/wiki/Deductibility_of_donations">tax-deductible</a> <a class='internal' href="../../../n/o/n/Non-profit_organization.html" title="Non-profit organization">nonprofit</a> <a href="../../../c/h/a/Charitable_organization.html" title="Charitable organization">charity</a>.<br /></li>	  <li id="f-about"><a href="../../../a/b/o/Wikipedia%7EAbout_8d82.html" title="Wikipedia:About">About Wikipedia</a></li>	  <li id="f-disclaimer"><a href="../../../g/e/n/Wikipedia%7EGeneral_disclaimer_3e44.html" title="Wikipedia:General disclaimer">Disclaimers</a></li>	  	</ul>
      </div>
    </div>
  </body>
</html>
